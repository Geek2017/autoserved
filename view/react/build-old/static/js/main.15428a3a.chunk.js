(this.webpackJsonpautoserved=this.webpackJsonpautoserved||[]).push([[0],{213:function(e){e.exports=JSON.parse('{"lblEmail":"Email Address","lblPassword":"Password","lblConfirmPassword":"Confirm Password","lblRemember":"Remember me","lblFullName":"Full Name","lblCountry":"Country","lblLogin":"Login","lblLoading":"Loading...","lblAgree":"I agree with the","lblToc":"Terms & Conditions","lblPrivacy":"Privacy Policy","logoAlt":"AutoServed Logo","phEmail":"Enter email address","phPassword":"Password","phFullName":"Enter full name (Last Name, First Name)","phConfirmPassword":"Confirm Password","phSearch":"Looking for something...","phMobileNumber":"Enter mobile number","phShopName":"Enter shop name","phSelectOption":"Select an option","phSelectRepairType":"Select a repair type","phSelectRepair":"Select a repair","phSelectShop":"Select a shop","phSelectCapacityType":"Select a capacity type","phSelectCapacity":"Select a capacity","phMinimumPrice":"Minimum price","phMaximumPrice":"Maximum price","phBriefDescription":"Provide a brief description (Optional)","phServiceSearch":"Service name or Shops","phSelectCarMake":"Select a car make","phSelectCarModel":"Select a car model","phSelectCarTrim":"Select a car trim","phSelectCarYear":"Select a car year","phCurrentMileage":"Enter current car mileage","phPlateNumber":"Enter plate number","tblColShop":"Shop","tblColShops":"Shops","tblColShopCity":"City","tblColStatus":"Status","tblColType":"Type","tblColActions":"Actions","tblColNumberSign":"#","tblColServiceName":"Service Name","tblColMin":"Min","tblColMax":"Max"}')},214:function(e){e.exports=JSON.parse('{"generalError":"An error has occurred. Please try again in a few minutes.","successCreateShop":"Shop `{{name}}` has been created.","successRegisterShop":"Thank you for signing up with AutoServed. Your shop `{{name}}` is now being queued for review. Please check your email for your temporary password.","successRegisterFleet":"Thank you for signing up with AutoServed. Your fleet company `{{name}}` is now being queued for review. Please check your email for your temporary password.","successRegisterCustomer":"Thank you for signing up with AutoServed. To validate your account, please check your email.","successUpdateShop":"Your shop `{{name}}` has been successfully updated!","successUpload":"Your file has been successfully uploaded!","successUpdateApplication":"Your application details has been updated!","successCreateService":"Your service `{{name}}` has been created.","successUpdatePmsService":"PMS mileage `{{mileage}}` has been updated!","successCreateCar":"Your car `{{car_make.name}} - {{car_model.name}} {{car_trim.name}}` has been created.","appName":"AutoServed","ttlLogin":"Login To Your Account","ttlShops":"Shops","ttlServices":"Services","ttlShopDetails":"Details","ttlShopsCreated":"Managed Shops","ttlAccountActivities":"Recent Account Activities","ttlCarProfilesCreated":"Managed Cars","ttlCarProfile":"Cars","ttlCarSchedule":"Car Schedules","ttlCreateNewAccount":"Create New Account","subTtlCarProfile":"My Garage","subTtlCorrectiveServices":"Corrective","subTtlPreventiveServices":"Preventive Maintenance","subTtlShop":"Shop","subTtlShops":"Branches","subTtlSchedule":"Schedules","txtCopyright":"Copyright \xa9 2019 AutoServed","txtActivationRequirements":"Activation Requirements","txtVerified":"Verified","txtUnverified":"Unverified","txtWalletValue":"Wallet Value","txtCarsOwned":"Cars Owned","txtShopsOwned":"Shops Owned","txtEmail":"Email","txtServices":"Services","txtCountry":"Country","txtMobileNumber":"Mobile Number","txtLocation":"Address","txtPaymentMethod":"Payment Method","txtPhone":"Phone","txtProfileCompletion":"Profile Completion","txtOperations":"Operating Hours","txtFeatures":"Features","txtSpecialTools":"Special Tools","txtAmenities":"Amenities","txtProgress":"Progress","txtCompleteItems":"Complete items","txtCompleteProfile":"Complete your profile to get listed","txtCarProfileCaption":"This page displays all the cars in your garage.","txtCarProfileNoCars":"You have no saved cars. Add a new car to keep track of its service history and scheduled maintenance requirements.","txtCarMake":"Make","txtCarModel":"Model","txtCarYear":"Year","txtCarTrim":"Trim","txtCarYearUnsure":"Not sure","txtCarDeletionConfirmation":"You are about to do something destructive, are you sure?","txtCarDeletionAgreement":"To remove this car, please agree to the following points.","txtCarDeletionAgreementRequests":"I understand that all associated quotes with this car will be removed.","txtCarDeletionAgreementData":"I understand that I won\'t be able to retrieve a deleted car.","txtError404":"404","txtError404Message":"Looking for something?","txtError404SubMessage":"We\'re very sorry. We couldn\'t find what you\'re looking for.","menuTitleManage":"Manage","menuTitlePromotions":"Promotions","menuAbout":"About","menuAppointments":"Appointments","menuBlog":"Blog","menuDashboard":"Dashboard","menuEstimates":"Estimates","menuMechanics":"Mechanics","menuRequests":"Requests","menuOrders":"Orders","menuLogout":"Logout","menuLoyaltyProgram":"Loyalty Program","menuPrivacyPolicy":"Privacy Policy","menuProfile":"Profile","menuPromotion":"Give P150, Get P150","menuServices":"Services","menuSettings":"Settings","menuShops":"Shops","menuPersonnels":"Personnel","menuReviews":"Reviews","menuReport":"Report","menuTransactionHistory":"Transaction History","menuReferrals":"Referrals","menuVendors":"Vendors","menuCustomers":"Customers","menuCarProfiles":"Car Profiles","menuSchedules":"Car Schedules","menuRepairHistory":"Repair History","lnkForgot":"Forgot your password?","lnkSignIn":"Sign In?","lnkRegister":"Create a new account","btnCreateNewShop":" Create New Shop","btnCreateShop":" Create Shop","btnCreateService":" Create Service","btnCreateNewService":" Create New Service","btnCreateCarProfile":" Create Car Profile","btnCreateNewCar":" Create New Car Profile","btnCancel":" Cancel","btnEditShop":" Update Shop Details","btnUploadDocuments":" Upload Shop Documents","btnDeleteCarProfile":" I am sure. Delete it","btnGoBack":" Go Back","btnShop":"Shop","btnCustomer":"Customer","btnRegister":"Register","tblTitleShops":"List of Shops","tblTitleServices":"List of Services","mdlTtlShop":"Create New Shop","mdlTtlService":"Create New Service","mdlTtlCarProfile":"Create New Car Profile","mdlTtlCarProfileDelete":"Car Profile Deletion","successCreateCarProfile":"Successful Creating Car Profile","ttlCarProfiles":"Car Profiles","subTtlCarProfiles":"Car Profile Sub Title","btnCreateNewCarProfile":"Create New Car Profile","tblTitleCarProfiles":"List of Car Profiles","successCreateCarSchedule":"Successful Creating Car Schedule","ttlCarSchedules":"Car Schedules","subTtlCarSchedules":"Car Schedule Sub Title","btnCreateNewCarSchedule":"Create New Car Schedule","tblTitleCarSchedules":"List of Car Schedules","mdlTtlCarSchedule":"Create New Car Schedule","btnCreateCarSchedule":"Create Car Schedule"}')},215:function(e){e.exports=JSON.parse('{"errShopName":"Invalid shop name","errPrice":"Max price is less than min price","errMobileNumber":"Invalid mobile number","errCarProfileName":"Invalid Car Profile Name","errCarMake":"Invalid Car Make","errCarModel":"Invalid Car Model","errCarSerie":"Invalid Car Serie","errCarTrim":"Invalid Car Trim","errEngineType":"Invalid Engine Type","errTransmisionType":"Invalid Transmision Type","errCarColor":"Invalid Car Color","errPlateNumber":"Invalid Plate Number","errDatePurchased":"Invalid Date Purchased","errCurrentMileage":"Invalid Current Mileage","errLastServiced":"Invalid Last Serviced","errCarSchedule":"Invalid Car Schedule","errCarMileage":"Invalid Car Mileage","errCarRequirements":"Invalid Car Requirements","errCarNotes":"Invalid Car Notes","errCarID":"Invalid Car ID","errName":"Invalid name format","errEmail":"Invalid email address","errPassword":"Password should not be less than 8 characters and should match confirmation"}')},221:function(e,t,a){e.exports=a(402)},276:function(e,t,a){e.exports=a.p+"static/media/default-avatar.471a1ad3.png"},277:function(e,t,a){e.exports=a.p+"static/media/default-car-image.4477fe9c.png"},278:function(e,t,a){e.exports=a.p+"static/media/default-car-avatar.3370fc3f.png"},279:function(e,t,a){e.exports=a.p+"static/media/default-shop-avatar.fc83867f.png"},280:function(e,t,a){e.exports=a.p+"static/media/default-shop-banner.bb9ebd37.jpg"},281:function(e,t,a){e.exports=a.p+"static/media/login-banner.cc30ea8e.png"},282:function(e,t){e.exports="data:image/png;base64,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"},283:function(e,t){e.exports="data:image/png;base64,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"},284:function(e,t,a){e.exports=a.p+"static/media/estimates-icon.1c4bf2be.png"},285:function(e,t){e.exports="data:image/png;base64,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"},286:function(e,t,a){e.exports=a.p+"static/media/requests-icon.3b19be95.png"},287:function(e,t,a){e.exports=a.p+"static/media/appointments-icon.e03a93eb.png"},288:function(e,t,a){e.exports=a.p+"static/media/services-icon.15f6d0b0.png"},289:function(e,t,a){e.exports=a.p+"static/media/dashboard.9d62679d.png"},290:function(e,t,a){e.exports=a.p+"static/media/appointment.79c5d389.png"},291:function(e,t,a){e.exports=a.p+"static/media/request.cb87dca5.png"},292:function(e,t,a){e.exports=a.p+"static/media/estimate.e687a04d.png"},293:function(e,t,a){e.exports=a.p+"static/media/repair.96a9595a.png"},294:function(e,t,a){e.exports=a.p+"static/media/shop.652e30f6.png"},295:function(e,t,a){e.exports=a.p+"static/media/car.a2a332db.png"},296:function(e,t,a){e.exports=a.p+"static/media/services.47a55306.png"},297:function(e,t,a){e.exports=a.p+"static/media/rate.831ed851.png"},298:function(e,t,a){e.exports=a.p+"static/media/request.51caf315.gif"},299:function(e,t,a){e.exports=a.p+"static/media/car-profile.5dfa4f43.gif"},300:function(e,t,a){e.exports=a.p+"static/media/estimate.e2535719.gif"},301:function(e,t,a){e.exports=a.p+"static/media/services.2460d5f5.gif"},302:function(e,t,a){e.exports=a.p+"static/media/shop.07b46c5a.gif"},303:function(e,t,a){e.exports=a.p+"static/media/notification.15785292.gif"},401:function(e,t,a){},402:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setFirstTimeLogin",(function(){return We})),a.d(n,"toggleSidebar",(function(){return Xe})),a.d(n,"toggleDropDownItem",(function(){return Ke})),a.d(n,"getNotifications",(function(){return Je})),a.d(n,"getAllNotifications",(function(){return Ze})),a.d(n,"readAllNotifications",(function(){return $e}));var r={};a.r(r),a.d(r,"getAppData",(function(){return pt})),a.d(r,"checkLoginStatus",(function(){return ht})),a.d(r,"forgotPassword",(function(){return Et})),a.d(r,"login",(function(){return gt})),a.d(r,"logout",(function(){return ft})),a.d(r,"validateFleet",(function(){return bt})),a.d(r,"registerCustomer",(function(){return At})),a.d(r,"registerFleet",(function(){return vt})),a.d(r,"registerFleetMember",(function(){return Nt})),a.d(r,"registerShop",(function(){return yt})),a.d(r,"resetPassword",(function(){return St}));var l={};a.r(l),a.d(l,"changePassword",(function(){return za})),a.d(l,"getAccountActivities",(function(){return Qa})),a.d(l,"getAccountDetails",(function(){return Va})),a.d(l,"getWallet",(function(){return Ua})),a.d(l,"getTransactions",(function(){return Ha})),a.d(l,"topUp",(function(){return Ya})),a.d(l,"validateTopUp",(function(){return Ga}));var s={};a.r(s),a.d(s,"createShop",(function(){return Ja})),a.d(s,"getShopDetails",(function(){return Za})),a.d(s,"getShops",(function(){return $a})),a.d(s,"getPmsEnabledShops",(function(){return en})),a.d(s,"updateApplication",(function(){return tn})),a.d(s,"updateShop",(function(){return an})),a.d(s,"verifyRequirement",(function(){return nn})),a.d(s,"uploadFile",(function(){return rn}));var c={};a.r(c),a.d(c,"createCarProfile",(function(){return un})),a.d(c,"createCarSchedules",(function(){return dn})),a.d(c,"deleteCarProfile",(function(){return pn})),a.d(c,"editCarProfile",(function(){return hn})),a.d(c,"getCarDetails",(function(){return En})),a.d(c,"getRepairHistory",(function(){return gn})),a.d(c,"getCarSchedules",(function(){return fn})),a.d(c,"getCarSchedule",(function(){return bn})),a.d(c,"getCars",(function(){return An})),a.d(c,"getEngineTypes",(function(){return vn})),a.d(c,"getTransmissionTypes",(function(){return Nn})),a.d(c,"getVehicleTypes",(function(){return yn})),a.d(c,"requestPms",(function(){return Sn})),a.d(c,"requestPmsOther",(function(){return Cn}));var i={};a.r(i),a.d(i,"cancelRequest",(function(){return dr})),a.d(i,"createEstimate",(function(){return pr})),a.d(i,"getRequests",(function(){return hr})),a.d(i,"getRequestDetails",(function(){return Er})),a.d(i,"getScheduleTime",(function(){return gr}));var o={};a.r(o),a.d(o,"clearPmsData",(function(){return Ar})),a.d(o,"getCorrectiveServices",(function(){return vr})),a.d(o,"getMileages",(function(){return Nr})),a.d(o,"getOtherServices",(function(){return yr})),a.d(o,"getOilTypes",(function(){return Sr})),a.d(o,"getOilTypeOptions",(function(){return Cr})),a.d(o,"getPartTypes",(function(){return Or})),a.d(o,"getPartTypeOptions",(function(){return Pr})),a.d(o,"getPmsItem",(function(){return xr})),a.d(o,"getPmsOthersItem",(function(){return wr})),a.d(o,"getPmsOtherPrices",(function(){return _r})),a.d(o,"getPmsOthersLaborPrices",(function(){return Tr})),a.d(o,"getPricedPmsData",(function(){return jr})),a.d(o,"getPricedPmsOthersData",(function(){return Mr})),a.d(o,"getShopPmsData",(function(){return kr})),a.d(o,"getShopPmsLaborPrice",(function(){return Ir})),a.d(o,"getShopPmsOilPrice",(function(){return Dr})),a.d(o,"getVehicleTypes",(function(){return Rr})),a.d(o,"savePmsData",(function(){return Br})),a.d(o,"savePmsOthersData",(function(){return Fr})),a.d(o,"toggleShopPms",(function(){return Lr}));var m={};a.r(m),a.d(m,"createAppointment",(function(){return vl})),a.d(m,"cancelEstimates",(function(){return Nl})),a.d(m,"getEstimates",(function(){return yl})),a.d(m,"getEstimateDetails",(function(){return Sl}));var u={};a.r(u),a.d(u,"rateShop",(function(){return ql})),a.d(u,"rateCustomer",(function(){return zl})),a.d(u,"getAppointments",(function(){return Ql})),a.d(u,"cancelAppointment",(function(){return Vl})),a.d(u,"completeAppointment",(function(){return Ul})),a.d(u,"startAppointment",(function(){return Hl})),a.d(u,"getAppointment",(function(){return Yl})),a.d(u,"approveAppointment",(function(){return Gl}));var d={};a.r(d),a.d(d,"getCarMakes",(function(){return Mc})),a.d(d,"getCarModels",(function(){return kc})),a.d(d,"getCarTrims",(function(){return Ic})),a.d(d,"getCarYears",(function(){return Dc}));var p={};a.r(p),a.d(p,"getUsers",(function(){return vo})),a.d(p,"resendVerification",(function(){return No}));var h=a(0),E=a.n(h),g=a(31),f=a.n(g),b=a(105),A=a(5),v=a(10),N=a(204),y=a(410),S=a(411),C=a(413),O=a(53),P=a(13),x=a(36),w=a(11),_=a(14),T=a(3),j=a(15),M=a(412),k=a(1),I=function(e){var t=e.hidden,a=e.t;return E.a.createElement(k.q,{className:"main-navbar__search w-100 d-none d-md-flex d-lg-flex"},t?null:E.a.createElement(k.y,{seamless:!0,className:"ml-3"},E.a.createElement(k.z,{type:"prepend"},E.a.createElement(k.A,null,E.a.createElement("i",{className:"material-icons"},"search"))),E.a.createElement(k.u,{className:"navbar-search",placeholder:a("common.phSearch")})))};I.defaultProps={hidden:!1};var D=Object(A.b)()(I),R=a(27),B=a(196),F=a(12),L=a.n(F),q=(a(145),a(197)),z=a.n(q),Q=a(78),V=a.n(Q),U="1.3.13",H="https://www.autoserved.com/terms-of-service",Y="https://www.autoserved.com/privacy-policy/",G="https://bit.ly/AutoservedTV",W="https://bit.ly/ReportToAutoserved",X="AIzaSyC3YqZWve5UY9s674PcsoRMq-WqBeNFpMI",K=a(276),J=(a(277),a(278)),Z=a(279),$=a(280),ee=a(281),te=a(282),ae=a(283),ne=a(284),re=a(285),le=a(286),se=a(287),ce=a(288),ie=a(289),oe=a(290),me=a(291),ue=a(292),de=a(293),pe=a(294),he=a(295),Ee=a(296),ge=a(297),fe=a(298),be=a(299),Ae=a(300),ve=a(301),Ne=a(302),ye=a(303),Se=/[\w]+[\w-\s]+/,Ce="customer",Oe="vendor",Pe="image/jpg,image/jpeg,image/png";V.a.defaults.baseURL="https://autoserved.io/api",V.a.defaults.headers.common.Accept="https://autoserved.io/api",V.a.defaults.headers.common["Content-Type"]="https://autoserved.io/api",V.a.defaults.timeout=3e4;var xe=V.a,we=a(9),_e=function(e){var t={Accept:"application/json","Content-Type":"application/json"};return e&&(t=Object(we.a)({},t,{Authorization:"Bearer ".concat(e)})),t},Te=a(136),je=function(e){return"created"===e?"success":"updated"===e?"warning":"danger"},Me=function(e,t){var a=null;switch(e.subject_type){case"App\\Shop":a=function(e,t){return E.a.createElement("div",{key:t,className:"user-activity__item pr-3 py-3"},E.a.createElement("div",{className:"user-activity__item__icon"},E.a.createElement("i",{className:"material-icons"},"shop")),E.a.createElement("div",{className:"user-activity__item__content"},E.a.createElement("span",{className:"text-light",title:e.created_at},L()(e.created_at).fromNow()),E.a.createElement(k.b,{className:"ml-2 text-capitalize",theme:je(e.description),pill:!0},e.description),E.a.createElement("p",null,"Shop data has been ","".concat(e.description),".")),E.a.createElement("div",{className:"user-activity__item__action ml-auto"},E.a.createElement(Te.a,{to:"/shop/".concat(e.subject.slug),className:"ml-auto btn btn-sm btn-white"},"Visit Shop")))}(e,t);break;case"App\\Upload":a=function(e,t){return E.a.createElement("div",{key:t,className:"user-activity__item pr-3 py-3"},E.a.createElement("div",{className:"user-activity__item__icon"},E.a.createElement("i",{className:"material-icons"},"attach_file")),E.a.createElement("div",{className:"user-activity__item__content"},E.a.createElement("span",{className:"text-light",title:e.created_at},L()(e.created_at).fromNow()),E.a.createElement(k.b,{className:"ml-2 text-capitalize",theme:je(e.description),pill:!0},e.description),E.a.createElement("p",null,"A file has been ","".concat(e.description),".")))}(e,t);break;case"App\\User":a=function(e,t){return E.a.createElement("div",{key:t,className:"user-activity__item pr-3 py-3"},E.a.createElement("div",{className:"user-activity__item__icon"},E.a.createElement("i",{className:"material-icons"},"person")),E.a.createElement("div",{className:"user-activity__item__content"},E.a.createElement("span",{className:"text-light",title:e.created_at},L()(e.created_at).fromNow()),E.a.createElement(k.b,{className:"ml-2 text-capitalize",theme:je(e.description),pill:!0},e.description),E.a.createElement("p",null,"User data has been ","".concat(e.description),".")))}(e,t);break;default:a=null}return a},ke="#e0e0e0",Ie=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}),De=new Intl.NumberFormat,Re=function(e){var t=[];if(e){var a=e.registration,n=e.business_permit,r=e.bir,l=e.lifters,s=e.merch_cert,c=e.special_tools,i=e.verified_biz_reg,o=e.verified_permit,m=e.verified_bir_cert,u=e.verified_lifters,d=e.verified_merch_cert,p=e.verified_special_tools;t=[{title:"SEC/DTI Certificate of Registration (25)",done:null!==a&&i},{title:"Mayor's Permit (25)",done:null!==n&&o},{title:"BIR Certificate of Registration (25)",done:null!==r&&m},{title:"Lifters (5)",done:null!==l&&u},{title:"Merchant Certification (10)",done:null!==s&&d},{title:"Special Tools (10)",done:null!==c&&p}]}return t},Be=function(e){var t=[];e&&(t=[{title:"Shop Logo",done:null!==e.avatar},{title:"Shop Banner",done:null!==e.banner},{title:"Address",done:null!==e.address},{title:"Shop Type",done:null!==e.type},{title:"Contact Number",done:null!==e.contact},{title:"Description",done:null!==e.description},{title:"Operating Hours",done:null!==e.operations},{title:"Features",done:null!==e.features},{title:"Amenities",done:null!==e.amenities},{title:"Payment Method",done:null!==e.payment_method}]);return t},Fe=function(e){return"".concat(Number(e<12?e:12===e?12:e-12).toFixed(0),":00 ").concat(e<12?"AM":"PM")},Le=function(e){return[{title:e("translation.menuTitleManage"),items:[{title:e("translation.menuDashboard"),to:"/dashboard",htmlBefore:'<i class="material-icons">donut_large</i>',htmlAfter:""},{title:"Users",to:"/system/users",htmlBefore:'<i class="material-icons">people</i>',htmlAfter:""},{title:"Shops",to:"/system/shops",htmlBefore:'<i class="material-icons">store</i>',htmlAfter:""},{title:"Reports",to:"/system/reports",htmlBefore:'<i class="material-icons">report</i>',htmlAfter:""}]}]},qe=function(e){return[{title:e("translation.menuTitleManage"),items:[{title:e("translation.menuDashboard"),to:"/dashboard",htmlBefore:'<i class="material-icons">donut_large</i>',htmlAfter:"",classData:"c-dashboard",disabled:!1},{title:e("translation.menuCarProfiles"),to:"/cars",htmlBefore:'<i class="material-icons">directions_car</i>',htmlAfter:"",classData:"c-car-profile",disabled:!1},{title:e("translation.menuAppointments"),to:"/appointments",htmlBefore:'<i class="material-icons">calendar_today</i>',htmlAfter:"",classData:"c-appointments",disabled:!1},{title:e("translation.menuRequests"),to:"/requests",htmlBefore:'<i class="material-icons">assignment_return</i>',htmlAfter:"",classData:"c-requests",disabled:!1},{title:e("translation.menuEstimates"),to:"/estimates",htmlBefore:'<i class="material-icons">edit</i>',htmlAfter:"",classData:"c-estimates",disabled:!1}]},{title:"Help Center",items:[{title:"Watch Tutorials",to:null,href:G,htmlBefore:'<i class="material-icons">ondemand_video</i>',htmlAfter:"",disabled:!1},{title:"Report Issues",to:null,href:W,htmlBefore:'<i class="material-icons">report</i>',htmlAfter:"",disabled:!1},{title:"FAQs",to:null,href:"https://bit.ly/AutoservedFAQ",htmlBefore:'<i class="material-icons">speaker_notes</i>',htmlAfter:"",disabled:!1}]}]},ze=function(e){return[{title:e("translation.menuTitleManage"),items:[{title:e("translation.menuDashboard"),to:"/dashboard",htmlBefore:'<i class="material-icons">donut_large</i>',htmlAfter:"",classData:"v-dashboard",disabled:!1},{title:e("translation.menuShops"),to:"/shops",htmlBefore:'<i class="material-icons">store</i>',htmlAfter:"",classData:"v-shops",disabled:!1},{title:e("translation.menuServices"),htmlBefore:'<i class="material-icons">build</i>',htmlAfter:"",disabled:!1,classData:"v-services",open:!1,items:[{title:"Preventive",to:"/services/preventive"}]},{title:e("translation.menuAppointments"),to:"/appointments",htmlBefore:'<i class="material-icons">calendar_today</i>',htmlAfter:"",classData:"v-appointments",disabled:!1},{title:e("translation.menuRequests"),to:"/requests",htmlBefore:'<i class="material-icons">assignment_return</i>',htmlAfter:"",classData:"v-requests",disabled:!1},{title:e("translation.menuEstimates"),to:"/estimates",htmlBefore:'<i class="material-icons">edit</i>',htmlAfter:"",classData:"v-estimates",disabled:!1}]},{title:"Help Center",items:[{title:"Watch Tutorials",to:null,href:G,htmlBefore:'<i class="material-icons">ondemand_video</i>',htmlAfter:"",disabled:!1},{title:"Report Issues",to:null,href:W,htmlBefore:'<i class="material-icons">report</i>',htmlAfter:"",disabled:!1},{title:"FAQs",to:null,href:"https://bit.ly/AutoservedFAQ",htmlBefore:'<i class="material-icons">speaker_notes</i>',htmlAfter:"",disabled:!1}]}]},Qe=function(e){return[{title:e("translation.menuTitleManage"),items:[{title:e("translation.menuDashboard"),to:"/dashboard",htmlBefore:'<i class="material-icons">donut_large</i>',htmlAfter:"",disabled:!1},{title:"Fleet Profile",to:"/profile",htmlBefore:'<i class="material-icons">account_box</i>',htmlAfter:"",disabled:!1},{title:"Members",to:"/members",htmlBefore:'<i class="material-icons">people</i>',htmlAfter:"",disabled:!1},{title:"Fleet Cars",to:"/cars",htmlBefore:'<i class="material-icons">directions_car</i>',htmlAfter:"",disabled:!1}]},{title:"Help Center",items:[{title:"Watch Tutorials",to:null,href:G,htmlBefore:'<i class="material-icons">ondemand_video</i>',htmlAfter:"",disabled:!1},{title:"Report Issues",to:null,href:W,htmlBefore:'<i class="material-icons">report</i>',htmlAfter:"",disabled:!1}]}]},Ve=function(e,t){return t?{admin:Le,customer:qe,fleet_admin:Qe,vendor:ze}[t](e):[]},Ue=a(44),He=function(e){return new Promise((function(t,a){Ue.sessionService.loadSession().then((function(n){n?(Ue.sessionService.loadUser().then(e).catch((function(){return a(!0)})),t(n)):a(!0)})).catch((function(e){a(e)}))}))},Ye=a(45),Ge={isValidEmail:function(e){return null!==e&&Object(Ye.isEmail)(e)},isValidMobileNumber:function(e){return void 0!==e&&null!==e&&10===e.length&&Object(Ye.isNumeric)(e)},isValidName:function(e){return null!==e&&e.length>0},isValidPassword:function(e,t){return null!==e&&null!==t&&e===t&&e.length>=8},isValidPreferredSchedules:function(e){for(var t=!0,a=0;t&&a<e.length;a++){var n=e[a],r=n.date,l=n.time;t=void 0!==r&&void 0!==l}return t},isValidReplacementTypes:function(e,t){for(var a=!0,n=0;a&&n<e.length;n++)a=void 0!==t[e[n]];return a},isValidCompanyName:function(e){return void 0!==e&&null!==e&&Object(Ye.matches)(e,Se)}},We=function(e){return function(t){return new Promise((function(){t({type:"navigation/SET_FIRST_TIME_LOGIN",data:{firstTimeLogin:e}})}))}},Xe=function(e){return function(t){return new Promise((function(){t({type:"navigation/TOGGLE_SIDEBAR_MENU",data:{menuVisible:e}})}))}},Ke=function(e){return function(t){return new Promise((function(){t({type:"navigation/TOGGLE_DROPDOWN_MENU",data:{visibleDropDownItem:e}})}))}},Je=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.get("/account/notifications",{params:{page:e},headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"navigation/GET_IN_APP_NOTIFICATIONS",data:{notifications:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},Ze=function(){return function(e){return new Promise((function(t,a){He((function(n){var r=n.api_token;xe.get("/account/notifications/all",{headers:_e(r)}).then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"navigation/GET_ALL_APP_NOTIFICATIONS",data:{allNotifications:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}))}},$e=function(){return function(e){return new Promise((function(t,a){He((function(n){var r=n.api_token;xe.get("/account/notifications/read",{headers:_e(r)}).then((function(n){var r=n.data,l=r.error;r.success?(e({type:"navigation/READ_ALL_APP_NOTIFICATIONS"}),t(!0)):a(l)})).catch((function(e){a(e)}))}))}))}},et={menuVisible:!1,visibleDropDownItem:null,notifications:[],allNotifications:[],firstTimeLogin:!0},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"navigation/TOGGLE_SIDEBAR_MENU":var a=t.data.menuVisible;return Object(we.a)({},e,{menuVisible:a});case"navigation/TOGGLE_DROPDOWN_MENU":var n=t.data.visibleDropDownItem;return Object(we.a)({},e,{visibleDropDownItem:n});case"navigation/GET_IN_APP_NOTIFICATIONS":var r=t.data.notifications;return Object(we.a)({},e,{notifications:r});case"navigation/GET_ALL_APP_NOTIFICATIONS":var l=t.data.allNotifications;return Object(we.a)({},e,{allNotifications:l});case"navigation/SET_FIRST_TIME_LOGIN":var s=t.data.firstTimeLogin;return Object(we.a)({},e,{firstTimeLogin:s});default:return e}},at=n.getNotifications,nt=new z.a({asset:"../../../../sounds/notification.mp3"}),rt=new B.a({broadcaster:"pusher",key:"991d9a98dd8ca3d0671f",cluster:"ap1",forceTLS:!0}),lt=Object(A.b)()(Object(v.b)((function(e){return{user:e.sessionReducer.user,notifications:e.menuReducer.notifications}}),{getNotifications:at})((function(e){var t=e.user,a=e.getNotifications,n=e.notifications,r=Object(h.useState)(0),l=Object(R.a)(r,2),s=l[0],c=l[1],i=Object(h.useState)(!1),o=Object(R.a)(i,2),m=o[0],u=o[1];return Object(h.useEffect)((function(){a()}),[a]),Object(h.useEffect)((function(){n.length>5&&n.splice(5,n.length-1),c(n.filter((function(e){return!e.read_at})).length)}),[n]),Object(h.useEffect)((function(){var e=t.user_type,n=t.id;if(void 0!==e&&void 0!==n){var r=function(){a(),nt.play()};rt.channel("service-requests.".concat(e)).listen(".new-request",r),rt.channel("notification.".concat(n)).listen(".notification",r)}}),[a,t]),E.a.createElement(k.I,{className:"border-right dropdown notifications"},E.a.createElement(k.J,{className:"btn nav-link-icon text-center",onClick:function(){u(!m),m||(n.length>5&&n.splice(5,n.length-1),c(n.filter((function(e){return!e.read_at})).length))}},E.a.createElement("div",{className:"nav-link-icon__wrapper"},E.a.createElement("i",{className:"material-icons"},"notifications"),E.a.createElement(k.b,{pill:!0,theme:s>0?"danger":"info"},s))),E.a.createElement(k.j,{open:m,className:"dropdown-menu dropdown-menu-small"},n.length?n.map((function(e,t){var a=e.data,n=e.read_at,r=e.created_at;return E.a.createElement(k.n,{href:a.href,key:t},E.a.createElement("div",{className:"notification__icon-wrapper"},E.a.createElement("div",{className:"notification__icon"},E.a.createElement("i",{className:"material-icons"},a.icon))),E.a.createElement("div",{className:"notification__content position-relative"},E.a.createElement("span",{className:"mb-0 notification__category text-capitalize"},void 0!==a.request&&"new ".concat(a.request.type," request"),void 0!==a.estimate&&"estimation",void 0!==a.appointment&&"new appointment",void 0!==a.application&&"activation requirements"),E.a.createElement("p",{className:"mb-0 text-muted"},E.a.createElement("small",null,L()(r).fromNow())),!n&&E.a.createElement("div",{className:"rounded-circle p-1 bg-primary position-absolute",style:{right:10,top:10}}),E.a.createElement("p",null,a.message)))})):E.a.createElement(k.n,null,E.a.createElement("div",{className:"notification__content"},E.a.createElement("p",null,"No notifications received"))),E.a.createElement(k.n,{href:"/notifications",className:"notification__all text-center text-primary"},"View all Notifications")))}))),st="authentication/GET_APP_DATA",ct="authentication/FORGOT_PASSWORD",it="authentication/RESET_PASSWORD",ot="authentication/LOGIN",mt="authentication/LOGOUT",ut="authentication/REGISTER_SHOP",dt="authentication/VALIDATE_FLEET",pt=function(){return function(e){return new Promise((function(t,a){xe.get("/app/version",{headers:_e()}).then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:st,data:{app:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}},ht=function(){return function(e){return new Promise((function(t,a){He((function(a){e({type:"authentication/CHECK_LOGIN_STATUS",data:{user:a}}),t(a)})).then((function(e){if(e){var t=e.rememberMe,n=e.dateLastLoggedIn;if(!t)L()(n).diff(new Date,"days")>=1&&a(!0)}})).catch((function(e){a(e)}))}))}},Et=function(e){return function(t){return new Promise((function(a,n){xe.post("/password/forgot",{email:e}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:ct,data:{email:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}},gt=function(e){return function(t){return new Promise((function(a,n){var r=e.email,l=e.password,s=e.rememberMe,c=e.token;xe.post("/login",{email:r,password:l,rememberMe:s,token:c},{headers:_e()}).then((function(e){var r=e.data,l=r.error,c=r.success,i=r.data;c?Ue.sessionService.saveSession({rememberMe:s,dateLastLoggedIn:new Date}).then((function(){Ue.sessionService.saveUser(i).then((function(){t({type:ot,data:{user:i}}),a(i)})).catch((function(e){n(e)}))})).catch((function(e){n(e)})):n(l)})).catch((function(e){n(e)}))}))}},ft=function(){return function(e){return new Promise((function(t,a){Ue.sessionService.deleteSession().then((function(){Ue.sessionService.deleteUser().then((function(){e({type:mt,data:{user:null}}),t(!0)})).catch((function(e){a(e)}))})).catch((function(e){a(e)}))}))}},bt=function(e){return function(t){return new Promise((function(a,n){xe.post("/validate-fleet",e,{headers:_e()}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:dt,data:{fleet:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}},At=function(e){return function(t){return new Promise((function(a,n){xe.post("/register/user",e,{headers:_e()}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"authentication/REGISTER_CUSTOMER",data:{customer:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}},vt=function(e){return function(t){return new Promise((function(a,n){xe.post("/register/fleet",e,{headers:_e()}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"authentication/REGISTER_FLEET"}),a(c)):n(l)})).catch((function(e){n(e)}))}))}},Nt=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.post("/register/fleet-member",e,{headers:_e(l)}).then((function(e){var r=e.data,l=r.error;r.success?(t({type:"authentication/REGISTER_FLEET_MEMBER"}),a(!0)):n(l)})).catch((function(e){n(e)}))}))}))}},yt=function(e){return function(t){return new Promise((function(a,n){xe.post("/register/shop",e,{headers:_e()}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:ut,data:{shop:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}},St=function(e){return function(t){return new Promise((function(a,n){xe.post("/password/reset",e).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:it,data:{email:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}},Ct={customer:null,email:null,fleet:null,shop:null,user:null,app:null},Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case st:var a=t.data.app;return Object(we.a)({},e,{app:a});case"authentication/CHECK_LOGIN_STATUS":case ot:case mt:var n=t.data.user;return Object(we.a)({},e,{user:n});case ct:case it:var r=t.data.email;return Object(we.a)({},e,{email:r});case ut:var l=t.data.shop;return Object(we.a)({},e,{shop:l});case dt:var s=t.data.fleet;return Object(we.a)({},e,{fleet:s});case"authentication/REGISTER_CUSTOMER":var c=t.data.customer;return Object(we.a)({},e,{customer:c});default:return e}},Pt=r.logout,xt=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"_logout",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.history;(0,e.logout)().then((function(){t.push("/login")})).catch((function(e){console.error(e)}))}}),Object.defineProperty(Object(T.a)(a),"_toggleUserActions",{enumerable:!0,writable:!0,value:function(){var e=a.state.visible;a.setState({visible:!e})}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.t,n=e.user,r=a.state.visible;return n?E.a.createElement(k.I,{tag:k.m,toggle:a._toggleUserActions},E.a.createElement(k.p,{caret:!0,tag:k.J,className:"btn text-nowrap px-3"},E.a.createElement("img",{className:"user-avatar rounded-circle mr-2",src:n&&n.avatar?n.avatar:K,alt:"User Avatar"})," ",E.a.createElement("span",{className:"d-none d-inline-block"},n?"".concat(n.fname," ").concat(n.lname):null)),E.a.createElement(k.j,{tag:k.o,right:!0,small:!0,open:r},E.a.createElement(k.n,{tag:Te.a,to:"/profile"},E.a.createElement("i",{className:"material-icons"},"person")," ",t("translation.menuProfile")),E.a.createElement(k.n,{tag:Te.a,to:"/settings"},E.a.createElement("i",{className:"material-icons"},"settings")," ",t("translation.menuSettings")),E.a.createElement(k.n,{divider:!0}),E.a.createElement(k.n,{tag:Te.a,onClick:a._logout,to:"/logout",className:"text-danger"},E.a.createElement("i",{className:"material-icons text-danger"},"input")," ",t("translation.menuLogout")))):null}}),a.state={visible:!1},a}return Object(j.a)(t,e),t}(h.Component),wt=Object(M.a)(Object(A.b)()(Object(v.b)((function(e){return{user:e.sessionReducer.user}}),{logout:Pt})(xt))),_t=a(216),Tt=n.setFirstTimeLogin,jt=[{content:E.a.createElement("div",null,E.a.createElement("h4",null,"Welcome to ",E.a.createElement("strong",{className:"text-primary"},"AutoServed"),"!"),E.a.createElement("h6",null,E.a.createElement("em",null,"Your personal car maintenance advisor.")),E.a.createElement("p",null,"Let me walk you through how you can take advantage of our platform for a transparent and seamless transaction."))},{selector:".c-dashboard",content:E.a.createElement("div",null,E.a.createElement("img",{src:ie,alt:"Dashboard",style:{height:50},className:"mb-2"}),E.a.createElement("h4",null,"Dashboard"),E.a.createElement("p",null,"Your dashboard will contain your account information and provide you with analytics data for you to make better decisions."))},{selector:".c-car-profile",content:E.a.createElement("div",null,E.a.createElement("img",{src:he,alt:"Car Profile",style:{height:50},className:"mb-2"}),E.a.createElement("h4",null,"Register your car"),E.a.createElement("p",{className:"mb-2"},"Manage multiple car profiles in one AutoServed account. Provide car details such as car make, model, mileage, location, last service date, and more."),E.a.createElement("img",{src:be,alt:"Create Car Profile"}))},{selector:".c-car-profile",content:E.a.createElement("div",null,E.a.createElement("img",{src:me,alt:"Create Request",style:{height:50},className:"mb-2"}),E.a.createElement("h4",null,"Request for an estimate"),E.a.createElement("p",{className:"mb-2"},"Create an estimate request for preventive maintenance and corrective services from multiple partner shops."),E.a.createElement("img",{src:fe,alt:"Create Request"}))},{selector:".c-estimates",content:E.a.createElement("div",null,E.a.createElement("img",{src:oe,alt:"View Estimates",style:{height:50},className:"mb-2"}),E.a.createElement("h4",null,"Book an appointment"),E.a.createElement("p",{className:"mb-2"},"Receive an estimation breakdown from matched auto shops and confirm appointment schedules for the selected services to be rendered."))},{selector:".c-appointments",content:E.a.createElement("div",null,E.a.createElement("img",{src:de,alt:"Appointment",style:{height:50},className:"mb-2"}),E.a.createElement("h4",null,"Auto shop repairs your car"),E.a.createElement("p",{className:"mb-2"},"After appointment confirmation, show up at the auto shop on the agreed appointment schedule. It's that easy!"))},{selector:".c-appointments",content:E.a.createElement("div",null,E.a.createElement("img",{src:ge,alt:"Feedback and Rating",style:{height:50},className:"mb-2"}),E.a.createElement("h4",null,"Rate your experience"),E.a.createElement("p",{className:"mb-2"},"Provide accurate and honest feedback of the rendered services once appointment has been completed."))},{content:E.a.createElement("div",null,E.a.createElement("h4",null,"You're now ready to start using"," ",E.a.createElement("strong",{className:"text-primary"},"AutoServed"),"."),E.a.createElement("p",null,"Don't hesitate to contact us at"," ",E.a.createElement("a",{href:"mailto:support@autoserved.com"},"support@autoserved.com")," if you have questions and suggestions."))}],Mt=[{content:E.a.createElement("div",null,E.a.createElement("h4",null,"Welcome to ",E.a.createElement("strong",{className:"text-primary"},"AutoServed"),"!"),E.a.createElement("h6",null,E.a.createElement("em",null,"Your personal car maintenance advisor.")),E.a.createElement("p",null,"Let me walk you through how you can take advantage of our platform for a transparent and seamless transaction."))},{selector:".v-dashboard",content:E.a.createElement("div",null,E.a.createElement("img",{src:ie,alt:"Dashboard",style:{height:50},className:"mb-2"}),E.a.createElement("h4",null,"Dashboard"),E.a.createElement("p",null,"Your dashboard will contain your account information and provide you with analytics data for you to make better decisions."))},{selector:".v-shops",content:E.a.createElement("div",null,E.a.createElement("img",{src:pe,alt:"Shops",style:{height:50},className:"mb-2"}),E.a.createElement("h4",null,"Register your shop"),E.a.createElement("p",{className:"mb-2"},"Manage multiple shops on the platform in one AutoServed account. Upload photos, add shop location, business hours, features, amenities and payment methods."),E.a.createElement("img",{src:Ne,alt:"Create Car Profile"}))},{selector:".v-services",content:E.a.createElement("div",null,E.a.createElement("img",{src:Ee,alt:"Services",style:{height:50},className:"mb-2"}),E.a.createElement("h4",null,"Setup shop services"),E.a.createElement("p",{className:"mb-2"},"Setup services available in your shop. Preventive maintenance and corrective repair services are available at your disposal."),E.a.createElement("img",{src:ve,alt:"Create Car Profile"}))},{selector:".v-requests",content:E.a.createElement("div",null,E.a.createElement("img",{src:me,alt:"Receive Requests",style:{height:50},className:"mb-2"}),E.a.createElement("h4",null,"Receive request notifications"),E.a.createElement("p",{className:"mb-2"},"Maximize business opportunities when you get e-mail, SMS, and in-app notifications when customers request for PMS and corrective repair services that match your shops."),E.a.createElement("img",{style:{width:"100%"},src:ye,alt:"Create Request"}))},{selector:".v-estimates",content:E.a.createElement("div",null,E.a.createElement("img",{src:ue,alt:"Submit Estimates",style:{height:50},className:"mb-2"}),E.a.createElement("h4",null,"Submit an estimate"),E.a.createElement("p",{className:"mb-2"},"Add suitable prices to the services you will render to satisfy customer requests. Partner shops will have 24 hours to create an estimate to be submitted to the customers."),E.a.createElement("img",{src:Ae,alt:"Create Car Profile"}))},{selector:".v-appointments",content:E.a.createElement("div",null,E.a.createElement("img",{src:oe,alt:"Appointment",style:{height:50},className:"mb-2"}),E.a.createElement("h4",null,"Confirm booking and appointment"),E.a.createElement("p",{className:"mb-2"},"Set the appointment by choosing from the 3 preferred schedules by the customer, then specifying the exact date and time for the service to be rendered."))},{selector:".v-appointments",content:E.a.createElement("div",null,E.a.createElement("img",{src:ge,alt:"Feedback and Rating",style:{height:50},className:"mb-2"}),E.a.createElement("h4",null,"Receive feedback from customer"),E.a.createElement("p",{className:"mb-2"},"Grow and improve customer service through our platform's two-way feedback system. Rating and comments will be received after the appointment has been completed and service has been rendered. Auto shops can also give rating and feedback to customers."))},{content:E.a.createElement("div",null,E.a.createElement("h4",null,"You're now ready to start using"," ",E.a.createElement("strong",{className:"text-primary"},"AutoServed"),"."),E.a.createElement("p",null,"Don't hesitate to contact us at"," ",E.a.createElement("a",{href:"mailto:support@autoserved.com"},"support@autoserved.com")," if you have questions and suggestions."))}],kt=Object(A.b)()(Object(v.b)((function(e){return{user:e.sessionReducer.user,firstTimeLogin:e.menuReducer.firstTimeLogin}}),{setFirstTimeLogin:Tt})((function(e){var t=e.user,a=e.firstTimeLogin,n=e.setFirstTimeLogin,r=Object(h.useState)(!1),l=Object(R.a)(r,2),s=l[0],c=l[1],i=Object(h.useState)(jt),o=Object(R.a)(i,2),m=o[0],u=o[1];Object(h.useEffect)((function(){var e=t.user_type,n=t.first_time_login;n&&c(n&&a),u("vendor"===e?Mt:"customer"===e?jt:[])}),[t,a]);var d=function(){c(!s),n(!1)};return E.a.createElement(k.I,{className:"border-right dropdown notifications"},E.a.createElement(k.J,{className:"btn nav-link-icon text-center",title:"How it works?",onClick:d},E.a.createElement("div",{className:"nav-link-icon__wrapper"},E.a.createElement("i",{className:"material-icons"},"help"))),E.a.createElement(_t.a,{steps:m,isOpen:s,onRequestClose:d,showCloseButton:!0,closeWithMask:!0}))}))),It=function(){return E.a.createElement(k.H,{navbar:!0,className:"border-left flex-row"},E.a.createElement(lt,null),E.a.createElement(kt,null),E.a.createElement(wt,null))},Dt=n.toggleSidebar,Rt=function(e){function t(){var e,a,n;Object(P.a)(this,t);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return Object(w.a)(n,(a=n=Object(w.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(l))),Object.defineProperty(Object(T.a)(n),"_handleClick",{enumerable:!0,writable:!0,value:function(){var e=n.props;(0,e.toggleSidebar)(!e.menuVisible)}}),Object.defineProperty(Object(T.a)(n),"render",{enumerable:!0,writable:!0,value:function(){return E.a.createElement("nav",{className:"nav"},E.a.createElement("span",{onClick:n._handleClick,className:"btn rounded-0 nav-link nav-link-icon toggle-sidebar d-sm-inline d-md-none d-lg-none text-center border-left"},E.a.createElement("i",{className:"material-icons"},"menu")))}}),a))}return Object(j.a)(t,e),t}(h.Component),Bt=Object(v.b)((function(e){return{menuVisible:e.menuReducer.menuVisible}}),{toggleSidebar:Dt})(Rt),Ft=function(e){var t=e.noLogo,a=e.t;return E.a.createElement("div",{className:"main-navbar bg-white sticky-top"},E.a.createElement(k.k,{fluid:!0,className:"p-0"},E.a.createElement(k.K,{type:"light",className:"align-items-stretch flex-md-nowrap p-0"},t?null:E.a.createElement(k.L,{className:"w-100 mr-0",href:"#",style:{lineHeight:"25px"}},E.a.createElement("div",{className:"d-table my-auto mx-3"},E.a.createElement("img",{id:"main-logo",className:"d-inline-block align-top mr-1",src:te,alt:a("translation.appName")}))),E.a.createElement(D,{hidden:!0}),E.a.createElement(It,null),E.a.createElement(Bt,null))))};Ft.defaultProps={noLogo:!1};var Lt=Object(A.b)()(Ft),qt=a(6),zt=a.n(qt),Qt=n.toggleSidebar,Vt=function(e){function t(){var e,a,n;Object(P.a)(this,t);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return Object(w.a)(n,(a=n=Object(w.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(l))),Object.defineProperty(Object(T.a)(n),"_handleToggleSidebar",{enumerable:!0,writable:!0,value:function(){var e=n.props;(0,e.toggleSidebar)(!e.menuVisible)}}),Object.defineProperty(Object(T.a)(n),"render",{enumerable:!0,writable:!0,value:function(){var e=n.props.t;return E.a.createElement("div",{className:"main-navbar"},E.a.createElement(k.K,{className:"align-items-stretch bg-white flex-md-nowrap border-bottom p-0",type:"light"},E.a.createElement(k.L,{className:"w-100 mr-0",href:"#",style:{lineHeight:"25px"}},E.a.createElement("div",{className:"d-table m-auto"},E.a.createElement("img",{id:"main-logo",className:"d-inline-block align-top mr-1",src:te,alt:e("translation.appName")}))),E.a.createElement("span",{className:"btn toggle-sidebar d-sm-inline d-md-none d-lg-none text-center border-left",onClick:n._handleToggleSidebar},E.a.createElement("i",{className:"material-icons"},"close"))))}}),a))}return Object(j.a)(t,e),t}(h.Component),Ut=Object(A.b)()(Object(v.b)((function(e){return{menuVisible:e.menuReducer.menuVisible}}),{toggleSidebar:Qt})(Vt)),Ht=a(409),Yt=n.toggleDropDownItem,Gt=n.toggleSidebar,Wt=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"_toggleDropdown",{enumerable:!0,writable:!0,value:function(e){e.open=!e.open,a.setState({selectedItem:e})}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.item,n=e.toggleSidebar,r=t.items&&t.items.length,l=(r?"dropdown-toggle":t.disabled&&"text-muted")||"";return E.a.createElement(k.I,{style:{position:"relative"}},E.a.createElement(k.J,{disabled:t.disabled,className:"".concat(l," ").concat(t.classData),tag:t.href?"a":Ht.a,to:null!==t.to?r?"#":t.to:null,href:t.href,target:t.href?"__blank":"",onClick:function(e){r?e.preventDefault():n(!1),a._toggleDropdown(t)}},t.htmlBefore&&E.a.createElement("div",{className:"d-inline-block item-icon-wrapper",dangerouslySetInnerHTML:{__html:t.htmlBefore}}),t.title&&E.a.createElement("span",null,t.title),t.htmlAfter&&E.a.createElement("div",{className:"d-inline-block item-icon-wrapper",dangerouslySetInnerHTML:{__html:t.htmlAfter}})),r&&E.a.createElement(k.j,{tag:k.o,small:!0,open:t.open,style:{top:0}},t.items.map((function(e,a){return E.a.createElement(k.n,{toggle:t.open,key:a,tag:Ht.a,to:e.to,onClick:function(){n(!1)}},e.title)}))))}}),a.state={selectedItem:null},a}return Object(j.a)(t,e),t}(h.Component),Xt=Object(v.b)((function(e){return{visibleDropDownItem:e.menuReducer.visibleDropDownItem}}),{toggleSidebar:Gt,toggleDropDownItem:Yt})(Wt),Kt=function(e){var t=e.items;return E.a.createElement("div",{className:"nav-wrapper"},t.map((function(e,t){return E.a.createElement("div",{key:t},E.a.createElement("h6",{className:"main-sidebar__nav-title"},e.title),e.items&&e.items.length&&E.a.createElement(k.H,{className:"nav--no-borders flex-column"},e.items.map((function(e,t){return E.a.createElement(Xt,{key:t,item:e})}))))})))};Kt.defaultProps={items:[]};var Jt=Kt,Zt=n.toggleSidebar,$t=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.t,n=e.user,r=a.state.items;n&&0===r.length&&a.setState({items:Ve(t,n.user_type)})}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.menuVisible,n=e.t,r=e.user,l=a.state.items,s=zt()("main-sidebar","px-0","col-12",t&&"open");return 0===l.length&&(l=Ve(n,r.user_type)),E.a.createElement(k.i,{style:{zIndex:1030},tag:"aside",className:s,lg:{size:2},md:{size:3}},E.a.createElement(Ut,null),l.length?E.a.createElement(Jt,{items:l}):null)}}),a.state={items:[]},a}return Object(j.a)(t,e),t}(h.Component),ea=Object(A.b)()(Object(v.b)((function(e){return{menuVisible:e.menuReducer.menuVisible,user:e.sessionReducer.user}}),{toggleSidebar:Zt})($t)),ta=function(e){var t=e.contained,a=e.t;return E.a.createElement("footer",{className:"main-footer d-flex p-2 px-3 bg-white border-top"},E.a.createElement(k.k,{fluid:t},E.a.createElement(k.N,null,E.a.createElement(k.H,null,function(e){return[{title:e("translation.menuAbout"),to:"https://www.autoserved.com"},{title:e("translation.menuPrivacyPolicy"),to:"https://www.autoserved.com/privacy-policy/"},{title:e("translation.menuBlog"),to:"https://www.autoserved.com/blog/"}]}(a).map((function(e,t){return E.a.createElement(k.I,{key:t},E.a.createElement(k.J,{target:"__blank",href:e.to},e.title))}))),E.a.createElement("span",{className:"copyright ml-auto my-auto mr-2"},a("txtCopyright")," - ",E.a.createElement("small",null,"Platform v",U)))))};ta.defaultProps={contained:!1};var aa=Object(A.b)()(ta),na=r.checkLoginStatus,ra=r.getAppData,la=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){(a._isMounted=!0,a._isMounted)&&(0,a.props.getAppData)().catch((function(e){return console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"componentDidUpdate",{enumerable:!0,writable:!0,value:function(){(0,a.props.checkLoginStatus)().catch((function(e){return console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e,t="autoserved-dashboard",n=a.props,r=n.app,l=n.children,s=n.noSidebar,c=n.noLogo,i=n.noNavbar,o=n.noFooter,m=a.props.location.pathname.replace(":","").replace("/","-"),u="".concat(t,"-page-").concat(m);return E.a.createElement(k.k,{fluid:!0,className:zt()("".concat(t," ").concat(u," ").concat(t,"--default"),(e={},Object(O.a)(e,"".concat(t,"--no-logo "),c),Object(O.a)(e,"".concat(t,"--no-navbar "),i),Object(O.a)(e,"".concat(t,"--no-footer "),o),e))},r&&r.version!==U&&E.a.createElement(k.a,{style:{left:0,right:0,zIndex:2e3,cursor:"pointer"},fade:!0,theme:"warning",className:"position-absolute rounded m-5 text-center",onClick:function(){return window.location.reload(!0)}},"Hey! You are not using the latest version of the AutoServed Platform. Click here to refresh."),E.a.createElement(k.N,null,!s&&E.a.createElement(ea,null),E.a.createElement(k.i,{className:"main-content autoserved-dashboard__main-content",lg:s?{size:12}:{size:10,offset:2},md:s?{size:12}:{size:9,offset:3},sm:"12",tag:"main"},!i&&E.a.createElement(Lt,{noLogo:c}),E.a.createElement("div",{className:"autoserved-dashboard__main-content__children"},l),!o&&E.a.createElement(aa,null))))}}),a._isMounted=!1,a}return Object(j.a)(t,e),Object(x.a)(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}}]),t}(h.Component);la.defaultProps={noFooter:!1,noLogo:!0,noNavbar:!1,noSidebar:!1};var sa=Object(M.a)(Object(v.b)((function(e){return{app:e.authenticationReducer.app,authenticated:e.sessionReducer.authenticated,user:e.sessionReducer.user}}),{checkLoginStatus:na,getAppData:ra})(la)),ca=function(e){var t=e.children;return E.a.createElement(sa,{noSidebar:!0,noNavbar:!0,noFooter:!0},t)},ia=Object(A.b)()((function(e){var t=e.t,a=e.history;return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4 pb-4"},E.a.createElement("div",{className:"error"},E.a.createElement("div",{className:"error__content"},E.a.createElement("h2",null,t("translation.txtError404")),E.a.createElement("h3",null,t("translation.txtError404Message")),E.a.createElement("p",null,t("translation.txtError404SubMessage")),E.a.createElement(Te.a,{onClick:a.goBack,to:"/"},E.a.createElement("span",{className:"btn btn-primary btn-pill"},"\u2190 ",t("translation.btnGoBack"))))))})),oa=function(){return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4 pb-4"},E.a.createElement("div",{className:"error"},E.a.createElement("div",{className:"error__content"},E.a.createElement("h2",null,"This feature is currently unavailable"),E.a.createElement("h3",null,"This functionality will be ready soon!"),E.a.createElement("p",null,"Our developers are working hard to provide you with better solutions."),E.a.createElement(Te.a,{to:"/"},E.a.createElement(k.c,{pill:!0},"\u2190 Go Back")))))},ma=a(49),ua=a.n(ma),da=r.login,pa=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"_handleEmail",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;a.setState({txtEmail:t})}}),Object.defineProperty(Object(T.a)(a),"_handlePassword",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;a.setState({txtPassword:t})}}),Object.defineProperty(Object(T.a)(a),"_handleRememberState",{enumerable:!0,writable:!0,value:function(){var e=a.state.chkRemember;a.setState({chkRemember:!e})}}),Object.defineProperty(Object(T.a)(a),"_login",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),a.setState({attemptLogin:!0},(function(){var e=[],t=a.props,n=t.login,r=t.history,l=t.location,s=t.t,c=a.state,i=c.chkRemember;n({email:c.txtEmail,password:c.txtPassword,rememberMe:i,token:ua.a.parse(l.search).token}).then((function(e){e&&r.push("/dashboard")})).catch((function(t){Array.isArray(t)?e=e.concat(t):e.push({message:s("translation.generalError")}),a.setState({errorMessages:e,attemptLogin:!1})}))}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.authenticated,n=e.location,r=e.t,l=(n.state||{from:{pathname:"/"}}).from,s=a.state,c=s.attemptLogin,i=s.errorMessages,o=s.txtEmail,m=s.txtPassword,u=s.chkRemember;return!0===t?E.a.createElement(y.a,{to:l}):E.a.createElement(k.k,{fluid:!0,className:"main-content-container h-100 px-4"},E.a.createElement(k.N,{noGutters:!0,className:"h-100"},E.a.createElement(k.i,{lg:"10",className:"mx-auto my-auto"},E.a.createElement(k.e,{className:"overflow-hidden"},E.a.createElement(k.f,{className:"p-0"},E.a.createElement(k.N,null,E.a.createElement(k.i,{style:{backgroundImage:"url(".concat(ee,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"},lg:"6"},E.a.createElement("div",{className:"p-5"},E.a.createElement("h1",{className:"text-right text-white font-weight-bold display-4"},"Bridging the gap between car owners and auto shops."))),E.a.createElement(k.i,{lg:"6"},E.a.createElement("div",{className:"p-5 mx-5"},E.a.createElement("img",{className:"d-table mx-auto mb-3",src:te,alt:r("translation.appName")}),E.a.createElement("h5",{className:"auth-form__title text-center mb-4"},r("translation.ttlLogin")),i.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"danger",className:"outline-danger rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})),E.a.createElement(k.q,null,E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtEmail"},r("common.lblEmail")),E.a.createElement(k.u,{type:"email",id:"txtEmail",placeholder:r("common.phEmail"),autoComplete:"email",onChange:a._handleEmail})),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtPassword"},r("common.lblPassword")),E.a.createElement(k.u,{type:"password",id:"txtPassword",placeholder:r("common.phPassword"),autoComplete:"current-password",onChange:a._handlePassword})),E.a.createElement(k.t,null,E.a.createElement(k.r,{checked:u,onChange:a._handleRememberState},r("common.lblRemember"))),E.a.createElement(k.c,{pill:!0,theme:"accent",className:"d-table mx-auto",onClick:a._login,type:"submit",disabled:!o||!m||c},c?E.a.createElement("div",null,E.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),E.a.createElement("span",{className:"sr-only"},r("common.lblLoading"))):r("common.lblLogin")))))))),E.a.createElement("div",{className:"auth-form__meta d-flex mt-4"},E.a.createElement(Te.a,{to:"/forgot-password"},r("translation.lnkForgot")),E.a.createElement(Te.a,{to:"/customer-registration",className:"ml-auto"},r("translation.lnkRegister"))))))}}),a.state={attemptLogin:!1,errorMessages:[],chkRemember:!1,txtEmail:null,txtPassword:null},a}return Object(j.a)(t,e),t}(h.Component),ha=Object(A.b)()(Object(v.b)((function(e){return{authenticated:e.sessionReducer.authenticated,user:e.sessionReducer.user}}),{login:da})(pa)),Ea=r.forgotPassword,ga=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"_handleEmail",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;a.setState({email:t})}}),Object.defineProperty(Object(T.a)(a),"_submit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),a.setState({attemptSubmit:!0},(function(){var e=a.props,t=e.forgotPassword,n=e.t,r=a.state.email,l=[],s=[];t(r).then((function(){s.push({message:"You will receive an email if you have an Autoserved account."}),a.setState({attemptSubmit:!1,email:null,successMessages:s})})).catch((function(e){Array.isArray(e)?l=l.concat(e):l.push({message:n("translation.generalError")}),a.setState({errorMessages:l,attemptSubmit:!1})}))}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.authenticated,n=e.location,r=e.t,l=(n.state||{from:{pathname:"/"}}).from,s=a.state,c=s.attemptSubmit,i=s.errorMessages,o=s.successMessages,m=s.email,u=Ge.isValidEmail(m);return!0===t?E.a.createElement(y.a,{to:l}):E.a.createElement(k.k,{fluid:!0,className:"main-content-container h-100 px-4"},E.a.createElement(k.N,{noGutters:!0,className:"h-100"},E.a.createElement(k.i,{lg:"3",md:"5",className:"auth-form mx-auto my-auto"},E.a.createElement(k.e,null,E.a.createElement(k.f,null,E.a.createElement("img",{className:"d-table mx-auto mb-3",src:te,alt:"AutoServed Logo"}),E.a.createElement("h5",{className:"auth-form__title text-center mb-4"},"Reset Password"),o.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"success",className:"outline-success rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})),i.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"danger",className:"outline-danger rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})),E.a.createElement(k.q,null,E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtEmail"},"Email Address"),E.a.createElement(k.u,{type:"email",id:"txtEmail",placeholder:"Enter email address",autoComplete:"email",value:m||"",onChange:a._handleEmail,invalid:null!==m&&!Ge.isValidEmail(m)}),E.a.createElement(k.s,{valid:u},r("validation.errEmail")),E.a.createElement("small",{className:"form-text text-muted text-center"},"You will receive an email with a unique token.")),E.a.createElement(k.c,{pill:!0,theme:"accent",className:"d-table mx-auto",type:"submit",onClick:a._submit,disabled:!u},c?E.a.createElement("div",null,E.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),E.a.createElement("span",{className:"sr-only"},r("common.lblLoading"))):"Reset Password")))),E.a.createElement("div",{className:"auth-form__meta d-flex mt-4"},E.a.createElement(Te.a,{to:"/login",className:"mx-auto"},"Take me back to login.")))))}}),a.state={attemptSubmit:!1,errorMessages:[],successMessages:[],email:null},a}return Object(j.a)(t,e),t}(h.Component),fa=Object(A.b)()(Object(v.b)((function(e){return{authenticated:e.sessionReducer.authenticated}}),{forgotPassword:Ea})(ga)),ba=r.resetPassword,Aa=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"_handlePassword",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;a.setState({password:t})}}),Object.defineProperty(Object(T.a)(a),"_handleConfirmPassword",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;a.setState({confirmPassword:t})}}),Object.defineProperty(Object(T.a)(a),"_submit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),a.setState({attemptSubmit:!0},(function(){var e=a.props,t=e.location,n=e.resetPassword,r=e.t,l=a.state,s=l.password,c=l.confirmPassword,i=[],o=[],m=ua.a.parse(t.search);n({password:s,confirm_password:c,email:m.email,token:m.token}).then((function(){o.push({message:"Your password has been reset. Please proceed to login."}),a.setState({attemptSubmit:!1,password:null,confirmPassword:null,successMessages:o})})).catch((function(e){Array.isArray(e)?i=i.concat(e):i.push({message:r("translation.generalError")}),a.setState({errorMessages:i,attemptSubmit:!1})}))}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props.t,t=a.state,n=t.attemptSubmit,r=t.errorMessages,l=t.successMessages,s=t.password,c=t.confirmPassword,i=Ge.isValidPassword(s,c);return E.a.createElement(k.k,{fluid:!0,className:"main-content-container h-100 px-4"},E.a.createElement(k.N,{noGutters:!0,className:"h-100"},E.a.createElement(k.i,{lg:"3",md:"5",className:"auth-form mx-auto my-auto"},E.a.createElement(k.e,null,E.a.createElement(k.f,null,E.a.createElement("img",{className:"d-table mx-auto mb-3",src:te,alt:"AutoServed Logo"}),E.a.createElement("h5",{className:"auth-form__title text-center mb-4"},"Change Password"),l.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"success",className:"outline-success rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})),r.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"danger",className:"outline-danger rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})),E.a.createElement(k.q,null,E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtPassword"},"Password"),E.a.createElement(k.u,{type:"password",id:"txtPassword",placeholder:"Password",autoComplete:"new-password",value:s||"",onChange:a._handlePassword,invalid:null!==s&&null!==c&&!i}),E.a.createElement(k.s,{valid:i},e("validation.errPassword"))),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtConfirmPassword"},"Confirm Password"),E.a.createElement(k.u,{type:"password",id:"txtConfirmPassword",placeholder:"Confirm password",autoComplete:"new-password",onChange:a._handleConfirmPassword,value:c||"",invalid:null!==s&&null!==c&&!i})),E.a.createElement(k.c,{pill:!0,theme:"accent",className:"d-table mx-auto",type:"submit",onClick:a._submit,disabled:!i},n?E.a.createElement("div",null,E.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),E.a.createElement("span",{className:"sr-only"},e("common.lblLoading"))):"Update Password")))),E.a.createElement("div",{className:"auth-form__meta d-flex mt-4"},E.a.createElement(Te.a,{to:"/login",className:"mx-auto"},"Take me back to login.")))))}}),a.state={attemptSubmit:!1,errorMessages:[],successMessages:[],password:null,confirmPassword:null},a}return Object(j.a)(t,e),t}(h.Component),va=Object(A.b)()(Object(v.b)(null,{resetPassword:ba})(Aa)),Na=function(){return E.a.createElement("img",{className:"d-table mx-auto mb-3",src:te,alt:"AutoServed Logo"})},ya=function(e){var t=e.items,a=e.theme;return E.a.createElement(k.d,{size:"sm",className:"mb-4 mx-auto"},t.map((function(e,t){return E.a.createElement(k.c,{key:t,theme:a,tag:Ht.a,to:e.link},e.title)})))};ya.defaultProps={items:[],theme:"white"};var Sa=ya,Ca=Object(A.b)()((function(e){var t=e.children,a=e.location,n=e.t,r=a?ua.a.parse(a.search):null;return E.a.createElement("div",null,E.a.createElement(k.e,null,E.a.createElement(k.f,null,E.a.createElement(Na,null),E.a.createElement("h5",{className:"auth-form__title text-center mb-4"},n("translation.ttlCreateNewAccount")),(!r||!r.slug)&&E.a.createElement(k.i,{className:"col d-flex align-items-center mx-auto mb-3"},E.a.createElement(Sa,{items:[{title:"Individual",link:"/customer-registration"},{title:"Shop",link:"/shop-registration"},{title:"Business",link:"/fleet-registration"}]})),t)),E.a.createElement("div",{className:"auth-form__meta d-flex mt-4"},E.a.createElement(Te.a,{to:"/forgot-password"},n("translation.lnkForgot")),E.a.createElement(Te.a,{to:"/login",className:"ml-auto"},n("translation.lnkSignIn"))))})),Oa=function(e){var t=e.errorMessages,a=e.successMessages,n=e.infoMessages,r=e.warningMessages;return E.a.createElement("div",null,a.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"success",className:"outline-success rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})),t.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"danger",className:"outline-danger rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})),r.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"warning",className:"outline-warning rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})),n.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"info",className:"outline-info rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})))};Oa.defaultProps={errorMessages:[],successMessages:[],infoMessages:[],warningMessages:[]};var Pa=Oa,xa=r.registerCustomer,wa=r.validateFleet,_a=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.location,n=e.validateFleet;a.setState({selCountry:"Philippines"}),n(ua.a.parse(t.search)).catch((function(e){return e&&console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_handleAgreement",{enumerable:!0,writable:!0,value:function(){var e=a.state.accepted;a.setState({accepted:!e})}}),Object.defineProperty(Object(T.a)(a),"_handleConfirmPassword",{enumerable:!0,writable:!0,value:function(e){a.setState({txtConfirmPassword:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleEmail",{enumerable:!0,writable:!0,value:function(e){a.setState({txtEmail:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleFirstName",{enumerable:!0,writable:!0,value:function(e){a.setState({txtFirstName:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleLastName",{enumerable:!0,writable:!0,value:function(e){a.setState({txtLastName:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handlePassword",{enumerable:!0,writable:!0,value:function(e){a.setState({txtPassword:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleContact",{enumerable:!0,writable:!0,value:function(e){a.setState({txtContact:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleCountry",{enumerable:!0,writable:!0,value:function(e){a.setState({selCountry:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_submit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),a.setState({attemptRegister:!0},(function(){var e=[],t=[],n=[],r=a.props,l=r.registerCustomer,s=r.fleet,c=r.t,i=r.history,o=a.state,m=o.selCountry,u=o.txtEmail,d=o.txtFirstName,p=o.txtLastName,h=o.txtPassword,E=o.txtContact;l({fleet_id:s?s.id:null,fname:d,lname:p,country:m,email:u,contact:E,password:h}).then((function(r){r&&(t.push({message:c("translation.successRegisterCustomer")}),a.setState({attemptRegister:!1,accepted:!1,successMessages:t,errorMessages:e,txtEmail:null,txtFirstName:null,txtLastName:null,txtPassword:null,txtConfirmPassword:null,txtContact:null},(function(){setInterval((function(){var e=a.state.countdown;n=[{message:"Redirecting to login in ".concat(e,"...")}],a.setState({infoMessages:n,countdown:e-1}),0===e&&i.push("/login")}),1e3)})))})).catch((function(t){Array.isArray(t)?e=e.concat(t):t.response?t.response.data.data.errors.email.map((function(t){return e.push({message:t})})):e.push({message:c("translation.generalError")}),a.setState({errorMessages:e,attemptRegister:!1})}))}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.authenticated,n=e.fleet,r=e.location,l=e.t,s=a.state,c=s.accepted,i=s.attemptRegister,o=s.errorMessages,m=s.successMessages,u=s.infoMessages,d=s.txtConfirmPassword,p=s.txtEmail,h=s.txtFirstName,g=s.txtLastName,f=s.txtPassword,b=s.txtContact,A=Ge.isValidName(h),v=Ge.isValidName(g),N=Ge.isValidEmail(p),S=Ge.isValidMobileNumber(b),C=Ge.isValidPassword(f,d),O=!c||i||!A||!v||!S||!N||!C,P=(r.state||{from:{pathname:"/"}}).from;return!0===t?E.a.createElement(y.a,{to:P}):E.a.createElement("div",null,E.a.createElement(Pa,{errorMessages:o,successMessages:m,infoMessages:u}),E.a.createElement(k.q,null,n&&E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtFleetName"},"Fleet Name"),E.a.createElement(k.u,{id:"txtFleetName",readOnly:!0,value:n.name})),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtFirstName"},"First Name"),E.a.createElement(k.u,{type:"text",id:"txtFirstName",placeholder:"Enter first name",onChange:a._handleFirstName,value:h||"",invalid:null!==h&&!A}),E.a.createElement(k.s,{valid:A},"First name should not be empty"))),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtLastName"},"Last Name"),E.a.createElement(k.u,{type:"text",id:"txtLastName",placeholder:"Enter last name",onChange:a._handleLastName,value:g||"",invalid:null!==g&&!v}),E.a.createElement(k.s,{valid:v},"Last name should not be empty")))),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtEmail"},l("common.lblEmail")),E.a.createElement(k.u,{type:"email",id:"txtEmail",placeholder:l("common.phEmail"),autoComplete:"email",value:p||"",onChange:a._handleEmail,invalid:null!==p&&!N}),E.a.createElement(k.s,{valid:N},l("validation.errEmail"))),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtPassword"},l("common.lblPassword")),E.a.createElement(k.u,{type:"password",id:"txtPassword",placeholder:l("common.phPassword"),autoComplete:"new-password",value:f||"",onChange:a._handlePassword,invalid:null!==f&&null!==d&&!C}),E.a.createElement(k.s,{valid:C},l("validation.errPassword"))),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtConfirmPassword"},l("common.lblConfirmPassword")),E.a.createElement(k.u,{type:"password",id:"txtConfirmPassword",placeholder:l("common.phConfirmPassword"),autoComplete:"confirm-password",value:d||"",onChange:a._handleConfirmPassword,invalid:null!==f&&null!==d&&!C})),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtContact"},"Mobile Number"),E.a.createElement(k.y,{className:"mb-3"},E.a.createElement(k.z,{type:"prepend"},E.a.createElement(k.A,null,"+63")),E.a.createElement(k.u,{type:"text",id:"txtContact",placeholder:"Enter contact number",onChange:a._handleContact,value:b||"",invalid:null!==b&&!S}),E.a.createElement(k.s,{valid:S},"Invalid contact number"))),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"selCountry"},l("common.lblCountry")),E.a.createElement(k.w,{id:"selCountry",onChange:a._handleCountry},E.a.createElement("option",null,"Philippines"))),E.a.createElement(k.t,null,E.a.createElement("fieldset",null,E.a.createElement(k.r,{id:"formsCheckboxDefault",onChange:a._handleAgreement,checked:c},l("common.lblAgree")," ",E.a.createElement("a",{target:"_new",href:H},l("common.lblToc"))," ","and"," ",E.a.createElement("a",{target:"_new",href:Y},l("common.lblPrivacy"))))),E.a.createElement(k.c,{pill:!0,theme:"accent",className:"d-table mx-auto",onClick:a._submit,type:"submit",disabled:O},i?E.a.createElement("div",null,E.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),E.a.createElement("span",{className:"sr-only"},l("common.lblLoading"))):l("translation.btnRegister"))))}}),a.state={countdown:5,accepted:!1,attemptRegister:!1,errorMessages:[],successMessages:[],infoMessages:[],selCountry:null,txtEmail:null,txtFirstName:null,txtLastName:null,txtPassword:null,txtConfirmPassword:null,txtContact:null},a}return Object(j.a)(t,e),t}(h.Component),Ta=Object(M.a)(Object(A.b)()(Object(v.b)((function(e){return{authenticated:e.sessionReducer.authenticated,fleet:e.authenticationReducer.fleet}}),{registerCustomer:xa,validateFleet:wa})(_a))),ja=function(){return E.a.createElement(k.k,{fluid:!0,className:"main-content-container my-4 h-100 px-4"},E.a.createElement(k.N,{noGutters:!0,className:"h-100"},E.a.createElement(k.i,{lg:"6",className:"mx-auto my-auto"},E.a.createElement(Ca,null,E.a.createElement(Ta,null)))))},Ma=r.registerShop,ka=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentWillMount",{enumerable:!0,writable:!0,value:function(){a.setState({selCountry:"Philippines"})}}),Object.defineProperty(Object(T.a)(a),"_handleAgreement",{enumerable:!0,writable:!0,value:function(){var e=a.state.accepted;a.setState({accepted:!e})}}),Object.defineProperty(Object(T.a)(a),"_handleCountry",{enumerable:!0,writable:!0,value:function(e){a.setState({selCountry:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleEmail",{enumerable:!0,writable:!0,value:function(e){a.setState({txtEmail:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleFirstName",{enumerable:!0,writable:!0,value:function(e){a.setState({txtFirstName:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleLastName",{enumerable:!0,writable:!0,value:function(e){a.setState({txtLastName:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleMobileNumber",{enumerable:!0,writable:!0,value:function(e){a.setState({txtMobileNumber:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleShopName",{enumerable:!0,writable:!0,value:function(e){a.setState({txtShopName:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_submit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),a.setState({attemptRegister:!0},(function(){var e=[],t=[],n=[],r=a.props,l=r.registerShop,s=r.t,c=r.history,i=a.state,o=i.selCountry;l({fname:i.txtFirstName,lname:i.txtLastName,country:o,email:i.txtEmail,contact:i.txtMobileNumber,name:i.txtShopName}).then((function(r){r&&(t.push({message:s("translation.successRegisterShop",r)}),a.setState({attemptRegister:!1,successMessages:t,errorMessages:e,accepted:!1,selCountry:null,txtShopName:null,txtEmail:null,txtFirstName:null,txtLastName:null,txtMobileNumber:null},(function(){setInterval((function(){var e=a.state.countdown;n=[{message:"Redirecting to login in ".concat(e,"...")}],a.setState({infoMessages:n,countdown:e-1}),0===e&&c.push("/login")}),1e3)})))})).catch((function(t){var n=t.data,r=t.response;if(r){var l=r.data;Object.keys(l.errors).map((function(t){return l.errors[t].map((function(t){return e.push({message:t})}))}))}else if(n){var c=n.errors;e=e.concat(c)}else e.push({message:s("translation.generalError")});a.setState({errorMessages:e,attemptRegister:!1})}))}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.authenticated,n=e.location,r=e.t,l=a.state,s=l.accepted,c=l.attemptRegister,i=l.errorMessages,o=l.successMessages,m=l.infoMessages,u=l.txtEmail,d=l.txtMobileNumber,p=l.txtShopName,h=l.txtFirstName,g=l.txtLastName,f=Ge.isValidCompanyName(p),b=Ge.isValidName(h),A=Ge.isValidName(g),v=Ge.isValidEmail(u),N=Ge.isValidMobileNumber(d),S=!s||c||!f||!b||!A||!v||!N,C=(n.state||{from:{pathname:"/"}}).from;return!0===t?E.a.createElement(y.a,{to:C}):E.a.createElement("div",null,E.a.createElement(Pa,{errorMessages:i,successMessages:o,infoMessages:m}),E.a.createElement(k.q,null,E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtShopName"},"Shop Name"),E.a.createElement(k.u,{type:"text",id:"txtShopName",placeholder:"Enter shop name",onChange:a._handleShopName,value:p||"",invalid:null!==p&&!f}),E.a.createElement(k.s,{valid:f},"Invalid shop name")),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtFirstName"},"First Name"),E.a.createElement(k.u,{type:"text",id:"txtFirstName",placeholder:"Enter first name",onChange:a._handleFirstName,value:h||"",invalid:null!==h&&!b}),E.a.createElement(k.s,{valid:b},"First name should not be empty"))),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtLastName"},"Last Name"),E.a.createElement(k.u,{type:"text",id:"txtLastName",placeholder:"Enter last name",onChange:a._handleLastName,value:g||"",invalid:null!==g&&!A}),E.a.createElement(k.s,{valid:A},"Last name should not be empty")))),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtEmail"},"Email Address"),E.a.createElement(k.u,{type:"email",id:"txtEmail",placeholder:"Enter email address",onChange:a._handleEmail,value:u||"",invalid:null!==u&&!v}),E.a.createElement(k.s,{valid:v},"Invalid email address")),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtMobileNumber"},"Shop's Mobile Number"),E.a.createElement(k.y,{className:"mb-3"},E.a.createElement(k.z,{type:"prepend"},E.a.createElement(k.A,null,"+63")),E.a.createElement(k.u,{type:"text",id:"txtMobileNumber",placeholder:"Enter mobile number",onChange:a._handleMobileNumber,value:d||"",invalid:null!==d&&!N}),E.a.createElement(k.s,{valid:N},"Invalid mobile number"))),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"selCountry"},"Country"),E.a.createElement(k.w,{id:"selCountry",onChange:a._handleCountry},E.a.createElement("option",{value:"Philippines"},"Philippines"))),E.a.createElement(k.t,null,E.a.createElement("fieldset",null,E.a.createElement(k.r,{id:"formsCheckboxDefault",onChange:a._handleAgreement,checked:s},r("common.lblAgree")," ",E.a.createElement("a",{target:"_new",href:H},r("common.lblToc"))," ","and"," ",E.a.createElement("a",{target:"_new",href:Y},r("common.lblPrivacy"))))),E.a.createElement(k.c,{pill:!0,theme:"accent",className:"d-table mx-auto",onClick:a._submit,type:"submit",disabled:S},c?E.a.createElement("div",null,E.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),E.a.createElement("span",{className:"sr-only"},r("common.lblLoading"))):"Register")))}}),a.state={countdown:5,accepted:!1,attemptRegister:!1,errorMessages:[],successMessages:[],infoMessages:[],selCountry:null,txtFirstName:null,txtLastName:null,txtEmail:null,txtMobileNumber:null,txtShopName:null},a}return Object(j.a)(t,e),t}(h.Component),Ia=Object(M.a)(Object(A.b)()(Object(v.b)((function(e){return{authenticated:e.sessionReducer.authenticated}}),{registerShop:Ma})(ka))),Da=function(){return E.a.createElement(k.k,{fluid:!0,className:"main-content-container my-4 h-100 px-4"},E.a.createElement(k.N,{noGutters:!0,className:"h-100"},E.a.createElement(k.i,{lg:"6",className:"mx-auto my-auto"},E.a.createElement(Ca,null,E.a.createElement(Ia,null)))))},Ra=r.registerFleet,Ba=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentWillMount",{enumerable:!0,writable:!0,value:function(){a.setState({selCountry:"Philippines"})}}),Object.defineProperty(Object(T.a)(a),"_handleAgreement",{enumerable:!0,writable:!0,value:function(){var e=a.state.accepted;a.setState({accepted:!e})}}),Object.defineProperty(Object(T.a)(a),"_handleCountry",{enumerable:!0,writable:!0,value:function(e){a.setState({selCountry:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleEmail",{enumerable:!0,writable:!0,value:function(e){a.setState({txtEmail:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleFirstName",{enumerable:!0,writable:!0,value:function(e){a.setState({txtFirstName:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleLastName",{enumerable:!0,writable:!0,value:function(e){a.setState({txtLastName:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleMobileNumber",{enumerable:!0,writable:!0,value:function(e){a.setState({txtMobileNumber:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleFleetName",{enumerable:!0,writable:!0,value:function(e){a.setState({txtFleetName:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_submit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),a.setState({attemptRegister:!0},(function(){var e=[],t=[],n=[],r=a.props,l=r.registerFleet,s=r.t,c=r.history,i=a.state,o=i.selCountry;l({fname:i.txtFirstName,lname:i.txtLastName,country:o,email:i.txtEmail,contact:i.txtMobileNumber,name:i.txtFleetName}).then((function(r){r&&(t.push({message:s("translation.successRegisterFleet",r)}),a.setState({attemptRegister:!1,successMessages:t,errorMessages:e,accepted:!1,selCountry:null,txtFleetName:null,txtEmail:null,txtFirstName:null,txtLastName:null,txtMobileNumber:null},(function(){setInterval((function(){var e=a.state.countdown;n=[{message:"Redirecting to login in ".concat(e,"...")}],a.setState({infoMessages:n,countdown:e-1}),0===e&&c.push("/login")}),1e3)})))})).catch((function(t){var n=t.data,r=t.response;if(r){var l=r.data;l.errors?Object.keys(l.errors).map((function(t){return l.errors[t].map((function(t){return e.push({message:t})}))})):e.push({message:l.message})}else if(n){var c=n.errors;e=e.concat(c)}else e.push({message:s("translation.generalError")});a.setState({errorMessages:e,attemptRegister:!1})}))}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.authenticated,n=e.location,r=e.t,l=a.state,s=l.accepted,c=l.attemptRegister,i=l.errorMessages,o=l.successMessages,m=l.infoMessages,u=l.txtEmail,d=l.txtMobileNumber,p=l.txtFleetName,h=l.txtFirstName,g=l.txtLastName,f=Ge.isValidCompanyName(p),b=Ge.isValidName(h),A=Ge.isValidName(g),v=Ge.isValidEmail(u),N=Ge.isValidMobileNumber(d),S=!s||c||!f||!b||!A||!v||!N,C=(n.state||{from:{pathname:"/"}}).from;return!0===t?E.a.createElement(y.a,{to:C}):E.a.createElement("div",null,E.a.createElement(Pa,{errorMessages:i,successMessages:o,infoMessages:m}),E.a.createElement(k.q,null,E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtFleetName"},"Fleet Name"),E.a.createElement(k.u,{type:"text",id:"txtFleetName",placeholder:"Enter fleet name",onChange:a._handleFleetName,value:p||"",invalid:null!==p&&!f}),E.a.createElement(k.s,{valid:f},"Invalid fleet name")),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtFirstName"},"First Name"),E.a.createElement(k.u,{type:"text",id:"txtFirstName",placeholder:"Enter first name",onChange:a._handleFirstName,value:h||"",invalid:null!==h&&!b}),E.a.createElement(k.s,{valid:b},"First name should not be empty"))),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtLastName"},"Last Name"),E.a.createElement(k.u,{type:"text",id:"txtLastName",placeholder:"Enter last name",onChange:a._handleLastName,value:g||"",invalid:null!==g&&!A}),E.a.createElement(k.s,{valid:A},"Last name should not be empty")))),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtEmail"},"Email Address"),E.a.createElement(k.u,{type:"email",id:"txtEmail",placeholder:"Enter email address",onChange:a._handleEmail,value:u||"",invalid:null!==u&&!v}),E.a.createElement(k.s,{valid:v},"Invalid email address")),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"txtMobileNumber"},"Mobile Number"),E.a.createElement(k.y,{className:"mb-3"},E.a.createElement(k.z,{type:"prepend"},E.a.createElement(k.A,null,"+63")),E.a.createElement(k.u,{type:"text",id:"txtMobileNumber",placeholder:"Enter mobile number",onChange:a._handleMobileNumber,value:d||"",invalid:null!==d&&!N}),E.a.createElement(k.s,{valid:N},"Invalid mobile number"))),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"selCountry"},"Country"),E.a.createElement(k.w,{id:"selCountry",onChange:a._handleCountry},E.a.createElement("option",{value:"Philippines"},"Philippines"))),E.a.createElement(k.t,null,E.a.createElement("fieldset",null,E.a.createElement(k.r,{id:"formsCheckboxDefault",onChange:a._handleAgreement,checked:s},r("common.lblAgree")," ",E.a.createElement("a",{target:"_new",href:H},r("common.lblToc"))," ","and"," ",E.a.createElement("a",{target:"_new",href:Y},r("common.lblPrivacy"))))),E.a.createElement(k.c,{pill:!0,theme:"accent",className:"d-table mx-auto",onClick:a._submit,type:"submit",disabled:S},c?E.a.createElement("div",null,E.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),E.a.createElement("span",{className:"sr-only"},r("common.lblLoading"))):"Register")))}}),a.state={countdown:5,accepted:!1,attemptRegister:!1,errorMessages:[],successMessages:[],infoMessages:[],selCountry:null,txtFirstName:null,txtLastName:null,txtEmail:null,txtMobileNumber:null,txtFleetName:null},a}return Object(j.a)(t,e),t}(h.Component),Fa=Object(M.a)(Object(A.b)()(Object(v.b)((function(e){return{authenticated:e.sessionReducer.authenticated}}),{registerFleet:Ra})(Ba))),La=function(){return E.a.createElement(k.k,{fluid:!0,className:"main-content-container my-4 h-100 px-4"},E.a.createElement(k.N,{noGutters:!0,className:"h-100"},E.a.createElement(k.i,{lg:"6",className:"mx-auto my-auto"},E.a.createElement(Ca,null,E.a.createElement(Fa,null)))))},qa=function(e){return E.a.createElement(k.k,{fluid:!0,className:"main-content-container my-4 h-100 px-4"},E.a.createElement(k.N,{noGutters:!0,className:"h-100"},E.a.createElement(k.i,{lg:"6",className:"mx-auto my-auto"},E.a.createElement(Ca,e,E.a.createElement(Ta,null)))))},za=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.post("/password/change",e,{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"profile/CHANGE_PASSWORD"}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},Qa=function(){return function(e){return new Promise((function(t,a){He((function(n){var r=n.api_token;xe.get("/account/activities",{headers:_e(r)}).then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"profile/GET_ACCOUNT_ACTIVITIES",data:{logs:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}))}},Va=function(){return function(e){return new Promise((function(t,a){He((function(n){var r=n.api_token;xe.get("/account",{headers:_e(r)}).then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"profile/GET_ACCOUNT_DETAILS",data:{details:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}))}},Ua=function(){return function(e){return new Promise((function(t,a){He((function(n){var r=n.api_token;xe.get("/account/wallet",{headers:_e(r)}).then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"profile/GET_WALLET",data:{wallet:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}))}},Ha=function(){return function(e){return new Promise((function(t,a){He((function(n){var r=n.api_token;xe.get("/account/transactions",{headers:_e(r)}).then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"profile/GET_TRANSACTIONS",data:{transactions:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}))}},Ya=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.post("/wallet/top-up",{amount:e},{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data.url;s?(t({type:"profile/TOP_UP"}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},Ga=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.get("/wallet/payment/status",{params:e,headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success;s?(t({type:"profile/VALIDATE_TOP_UP"}),a(s)):n(l)})).catch((function(e){n(e)}))}))}))}},Wa={details:null,logs:[],wallet:null,transactions:[]},Xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/GET_ACCOUNT_ACTIVITIES":var a=t.data.logs;return Object(we.a)({},e,{logs:a});case"profile/GET_ACCOUNT_DETAILS":var n=t.data.details;return Object(we.a)({},e,{details:n});case"profile/GET_WALLET":var r=t.data.wallet;return Object(we.a)({},e,{wallet:r});case"profile/GET_TRANSACTIONS":var l=t.data.transactions;return Object(we.a)({},e,{transactions:l});default:return e}},Ka="shops/UPLOAD",Ja=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=e.shopName,s=e.mobileNumber,c=r.api_token;xe.post("/shop",{name:l,contact:s},{headers:_e(c)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"shops/CREATE_SHOP",data:{shop:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},Za=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.get("/shop/".concat(e),{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"shops/GET_SHOP_DETAILS",data:{shop:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},$a=function(){return function(e){return new Promise((function(t,a){He((function(n){var r=n.api_token;xe.get("/shops",{headers:_e(r)}).then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"shops/GET_SHOPS",data:{shops:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}))}},en=function(){return function(e){return new Promise((function(t,a){He((function(n){var r=n.api_token;xe.get("/shops/pms",{headers:_e(r)}).then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"shops/GET_PMS_ENABLED_SHOPS",data:{pmsShops:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}))}},tn=function(e,t){return function(a){return new Promise((function(n,r){He((function(l){var s=l.api_token;xe.put("/application/".concat(e),t,{headers:_e(s)}).then((function(e){var t=e.data,l=t.error,s=t.success,c=t.data;s?(a({type:"shops/UPDATE_APPLICATION",data:{application:c}}),n(c)):r(l)})).catch((function(e){r(e)}))}))}))}},an=function(e,t){return function(a){return new Promise((function(n,r){He((function(l){var s=l.api_token;xe.put("/shop/".concat(e),t,{headers:_e(s)}).then((function(e){var t=e.data,l=t.error,s=t.success,c=t.data;s?(a({type:"shops/UPDATE_SHOP",data:{shop:c}}),n(c)):r(l)})).catch((function(e){r(e)}))}))}))}},nn=function(e,t){return function(a){return new Promise((function(n,r){He((function(l){var s=l.api_token;xe.put("/application/".concat(e,"/verify"),null,{headers:_e(s),params:{type:t}}).then((function(e){var t=e.data,l=t.error,s=t.success;s?(a({type:"shops/VERIFY"}),n(s)):r(l)})).catch((function(e){r(e)}))}))}))}},rn=function(e,t,a){return function(n){return new Promise((function(r,l){He((function(s){var c=s.api_token,i=new FormData;i.append("file",a),i.append("id",t),xe.post("/shop/".concat(e),i,{headers:_e(c)}).then((function(e){var t=e.data,a=t.error,s=t.success,c=t.data;s?(n({type:Ka,data:{file:c}}),r(c)):l(a)})).catch((function(e){l(e)}))}))}))}},ln={shops:[],shop:null,file:null,application:null,pmsShops:[]},sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"shops/CREATE_SHOP":var a=t.data.shop,n=e.shops;return n.push(a),Object(we.a)({},e,{shops:n});case"shops/GET_SHOP_DETAILS":case"shops/UPDATE_SHOP":var r=t.data.shop;return Object(we.a)({},e,{shop:r});case"shops/GET_PMS_ENABLED_SHOPS":var l=t.data.pmsShops;return Object(we.a)({},e,{pmsShops:l});case"shops/GET_SHOPS":var s=t.data.shops;return Object(we.a)({},e,{shops:s});case"shops/UPDATE_APPLICATION":var c=t.data;return Object(we.a)({},e,{application:c});case Ka:var i=t.data.file;return Object(we.a)({},e,{file:i});default:return e}},cn="car-profiles/CREATE_CAR",on="car-profiles/GET_CARS",mn="car-profiles/REQUEST_PMS",un=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.post("/car",e,{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:cn,data:{car:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},dn=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.post("/car/".concat(e,"/schedule"),{},{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success;s?(t({type:"car-profiles/CREATE_CAR_SCHEDULES"}),a(s)):n(l)})).catch((function(e){n(e)}))}))}))}},pn=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.delete("/car/".concat(e),{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"car-profiles/DELETE_CAR_PROFILE",data:{car:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},hn=function(e,t){return function(a){return new Promise((function(n,r){He((function(l){var s=l.api_token;xe.put("/car/".concat(e),t,{headers:_e(s)}).then((function(e){var t=e.data,l=t.error;t.success?(a({type:"car-profiles/EDIT_CAR_PROFILE"}),n(!0)):r(l)})).catch((function(e){r(e)}))}))}))}},En=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.get("/car/".concat(e),{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"car-profiles/GET_CAR_DETAILS",data:{car:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},gn=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.get("/repair-history/".concat(e),{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"car-profiles/GET_REPAIR_HISTORY",data:{history:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},fn=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.get("/car/".concat(e,"/schedules"),{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"car-profiles/GET_CAR_SCHEDULES",data:{schedules:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},bn=function(e,t){return function(a){return new Promise((function(n,r){He((function(l){var s=l.api_token;xe.get("/car/".concat(e,"/schedule/").concat(t),{headers:_e(s)}).then((function(e){var t=e.data,l=t.error,s=t.success,c=t.data;s?(a({type:"car-profiles/GET_CAR_SCHEDULE",data:{schedule:c}}),n(c)):r(l)})).catch((function(e){r(e)}))}))}))}},An=function(){return function(e){return new Promise((function(t,a){He((function(n){var r=n.api_token;xe.get("/cars",{headers:_e(r)}).then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:on,data:{cars:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}))}},vn=function(){return function(e){return new Promise((function(t,a){xe.get("/list/engine-types").then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"car-profiles/GET_ENGINE_TYPES",data:{engineTypes:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}},Nn=function(){return function(e){return new Promise((function(t,a){xe.get("/list/transmission-types").then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"car-profiles/GET_TRANSMISSION_TYPES",data:{transmissionTypes:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}},yn=function(){return function(e){return new Promise((function(t,a){xe.get("/list/vehicle-types").then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"car-profiles/GET_VEHICLE_TYPES",data:{vehicleTypes:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}},Sn=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.post("/preventive/request",e,{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:mn,data:{request:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},Cn=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.post("/preventive-others/request",e,{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"car-profiles/REQUEST_PMS_OTHER",data:{request:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},On={car:null,cars:[],engineTypes:[],request:null,schedule:[],schedules:[],transmissionTypes:[],vehicleTypes:[],history:[]},Pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cn:case"car-profiles/DELETE_CAR_PROFILE":case"car-profiles/GET_CAR_DETAILS":var a=t.data.car;return Object(we.a)({},e,{car:a});case"car-profiles/GET_CAR_SCHEDULE":var n=t.data.schedule;return Object(we.a)({},e,{schedule:n});case"car-profiles/GET_CAR_SCHEDULES":var r=t.data.schedules;return Object(we.a)({},e,{schedules:r});case on:var l=t.data.cars;return Object(we.a)({},e,{cars:l});case"car-profiles/GET_ENGINE_TYPES":var s=t.data.engineTypes;return Object(we.a)({},e,{engineTypes:s});case"car-profiles/GET_TRANSMISSION_TYPES":var c=t.data.transmissionTypes;return Object(we.a)({},e,{transmissionTypes:c});case"car-profiles/GET_VEHICLE_TYPES":var i=t.data.vehicleTypes;return Object(we.a)({},e,{vehicleTypes:i});case"car-profiles/GET_REPAIR_HISTORY":var o=t.data.history;return Object(we.a)({},e,{history:o});case mn:case"car-profiles/REQUEST_PMS_OTHER":var m=t.data.request;return Object(we.a)({},e,{request:m});case"car-profiles/CREATE_CAR_SCHEDULES":default:return e}},xn=Object(A.b)()((function(e){var t=e.t,a=e.user,n=Object(h.useState)("Copy"),r=Object(R.a)(n,2),l=r[0],s=r[1],c=Object(h.useRef)(null);return E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom text-center"},E.a.createElement("div",{className:"text-right mb-0"},E.a.createElement(Te.a,{className:"btn btn-outline-light btn-sm",to:"/settings"},E.a.createElement("i",{className:"material-icons text-light"},"settings"))),E.a.createElement("div",{className:"user-details__avatar mx-auto bg-white border-white mb-3"},E.a.createElement("img",{src:a&&a.image?a.image:K,alt:a?a.fname:null})),a?E.a.createElement("div",null,E.a.createElement("h4",{className:"mb-2"},a.full_name),a.email_verified_at?E.a.createElement(k.b,{theme:"success",pill:!0},E.a.createElement("i",{className:"material-icons mr-2"},"verified_user"),t("translation.txtVerified")):E.a.createElement(k.b,{theme:"danger",pill:!0},E.a.createElement("i",{className:"material-icons mr-2"},"info"),t("translation.txtUnverified"))):null),E.a.createElement(k.f,null,E.a.createElement(k.B,{flush:!0},a?E.a.createElement(k.C,{className:"px-4"},"fleet_admin"===a.user_type?E.a.createElement("div",{className:"mb-3"},E.a.createElement("strong",{className:"text-muted d-block mb-1"},"Fleet User Registration Link"),E.a.createElement(k.y,{className:"mb-3"},E.a.createElement(k.u,{readOnly:!0,innerRef:c,value:"".concat(window.location.origin.toString(),"/f/register?slug=").concat(a.fleet.slug,"&key=").concat(a.fleet.fleet_key,"&token=").concat(a.fleet.token)}),document.queryCommandSupported("copy")&&E.a.createElement(k.z,{type:"append"},E.a.createElement(k.c,{onClick:function(){c.current.select(),document.execCommand("copy"),s("Copied!")},theme:"white"},E.a.createElement("i",{className:"material-icons mr-1"},"file_copy")," ",l)))):null,E.a.createElement("strong",{className:"text-muted d-block mb-1"},t("translation.txtEmail")),E.a.createElement("a",{href:"mailto:".concat(a.email)},a.email),E.a.createElement("strong",{className:"text-muted d-block mb-1 mt-3"},t("translation.txtCountry")),E.a.createElement("span",null,a.country),E.a.createElement("strong",{className:"text-muted d-block mb-1 mt-3"},t("translation.txtMobileNumber")),a.mobile?E.a.createElement("a",{href:"tel:+63".concat(a.mobile)},"+63 ".concat(a.mobile)):"-"):null)))})),wn=function(e){var t=e.carsCount,a=e.shopsCount,n=e.t,r=e.wallet;return E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.f,null,E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"6",className:"text-center"},E.a.createElement("h4",{className:"m-2 text-success font-weight-bold"},Ie.format(r?r.balance:0)),E.a.createElement("span",{className:"text-light text-uppercase"},n("translation.txtWalletValue")),null!==a&&E.a.createElement("p",{className:"mb-0"},E.a.createElement(Te.a,{to:"/top-up"},E.a.createElement("small",null,"Top Up Wallet")))),null!==a?E.a.createElement(k.i,{lg:"6",className:"text-center"},E.a.createElement("h4",{className:"m-2 text-primary font-weight-bold"},a),E.a.createElement("span",{className:"text-light text-uppercase"},n("translation.txtShopsOwned"))):null,null!==t?E.a.createElement(k.i,{lg:"6",className:"text-center"},E.a.createElement("h4",{className:"m-2 text-primary font-weight-bold"},t),E.a.createElement("span",{className:"text-light text-uppercase"},n("translation.txtCarsOwned"))):null)))};wn.defaultProps={carsCount:null,shopsCount:null};var _n=Object(A.b)()(wn),Tn=a(22),jn=a.n(Tn),Mn=a(18),kn=function(e){for(var t=e.repeat,a=[];t>0;)a.push(E.a.createElement("div",{key:t,className:"user-activity__item pr-3 py-3"},E.a.createElement("div",{className:"user-activity__item__icon"}),E.a.createElement("div",{className:"user-activity__item__content w-100"},E.a.createElement(Mn.TextBlock,{color:ke,rows:2})))),t--;return E.a.createElement("div",null,a)},In=Object(A.b)()((function(e){var t=e.isFetching,a=e.logs,n=e.t;return E.a.createElement(k.e,{small:!0},E.a.createElement(k.h,{className:"border-bottom "},E.a.createElement("h6",{className:"m-0"},n("translation.ttlAccountActivities"))),E.a.createElement(k.f,{className:"p-0"},E.a.createElement(jn.a,{ready:!t,showLoadingAnimation:!0,customPlaceholder:E.a.createElement(kn,{repeat:3})},a.length?a.map((function(e,t){return Me(e,t)})):E.a.createElement("div",{className:"user-activity__item pr-3 py-3"},E.a.createElement("div",{className:"user-activity__item__icon"},E.a.createElement("i",{className:"material-icons"},"close")),E.a.createElement("div",{className:"user-activity__item__content"},E.a.createElement("p",null,"No logs found"))))),E.a.createElement(k.g,{className:"border-top text-center"},E.a.createElement(k.c,{disabled:t,size:"sm",theme:"white"},"Load more logs")))})),Dn=function(e){for(var t=e.repeat,a=[];t>0;)a.push(E.a.createElement(k.N,{key:t,className:"px-3 mx-2 my-3"},E.a.createElement(k.i,{className:"user-teams__image my-auto p-0"},E.a.createElement(Mn.RoundShape,{color:ke,style:{width:50,height:50}})),E.a.createElement(k.i,{className:"user-teams__info pl-3"},E.a.createElement(Mn.TextBlock,{color:ke,rows:2})))),t--;return E.a.createElement("div",null,a)},Rn=function(e){var t=e.isFetching,a=e.t,n=e.shops;return E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom "},E.a.createElement("h6",{className:"m-0"},a("translation.ttlShopsCreated"))),E.a.createElement(k.f,{className:"p-0"},E.a.createElement(jn.a,{ready:!t,showLoadingAnimation:!0,customPlaceholder:E.a.createElement(Dn,{repeat:3})},n.map((function(e,t){return E.a.createElement(k.N,{className:"px-3 mx-2 my-3",key:t},E.a.createElement(k.i,{className:"user-teams__image my-auto p-0"},E.a.createElement("img",{className:"rounded",src:e.avatar?e.avatar.path:Z,alt:e.name})),E.a.createElement(k.i,{className:"user-teams__info pl-3"},E.a.createElement(Te.a,{to:"/shop/".concat(e.slug)},E.a.createElement("h6",{className:"m-0 text-primary"},e.name)),E.a.createElement("span",{className:"text-light"},"".concat(e.service_count," ").concat(a("translation.txtServices")))))})))),E.a.createElement(k.g,{className:"border-top text-right"},E.a.createElement(Te.a,{to:"/shops"},"Manage Shops \u2192")))};Rn.defaultProps={shops:[]};var Bn=Object(A.b)()(Rn),Fn=function(e){var t=e.t,a=e.cars;return E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},t("translation.ttlCarProfilesCreated"))),E.a.createElement(k.f,{className:"p-0"},a.map((function(e,t){return E.a.createElement(k.N,{className:"px-3 mx-2 my-3",key:t},E.a.createElement(k.i,{lg:"12",sm:"1",className:"user-teams__image my-auto p-0"},E.a.createElement("img",{alt:"".concat(e.car_year," - ").concat(e.car_make.name||""),className:"rounded",src:J})),E.a.createElement(k.i,{className:"user-teams__info pl-3"},E.a.createElement("h6",{className:"mb-0 font-weight-bold"},e.car_year?"".concat(e.car_year," - "):null,e.car_make.name||""),E.a.createElement(Te.a,{to:"/car/".concat(e.id,"/schedule")},e.car_model.name||""," ",e.car_trim?e.car_trim.name:""),E.a.createElement("div",{className:"mt-2"},E.a.createElement(k.b,{theme:"secondary",outline:!0,className:"text-uppercase"},e.plate_number||"-"))))}))),E.a.createElement(k.g,{className:"border-top"}))};Fn.defaultProps={cars:[]};var Ln=Object(A.b)()(Fn),qn=l.getAccountActivities,zn=l.getAccountDetails,Qn=l.getWallet,Vn=s.getShops,Un=c.getCars,Hn=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.getAccountActivities,n=e.getAccountDetails,r=e.getCars,l=e.getShops,s=e.getWallet;t().then((function(){a.setState({isFetchingLogs:!1})})).catch((function(e){console.log(e)})),n().catch((function(e){console.log(e)})),s().then((function(){a.setState({isFetchingShops:!1})})).catch((function(e){console.log(e)})),l().catch((function(e){e&&console.log(e)})),r().catch((function(e){e&&console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.cars,n=e.details,r=e.logs,l=e.shops,s=e.user,c=e.wallet,i=a.state,o=i.isFetchingCars,m=i.isFetchingLogs,u=i.isFetchingShops;return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{className:"py-4"},E.a.createElement(k.i,{lg:"4"},E.a.createElement(xn,{user:n}),n&&s.user_type===Oe?E.a.createElement(Bn,{isFetching:u,shops:l}):n&&s.user_type===Ce?E.a.createElement(Ln,{isFetching:o,cars:t}):null),E.a.createElement(k.i,{lg:"8"},n&&s.user_type===Oe?E.a.createElement(_n,{shopsCount:l.length,wallet:c}):n&&s.user_type===Ce?E.a.createElement(_n,{carsCount:t.length,wallet:c}):null,E.a.createElement(In,{isFetching:m,logs:r}))))}}),a.state={isFetchingCars:!0,isFetchingLogs:!0,isFetchingShops:!0},a}return Object(j.a)(t,e),t}(h.Component),Yn=Object(A.b)()(Object(v.b)((function(e){return{cars:e.carProfilesReducer.cars,details:e.profilesReducer.details,logs:e.profilesReducer.logs,shops:e.shopsReducer.shops,user:e.authenticationReducer.user,wallet:e.profilesReducer.wallet}}),{getAccountActivities:qn,getAccountDetails:zn,getCars:Un,getShops:Vn,getWallet:Qn})(Hn)),Gn=function(e){var t=e.description,a=e.title;return E.a.createElement(k.N,{form:!0,className:"mx-4"},E.a.createElement(k.i,{className:"mb-3"},E.a.createElement("h6",{className:"form-text m-0"},a),E.a.createElement("p",{className:"form-text text-muted m-0"},t)))},Wn=l.changePassword,Xn=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"_handleOldPassword",{enumerable:!0,writable:!0,value:function(e){a.setState({txtOldPassword:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleNewPassword",{enumerable:!0,writable:!0,value:function(e){a.setState({txtNewPassword:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleConfirmNewPassword",{enumerable:!0,writable:!0,value:function(e){a.setState({txtConfirmNewPassword:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_submit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=[],n=[];a.setState({attemptSubmit:!0,errorMessages:t,successMessages:n},(function(){var e=a.props,r=e.changePassword,l=e.t,s=a.state;r({old_password:s.txtOldPassword,new_password:s.txtNewPassword,confirm_new_password:s.txtConfirmNewPassword}).then((function(){n.push({message:"Your password has been changed."}),a.setState({attemptSubmit:!1,txtOldPassword:null,txtNewPassword:null,txtConfirmNewPassword:null,successMessages:n})})).catch((function(e){Array.isArray(e)?t=t.concat(e):e.message?t.push({message:e.message}):t.push({message:l("translation.generalError")}),a.setState({errorMessages:t,attemptSubmit:!1})}))}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props.t,t=a.state,n=t.attemptSubmit,r=t.errorMessages,l=t.successMessages,s=t.txtOldPassword,c=t.txtNewPassword,i=t.txtConfirmNewPassword,o=Ge.isValidPassword(s,s),m=Ge.isValidPassword(c,i);return E.a.createElement("div",null,E.a.createElement(k.k,{fluid:!0,className:"px-0"},l.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"success",className:"outline-success mb-0"},E.a.createElement("p",{className:"mb-0"},e.message))})),r.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"danger",className:"outline-danger mb-0"},E.a.createElement("p",{className:"mb-0"},e.message))}))),E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4 my-5"},E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"8",className:"mx-auto mt-4"},E.a.createElement(k.e,{small:!0,className:"edit-user-details mb-4"},E.a.createElement(k.f,{className:"p-0"},E.a.createElement(k.q,{className:"py-4"},E.a.createElement(Gn,{title:"Account Password",description:"Update your password."}),E.a.createElement("div",{className:"mx-4"},E.a.createElement(k.N,{form:!0,className:"mb-3"},E.a.createElement(k.i,{lg:"12",className:"form-group"},E.a.createElement("label",{htmlFor:"txtOldPassword"},"Password"),E.a.createElement(k.u,{type:"password",id:"txtOldPassword",placeholder:"Enter current password",autoComplete:"current-password",value:s||"",onChange:a._handleOldPassword,invalid:null!==s&&!o}))),E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{lg:"12",className:"form-group"},E.a.createElement("label",{htmlFor:"txtNewPassword"},"New Password"),E.a.createElement(k.u,{type:"password",id:"txtNewPassword",placeholder:"Enter new password",autoComplete:"new-password",value:c||"",onChange:a._handleNewPassword,invalid:null!==c&&null!==i&&!m}),E.a.createElement(k.s,{valid:m},e("validation.errPassword")))),E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{lg:"12",className:"form-group"},E.a.createElement("label",{htmlFor:"txtConfirmNewPassword"},"Confirm New Password"),E.a.createElement(k.u,{type:"password",id:"txtConfirmNewPassword",placeholder:"Confirm new password",autoComplete:"new-password",value:i||"",onChange:a._handleConfirmNewPassword,invalid:null!==c&&null!==i&&!m})))))),E.a.createElement(k.g,{className:"border-top"},E.a.createElement(k.c,{size:"sm",theme:"success",className:"ml-auto mr-3 float-right",onClick:a._submit,disabled:!o},n?E.a.createElement("div",null,E.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),E.a.createElement("span",{className:"sr-only"},e("common.lblLoading"))):"Update Settings"),E.a.createElement(Te.a,{to:"/profile",className:"btn btn-sm btn-white ml-auto mr-3 float-right"},"\u2190 Go Back")))))))}}),a.state={attemptSubmit:!1,errorMessages:[],successMessages:[],txtOldPassword:null,txtNewPassword:null,txtConfirmNewPassword:null},a}return Object(j.a)(t,e),t}(h.Component),Kn=Object(A.b)()(Object(v.b)(null,{changePassword:Wn})(Xn)),Jn=function(e){var t=e.title,a=e.subtitle,n=e.className,r=Object(b.a)(e,["title","subtitle","className"]),l=zt()(n,"text-center","text-md-left","mb-sm-0");return E.a.createElement(k.i,Object.assign({className:l},r),E.a.createElement("span",{className:"text-uppercase page-subtitle"},a),E.a.createElement("h3",{className:"page-title text-capitalize"},t))},Zn=function(){return E.a.createElement("div",{className:"d-flex"},E.a.createElement("div",{className:"d-flex flex-column mr-1 ml-1"},E.a.createElement(k.v,{checked:!0,className:"mr-1 ml-1 d-inline-block"},E.a.createElement("img",{className:"mr-2",width:"30",src:"https://www.paypalobjects.com/webstatic/en_US/i/buttons/pp-acceptance-small.png",alt:"Pay with PayPal"}),E.a.createElement("span",null,"PayPal"))))},$n=function(e){var t=e.getAmount,a=e.items,n=e.defaultSelected,r=Object(h.useState)(n),l=Object(R.a)(r,2),s=l[0],c=l[1];return E.a.createElement("div",{className:"w-100"},E.a.createElement(k.N,null,a.map((function(e,a){return E.a.createElement(k.i,{key:"topup-times-".concat(a),onClick:function(){c(a),t(e.amount)}},E.a.createElement(k.e,{small:!0,className:"ml-1 mr-2 mb-4 topup-options"},E.a.createElement(k.f,{className:"m-1"},E.a.createElement("div",{className:a===s?"border border-success rounded-sm":"border border-clear rounded-sm",style:{borderWidth:"5px !important"}},E.a.createElement("div",{className:"d-flex justify-content-end"},E.a.createElement("div",{className:"pl-1",style:{backgroundColor:a===s?"#17c671":"#fff"}},E.a.createElement("i",{style:{color:"#fff"},className:"material-icons mr-1"},"check"))),E.a.createElement("div",{className:"text-center p-2"},E.a.createElement("h3",{className:"font-weight-bold"},"\u20b1",e.amount))))))}))))};$n.defaultProps={getAmount:function(){},items:[],defaultSelected:2};var er=$n,tr=[{amount:1e3,description:"Individual"},{amount:2e3,description:"Professional"},{amount:2500,description:"Most Popular"},{amount:5e3,description:"Big Bonus"},{amount:1e4,description:"Best Value"}],ar=l.topUp,nr=l.getWallet,rr=l.validateTopUp,lr=l.getTransactions,sr=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.validateTopUp,n=e.location,r=e.t,l=ua.a.parse(n.search),s=l.paymentId,c=l.token,i=l.PayerID;if(a._getWallet(),s&&c&&i){var o=[],m=[];a.setState({infoMessages:[{message:"Processing payment..."}],redirecting:!0},(function(){t(ua.a.parse(n.search)).then((function(e){e&&(o.push({message:"Payment has been credited to your account."}),a.setState({infoMessages:[],successMessages:o,redirecting:!1},a._getWallet))})).catch((function(e){Array.isArray(e)?m=m.concat(e):m.push({message:r("translation.generalError")}),a.setState({errorMessages:m,infoMessages:[],attemptSubmit:!1})}))}))}}}),Object.defineProperty(Object(T.a)(a),"_getWallet",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.getWallet,n=e.getTransactions;t().catch((function(e){return console.log(e)})),n().catch((function(e){return console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_getAmount",{enumerable:!0,writable:!0,value:function(e){a.setState({amount:e})}}),Object.defineProperty(Object(T.a)(a),"_submit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=a.props,n=t.topUp,r=t.t,l=a.state.amount,s=[];a.setState({redirecting:!0},(function(){n(l).then((function(e){window.scrollTo(0,0),window.location=e})).catch((function(e){Array.isArray(e)?s=s.concat(e):s.push({message:r("translation.generalError")}),a.setState({errorMessages:s,redirecting:!1})}))}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.wallet,n=e.transactions,r=a.state,l=r.errorMessages,s=r.successMessages,c=r.infoMessages,i=r.redirecting;return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{className:"page-header py-4"},E.a.createElement(Jn,{title:"Top Up",subtitle:"Payment",className:"text-sm-left mb-3"})),E.a.createElement(Pa,{successMessages:s,errorMessages:l,infoMessages:c}),E.a.createElement(k.N,null,E.a.createElement(k.i,null,E.a.createElement(k.e,{small:!0,className:"mb-4 p-2"},E.a.createElement(k.f,{className:"text-center"},E.a.createElement("h4",null,"Wallet Value"),E.a.createElement("h4",{className:"mb-0 text-success font-weight-bold"},Ie.format(t?t.balance:0)))),E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},"Transaction History")),E.a.createElement(k.f,null,E.a.createElement(k.N,null,E.a.createElement(k.i,{className:"px-3"},n.length?n.map((function(e,t){return E.a.createElement("div",{key:t,className:"border-bottom p-2"},E.a.createElement("p",{className:"mb-0"},E.a.createElement("span",{className:"withdraw"===e.type?"text-danger":"text-success"},Ie.format(e.amount))," ",E.a.createElement(k.b,{pill:!0,theme:e.confirmed?"success":"info"},e.confirmed?"Confirmed":"Pending")),E.a.createElement("p",{className:"mb-0"},E.a.createElement("small",null,L()(e.created_at).fromNow())),E.a.createElement("small",null,"ID: ",E.a.createElement("strong",null,e.uuid)))})):E.a.createElement("p",{className:"text-center mb-0"},"No transactions found")))))),E.a.createElement(k.i,{lg:"8"},E.a.createElement(k.e,{small:!0,className:"mb-4 p-2"},E.a.createElement(k.f,{className:"mb-4 text-center"},E.a.createElement("div",{className:"mt-2 mb-4"},E.a.createElement("h2",{className:"text-center"},"Stock up on Credits"),E.a.createElement("h6",{className:"text-center"},"Buy credits to get a hassle free transaction experience with AutoServed")),E.a.createElement("div",{className:"pt-2 pb-2"},E.a.createElement(er,{items:tr,getAmount:a._getAmount})),E.a.createElement("div",{className:"d-flex justify-content-center"},E.a.createElement("h6",{className:"d-inline mr-2"},"Payment Method:"),E.a.createElement(Zn,null)),E.a.createElement("div",{className:"d-flex align-items-center flex-column"},E.a.createElement(k.c,{disabled:i,className:"w-25",onClick:a._submit},"Proceed to PayPal")))))))}}),a.state={errorMessages:[],successMessages:[],infoMessages:[],amount:2500,redirecting:!1,paymentMethod:"paypal"},a}return Object(j.a)(t,e),t}(h.Component),cr=Object(A.b)()(Object(v.b)((function(e){return{user:e.sessionReducer.user,wallet:e.profilesReducer.wallet,transactions:e.profilesReducer.transactions}}),{topUp:ar,getWallet:nr,validateTopUp:rr,getTransactions:lr})(sr)),ir=Object(A.b)()((function(e){var t=e.statOne,a=e.statTwo,n=e.t,r=e.userType,l=e.wallet;return E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.f,null,E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"4",className:"text-center"},E.a.createElement("h4",{className:"m-2 text-success font-weight-bold"},Ie.format(l?l.balance:0)),E.a.createElement("span",{className:"text-light text-uppercase"},n("translation.txtWalletValue"))),E.a.createElement(k.i,{lg:"4",className:"text-center"},E.a.createElement("h4",{className:"m-2 text-primary font-weight-bold"},t),E.a.createElement("span",{className:"text-light text-uppercase"},r===Oe?"Upcoming Appointments":r===Ce?"Appointments Made":"fleet_admin"===r?"Members":"Users")),E.a.createElement(k.i,{lg:"4",className:"text-center"},E.a.createElement("h4",{className:"m-2 text-primary font-weight-bold"},a),E.a.createElement("span",{className:"text-light text-uppercase"},r===Oe?"Pending Request Estimates":r===Ce?"Requests Sent":"fleet_admin"===r?"Car Profiles":"Vendors")))))})),or=l.getWallet,mr=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){(0,a.props.getWallet)().catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.user,n=e.wallet;return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{className:"page-header py-4"},E.a.createElement(Jn,{title:"Dashboard",subtitle:"Overview",className:"text-sm-left mb-3"})),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},t&&!t.email_verified?E.a.createElement(k.a,{fade:!0,theme:"warning",className:"rounded"},E.a.createElement("p",{className:"mb-0"},E.a.createElement("i",{className:"material-icons"},"warning")," Please check your email to verify your account.")):null,E.a.createElement(ir,{statOne:0,statTwo:0,userType:t?t.user_type:null,wallet:n}))))}}),a.state={},a}return Object(j.a)(t,e),t}(h.Component),ur=Object(A.b)()(Object(v.b)((function(e){return{user:e.sessionReducer.user,wallet:e.profilesReducer.wallet}}),{getWallet:or})(mr)),dr=(a(172),function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.put("/request/".concat(e,"/cancel"),null,{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"requests/CANCEL_REQUEST",data:{request:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}}),pr=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.post("/estimate",Object(we.a)({},e),{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"requests/CREATE_ESTIMATE",data:{estimate:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},hr=function(){return function(e){return new Promise((function(t,a){He((function(n){var r=n.api_token;xe.get("/requests",{headers:_e(r)}).then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"requests/GET_REQUESTS",data:{requests:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}))}},Er=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.get("/request/".concat(e),{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"requests/GET_REQUEST_DETAILS",data:{request:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},gr=function(){return function(e){return new Promise((function(t,a){xe.get("/list/time").then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"requests/GET_SCHEDULE_TIME_OPTIONS",data:{timeOptions:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}},fr={estimate:null,requests:[],timeOptions:[]},br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"requests/CREATE_ESTIMATE":var a=t.data.estimate;return Object(we.a)({},e,{estimate:a});case"requests/GET_REQUEST_DETAILS":var n=t.data.request;return Object(we.a)({},e,{request:n});case"requests/GET_REQUESTS":var r=t.data.requests;return Object(we.a)({},e,{requests:r});case"requests/GET_SCHEDULE_TIME_OPTIONS":var l=t.data.timeOptions;return Object(we.a)({},e,{timeOptions:l});default:return e}},Ar=function(){return function(e){return new Promise((function(t){e({type:"services/CLEAR_PMS_DATA",data:{pmsPrices:null}}),t(!0)}))}},vr=function(){return function(e){return new Promise((function(t,a){He((function(n){var r=n.api_token;xe.get("/services/corrective",{headers:_e(r)}).then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"services/GET_SERVICES",data:{services:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}))}},Nr=function(){return function(e){return new Promise((function(t,a){xe.get("/list/pms").then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"services/GET_MILEAGES",data:{mileages:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}},yr=function(){return function(e){return new Promise((function(t,a){xe.get("/list/pms-others").then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"services/GET_OTHER_SERVICES",data:{otherServices:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}},Sr=function(){return function(e){return new Promise((function(t,a){xe.get("/list/oil-types").then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"services/GET_OIL_TYPES",data:{oilTypes:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}},Cr=function(){return function(e){return new Promise((function(t,a){xe.get("/list/oil-types").then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"services/GET_OIL_TYPE_OPTIONS",data:{oilTypeOptions:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}},Or=function(){return function(e){return new Promise((function(t,a){xe.get("/list/part-types").then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"services/GET_PART_TYPES",data:{partTypes:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}},Pr=function(){return function(e){return new Promise((function(t,a){xe.get("/list/part-types").then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"services/GET_PART_TYPE_OPTIONS",data:{partTypeOptions:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}},xr=function(e){return function(t){return new Promise((function(a,n){xe.get("/pms",{params:{mileage:e}}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"services/GET_PMS_ITEM",data:{pms:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}},wr=function(e){return function(t){return new Promise((function(a,n){xe.get("/pms-others",{params:{type:e}}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"services/GET_PMS_OTHERS_ITEM",data:{otherService:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}},_r=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.get("/preventive/price/others",{params:{id:e},headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"services/GET_SHOP_PMS_OTHER_PRICES",data:{otherPrices:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},Tr=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.get("/preventive/price/labor/others",{params:{id:e},headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"services/GET_SHOP_PMS_OTHER_PRICES",data:{otherPrices:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},jr=function(){return function(e){return new Promise((function(t,a){He((function(n){var r=n.api_token;xe.get("/services/pms/all",{headers:_e(r)}).then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"services/GET_PRICED_SHOP_PMS_DATA",data:{pricedPms:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}))}},Mr=function(){return function(e){return new Promise((function(t,a){He((function(n){var r=n.api_token;xe.get("/services/pms/others/all",{headers:_e(r)}).then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"services/GET_PRICED_SHOP_PMS_OTHERS_DATA",data:{pricedPmsOthers:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}))}},kr=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.get("/services/pms",{params:{mileage:e},headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"services/GET_SHOP_PMS_DATA",data:{pmsPrices:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},Ir=function(e,t){return function(a){return new Promise((function(n,r){He((function(l){var s=l.api_token;xe.get("/preventive/price/labor",{params:{mileage:e,car_type:t},headers:_e(s)}).then((function(e){var t=e.data,l=t.error,s=t.success,c=t.data;s?(a({type:"services/GET_SHOP_PMS_LABOR_PRICE",data:{laborPrice:c}}),n(c)):r(l)})).catch((function(e){r(e)}))}))}))}},Dr=function(e,t){return function(a){return new Promise((function(n,r){He((function(l){var s=l.api_token;xe.get("/preventive/price/oil",{params:{mileage:e,oil_type:t},headers:_e(s)}).then((function(e){var t=e.data,l=t.error,s=t.success,c=t.data;s?(a({type:"services/GET_SHOP_PMS_OIL_PRICE",data:{oilPrice:c}}),n(c)):r(l)})).catch((function(e){r(e)}))}))}))}},Rr=function(){return function(e){return new Promise((function(t,a){xe.get("/list/vehicle-types").then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"services/GET_VEHICLE_TYPES",data:{vehicleTypes:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}},Br=function(e,t){return function(a){return new Promise((function(n,r){He((function(l){var s=l.api_token;xe.post("/services/pms/".concat(e),t,{headers:_e(s)}).then((function(e){var t=e.data,l=t.error,s=t.success,c=t.data;s?(a({type:"services/SAVE_PMS_DATA",data:{pmsValue:c}}),n(c)):r(l)})).catch((function(e){r(e)}))}))}))}},Fr=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.post("preventive/price/others",e,{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success;s?(t({type:"services/SAVE_PMS_OTHERS_DATA"}),a(s)):n(l)})).catch((function(e){n(e)}))}))}))}},Lr=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.put("/shop/".concat(e,"/toggle-pms"),null,{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"services/TOGGLE_SHOP_PMS",data:{shop:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},qr={laborPrice:null,mileages:[],oilPrice:null,oilTypes:[],oilTypeOptions:[],partTypes:[],partTypeOptions:[],pms:null,pmsPrices:null,pmsValue:null,service:null,otherServices:[],otherService:null,otherPrices:null,services:[],shop:null,vehicleTypes:[],pricedPms:null,pricedPmsOthers:null,pmsOthersLaborPrices:null},zr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"services/CLEAR_PMS_DATA":var a=t.data.pmsPrices;return Object(we.a)({},e,{pmsPrices:a});case"services/GET_SERVICES":var n=t.data.services;return Object(we.a)({},e,{services:n});case"services/GET_OTHER_SERVICES":var r=t.data.otherServices;return Object(we.a)({},e,{otherServices:r});case"services/CREATE_SERVICE":var l=t.data.service;return Object(we.a)({},e,{service:l});case"services/GET_MILEAGES":var s=t.data.mileages;return Object(we.a)({},e,{mileages:s});case"services/GET_OIL_TYPES":var c=t.data.oilTypes;return Object(we.a)({},e,{oilTypes:c});case"services/GET_OIL_TYPE_OPTIONS":var i=t.data.oilTypeOptions;return Object(we.a)({},e,{oilTypeOptions:i});case"services/GET_PART_TYPES":var o=t.data.partTypes;return o.pop(),Object(we.a)({},e,{partTypes:o});case"services/GET_PART_TYPE_OPTIONS":var m=t.data.partTypeOptions;return Object(we.a)({},e,{partTypeOptions:m});case"services/GET_PMS_ITEM":var u=t.data.pms;return Object(we.a)({},e,{pms:u});case"services/GET_PMS_OTHERS_ITEM":var d=t.data.otherService;return Object(we.a)({},e,{otherService:d});case"services/GET_SHOP_PMS_DATA":var p=t.data.pmsPrices;return Object(we.a)({},e,{pmsPrices:p});case"services/GET_SHOP_PMS_OTHER_PRICES":var h=t.data.otherPrices;return Object(we.a)({},e,{otherPrices:h});case"services/GET_SHOP_PMS_LABOR_PRICE":var E=t.data.laborPrice;return Object(we.a)({},e,{laborPrice:E});case"services/GET_SHOP_PMS_OIL_PRICE":var g=t.data.oilPrice;return Object(we.a)({},e,{oilPrice:g});case"services/GET_VEHICLE_TYPES":var f=t.data.vehicleTypes;return Object(we.a)({},e,{vehicleTypes:f});case"services/SAVE_PMS_DATA":var b=t.data.pmsValue;return Object(we.a)({},e,{pmsValue:b});case"services/GET_PRICED_SHOP_PMS_DATA":var A=t.data.pricedPms;return Object(we.a)({},e,{pricedPms:A});case"services/GET_PRICED_SHOP_PMS_OTHERS_DATA":var v=t.data.pricedPmsOthers;return Object(we.a)({},e,{pricedPmsOthers:v});case"services/TOGGLE_SHOP_PMS":var N=t.data.shop;return Object(we.a)({},e,{shop:N});default:return e}},Qr={open:"primary",accepted:"success",cancelled:"danger",expired:"salmon"},Vr={pending:{theme:"secondary",text:"pending"},confirmed:{theme:"success",text:"confirmed"},verified3:{theme:"primary",text:"verified - tier 3"},verified2:{theme:"info",text:"verified - tier 2"},verified1:{theme:"royal-blue",text:"verified - tier 1"}},Ur=Object(A.b)()((function(e){e.t;return E.a.createElement(k.e,{className:"mb-4"},E.a.createElement(k.f,{className:"text-center"},E.a.createElement("img",{src:le,alt:"Garage Icon",style:{height:75},className:"mb-3"}),E.a.createElement("h4",null,E.a.createElement("strong",null,"This page displays all requested services for your cars.")),E.a.createElement("h6",null,"You have no requests. Go to 'Car Profiles' to create your first request.")))})),Hr=function(e){for(var t=e.repeat,a=[];t>0;)a.push(E.a.createElement("tr",{key:t},E.a.createElement("td",null,E.a.createElement(Mn.TextBlock,{color:ke,rows:3,style:{width:300}})),E.a.createElement("td",null,E.a.createElement(Mn.TextBlock,{color:ke,rows:1,style:{width:200}})),E.a.createElement("td",null,E.a.createElement(Mn.TextBlock,{color:ke,rows:1})),E.a.createElement("td",null,E.a.createElement("div",{className:"d-table mx-auto"},E.a.createElement(k.b,{className:"text-capitalize",pill:!0,theme:"secondary"},"-"))),E.a.createElement("td",null))),t--;return a},Yr=function(e){var t=e.events,a=e.isFetching,n=e.requests;return a||n.length?E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},"List of Requests Sent")),E.a.createElement(k.f,{className:"p-0"},E.a.createElement(k.k,{fluid:!0,className:"px-0"},E.a.createElement("div",{className:"datatable datatable--plain"},E.a.createElement("table",{className:"table lo-stats mb-0"},E.a.createElement("thead",{className:"py-1 bg-light text-semibold border-bottom"},E.a.createElement("tr",null,E.a.createElement("th",null,E.a.createElement("small",null,"Request Details")),E.a.createElement("th",null,E.a.createElement("small",null,"Requested Schedule(s)")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Type")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Status")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Action")))),E.a.createElement("tbody",null,E.a.createElement(jn.a,{ready:!a,showLoadingAnimation:!0,customPlaceholder:E.a.createElement(Hr,{repeat:3})},n.map((function(e,a){return E.a.createElement("tr",{key:a},E.a.createElement("td",{"data-table-label":"Request Details"},E.a.createElement(Te.a,{to:"/car/".concat(e.car.id,"/schedule")},e.car.car_year?"".concat(e.car.car_year," - "):null,e.car.car_make.name||""," ",e.car.car_model.name||""," ",e.car.car_trim?e.car.car_trim.name:""),E.a.createElement("p",{className:"mb-0"},E.a.createElement("small",null,"Requested: ",L()(e.created_at).fromNow()))),E.a.createElement("td",{className:"text-capitalize","data-table-label":"Request Schedule(s)"},e.preferred_schedule.map((function(e,t){return E.a.createElement("p",{key:t,className:"mb-0"},L()(e.date).format("(dddd) MMM. Do, YYYY")," ","- ",e.time)}))),E.a.createElement("td",{className:"text-center text-capitalize text-primary","data-table-label":"Type"},e.type||"-","preventive"===e.type?" - ".concat(De.format(e.pms_request.pms.mileage)):null),E.a.createElement("td",{className:"text-center text-uppercase","data-table-label":"Status"},E.a.createElement(k.b,{theme:Qr[e.status],className:"text-uppercase"},e.status||"-")),E.a.createElement("td",{className:"text-center text-capitalize","data-table-label":"Actions"},"open"===e.status?E.a.createElement(k.c,{theme:"danger",size:"sm",className:"mx-2 mb-2",onClick:function(){return t.handleCancellation(e.id,a)}},E.a.createElement("i",{className:"material-icons"},"close")," Cancel"):"expired"!==e.status&&"cancelled"!==e.status||"preventive"!==e.type?null:E.a.createElement(k.c,{theme:"success",size:"sm",className:"mx-2 mb-2",onClick:function(){t.toggleModalReopen(e.id,a)}},E.a.createElement("i",{className:"material-icons"},"repeat")," Request Again")))})))))))),E.a.createElement(k.g,{className:"border-top"})):E.a.createElement(Ur,null)};Yr.defaultProps={events:{},requests:[]};var Gr=Object(A.b)()(Yr),Wr=Object(A.b)()((function(e){e.t;return E.a.createElement(k.e,{className:"mb-4"},E.a.createElement(k.f,{className:"text-center"},E.a.createElement("img",{src:le,alt:"Garage Icon",style:{height:75},className:"mb-3"}),E.a.createElement("h4",null,E.a.createElement("strong",null,"This page displays all open requests by customers.")),E.a.createElement("h6",null,"No requests as of the moment. Come back after a few hours to start receiving requests from customers.")))})),Xr=function(e){for(var t=e.repeat,a=[];t>0;)a.push(E.a.createElement("tr",{key:t},E.a.createElement("td",{className:"text-center"},E.a.createElement(k.b,{outline:!0,theme:"dark",pill:!0},"-")),E.a.createElement("td",null,E.a.createElement(Mn.TextBlock,{color:ke,rows:3,style:{width:300}})),E.a.createElement("td",null,E.a.createElement(Mn.TextBlock,{color:ke,rows:1,style:{width:200}})),E.a.createElement("td",null,E.a.createElement(Mn.TextBlock,{color:ke,rows:1})),E.a.createElement("td",null))),t--;return a},Kr=function(e){var t=e.events,a=e.isFetching,n=e.requests,r=e.timers;return a||n.length?E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},"List of Open Requests")),E.a.createElement(k.f,{className:"p-0"},E.a.createElement(k.k,{fluid:!0,className:"px-0"},E.a.createElement("table",{className:"table lo-stats mb-0"},E.a.createElement("thead",{className:"py-1 bg-light text-semibold border-bottom"},E.a.createElement("tr",null,E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Remaining Time")),E.a.createElement("th",null,E.a.createElement("small",null,"Request Details")),E.a.createElement("th",null,E.a.createElement("small",null,"Requested Schedule")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Type")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Action")))),E.a.createElement("tbody",null,E.a.createElement(jn.a,{ready:!a,showLoadingAnimation:!0,customPlaceholder:E.a.createElement(Xr,{repeat:3})},n.map((function(e,a){var n=Math.floor(r[a]/60/60)||0,l=Math.floor(r[a]/60%60)||0,s=Math.floor(r[a])%60||0;return E.a.createElement("tr",{key:a},E.a.createElement("td",{className:"text-center"},E.a.createElement(k.b,{outline:!0,theme:"dark",pill:!0},0===n||"".concat(n," hrs")," ",l," min"," ",n>0||"".concat(s," sec"))),E.a.createElement("td",null,"preventive"===e.type?E.a.createElement("h6",null,"PMS Service:"," ",E.a.createElement(Te.a,{className:"font-weight-bold text-primary",to:"/services/preventive/mileage-".concat(e.pms_request.pms.mileage)},De.format(e.pms_request.pms.mileage)," ","km")):"other services"===e.type?E.a.createElement("h6",null,"Other Services:"," ",E.a.createElement("span",{className:"font-weight-bold text-primary text-capitalize"},e.pms_others_request.pms_others.name)):null,E.a.createElement("p",{className:"text-primary mb-0"},e.car.car_year?"".concat(e.car.car_year," - "):null,e.car.car_make.name||""," ",e.car.car_model.name||""," ",e.car.car_trim?e.car.car_trim.name:""),E.a.createElement("p",{className:"mb-0"},E.a.createElement("small",null,"Requested by:"," ",E.a.createElement("strong",null,e.car.user.fname," ",e.car.user.lname.charAt(0),".")," ",L()(e.created_at).fromNow()))),E.a.createElement("td",{className:"text-capitalize"},e.preferred_schedule.map((function(e,t){return E.a.createElement("p",{key:t,className:"mb-0"},L()(e.date).format("(dddd) MMM. Do, YYYY")," ","- ",e.time)}))),E.a.createElement("td",{className:"text-center text-capitalize text-primary"},e.type||"-"),E.a.createElement("td",{className:"text-center text-capitalize"},E.a.createElement(k.c,{theme:"success",size:"sm",className:"mx-2",disabled:e.disabled,onClick:function(){return t.toggleModalCreation(e.id,a)}},E.a.createElement("i",{className:"material-icons"},"check")," Create Estimate")))}))))))),E.a.createElement(k.g,{className:"border-top"})):E.a.createElement(Wr,null)};Kr.defaultProps={events:{},requests:[],timers:[]};var Jr=Object(A.b)()(Kr),Zr=a(42),$r=a.n(Zr),el=function(e){var t=e.current,a=e.data,n=e.errorMessages,r=e.events,l=e.maxPages,s=e.open,c=e.toggle,i=e.validated;return E.a.createElement(k.D,{centered:!0,fade:!0,open:s,role:"dialog",size:"lg",toggle:c},E.a.createElement(k.G,{closeAriaLabel:"Close",toggle:c},a.content?"Creating estimates for PMS ".concat(De.format(a.content.pms_request.pms.mileage)," km"):""),E.a.createElement(k.E,{className:"pt-3",style:{height:400,overflow:"auto"}},E.a.createElement("div",{className:"progress-wrapper mb-3"},E.a.createElement("div",{className:"progress-label"},"Completion Progress"),E.a.createElement(k.M,{className:"progress-sm",max:l,striped:!0,value:t+1},E.a.createElement("span",{className:"progress-value"},"".concat(t+1," / ").concat(l))),a.laborPrice&&a.laborPrice.labor_price&&a.oilPrice&&a.oilPrice.oil_price?null:E.a.createElement(k.a,{fade:!0,theme:"warning",className:"mt-3 rounded"},E.a.createElement("p",{className:"mb-0"},E.a.createElement("i",{className:"material-icons"},"warning")," You haven't provided any price for this type of service. Click"," ",E.a.createElement(Te.a,{className:"text-secondary",to:"/services/preventive/mileage-".concat(a.content?a.content.pms_request.pms.mileage:"")},"here")," ","to update the prices.")),a.pmsShops.length?null:E.a.createElement(k.a,{fade:!0,theme:"warning",className:"mt-3 rounded"},E.a.createElement("p",{className:"mb-0"},E.a.createElement("i",{className:"material-icons"},"warning")," You have no shops that have PMS enabled. Click"," ",E.a.createElement(Te.a,{className:"text-secondary",to:"/services/preventive"},"here")," ","to enable shops."))),n.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"danger",className:"outline-danger rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})),0===t?E.a.createElement("div",null,a.content?E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"6"},E.a.createElement("strong",null,"Check"),E.a.createElement("ul",{className:"mt-3"},a.content.pms_request.pms.check_items.map((function(e,t){return E.a.createElement("li",{key:t},E.a.createElement("small",null,e))})))),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},E.a.createElement("strong",null,"Clean"),E.a.createElement("ul",{className:"mt-3"},a.content.pms_request.pms.clean_items.map((function(e,t){return E.a.createElement("li",{key:t},E.a.createElement("small",null,e))}))))),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},E.a.createElement("strong",null,"Change"),E.a.createElement("ul",{className:"mt-3"},a.content.pms_request.pms.change_items.map((function(e,t){return E.a.createElement("li",{key:t},E.a.createElement("small",null,e))}))))))):null):1===t?E.a.createElement("div",{className:"text-center"},E.a.createElement("h5",null,"Customer Car Details"),a.content?E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"9"},E.a.createElement("h4",{className:"mb-2 text-center"},a.content.car.car_year?"".concat(a.content.car.car_year," - "):null,a.content.car.car_make.name||""),E.a.createElement("h6",{className:"text-center"},a.content.car.car_model.name||""," ",a.content.car.car_trim?a.content.car.car_trim.name:""),E.a.createElement(k.B,{flush:!0},E.a.createElement(k.C,{className:"px-4 text-center"},E.a.createElement("div",null,E.a.createElement("span",{className:"font-weight-bold text-primary"},De.format(a.content.car.current_mileage)," ","km")," ","since"," ",E.a.createElement("span",{className:"font-weight-bold"},a.content.car.date_purchased?L()(a.content.car.date_purchased).format("MMM. Do, YYYY"):"-"))),E.a.createElement(k.C,{className:"px-4"},E.a.createElement("strong",{className:"text-muted d-block mb-1 mt-3"},"Vehicle Type"),E.a.createElement("span",{className:"text-capitalize"},a.content.car.type),E.a.createElement("strong",{className:"text-muted d-block mb-1 mt-3"},"Engine / Transmission"),E.a.createElement("span",{className:"text-capitalize"},a.content.car.engine_type," /"," ",a.content.car.transmission),E.a.createElement("strong",{className:"text-muted d-block mb-1 mt-3"},"Last Serviced"),E.a.createElement("span",{title:a.content.car.last_serviced?L()(a.content.car.last_serviced).format("MMMM Do YYYY"):"-"},a.content.car.last_serviced?L()(a.content.car.last_serviced).fromNow():"-"))))):null):2===t?E.a.createElement("div",{className:"text-center"},E.a.createElement("h5",null,"Select available shop ",E.a.createElement("span",{className:"text-danger"},"*")),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"9"},E.a.createElement(k.w,{className:"text-capitalize",onChange:r.handleSelectedShop,value:a.selectedShop||""},a.selectedShop?null:E.a.createElement("option",{value:""},"Choose Shop"),a.pmsShops.map((function(e,t){return E.a.createElement("option",{key:"date-".concat(t),value:t},e.name)}))))),E.a.createElement("h5",null,"Select best schedule ",E.a.createElement("span",{className:"text-danger"},"*")),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"9"},E.a.createElement(k.w,{className:"text-capitalize",onChange:r.handleSelectedSchedule,value:a.selectedSchedule||""},a.selectedSchedule?null:E.a.createElement("option",{value:""},"Choose Schedule"),a.content.preferred_schedule.map((function(e,t){var a=e.date,n=e.time;return E.a.createElement("option",{key:"date-".concat(t),value:t},L()(a).format("(dddd) MMM. Do, YYYY")," - ",n)})))))):3===t?E.a.createElement("div",{className:"text-center"},E.a.createElement("h5",null,"Set price for replacement items requested by customer"),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"9"},E.a.createElement(k.B,{flush:!0},E.a.createElement(k.C,null,a.content.pms_request.replacements.map((function(e,t){return t!==a.content.pms_request.replacements.length-1?E.a.createElement(k.N,{key:t,className:"mb-1"},E.a.createElement(k.i,{lg:"6",className:"text-left"},E.a.createElement("strong",{className:"mb-0 text-capitalize"},a.content.pms_request.pms.change_items[e.change_index])," ",E.a.createElement("span",{className:"text-danger"},"*"),E.a.createElement("p",{className:"mb-1"},E.a.createElement("small",{className:"text-capitalize"},"Customer Chose: (",e.parts_type,")"))),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.u,{placeholder:"Input price",type:"number",min:0,onChange:function(t){return r.handlePriceInput(t,e)},value:a.replacements[e.change_index]?a.replacements[e.change_index].price:""}))):E.a.createElement(k.N,{key:t,className:"mb-1"},E.a.createElement(k.i,{lg:"6",className:"text-left"},E.a.createElement("strong",{className:"mb-0 text-capitalize"},"Engine Oil Capacity (Liters)"," ",E.a.createElement("span",{className:"text-danger"},"*")),E.a.createElement("p",{className:"mb-1"},E.a.createElement("small",{className:"text-capitalize"},"Customer Chose: (",e.parts_type,")"))),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.u,{placeholder:"Suggest engine oil capacity",type:"number",min:0,onChange:function(t){return r.handleLitersInput(t,e)},value:a.replacements[e.change_index]?a.replacements[e.change_index].liters:""})))})))))),E.a.createElement("h5",null,"Make your customers happy with freebies"),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"9"},E.a.createElement($r.a,{value:a.freebies,onChange:r.handleFreebies,inputProps:{placeholder:"Add Freebies"}}))),E.a.createElement("h5",null,"Additional notes"),E.a.createElement("small",null,"Notes are only visible to you."),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"9"},E.a.createElement(k.x,{value:a.notes||"",onChange:r.handleNotes})))):4===t?E.a.createElement("div",{className:"text-center"},E.a.createElement("h5",null,"Review your estimation"),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"6"},E.a.createElement(k.B,{flush:!0},E.a.createElement(k.C,null,E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"6",className:"text-left"},E.a.createElement("strong",null,"Labor Costs"),E.a.createElement("p",{className:"mb-2"},E.a.createElement("small",{className:"text-capitalize"},a.content.car.type))),E.a.createElement(k.i,{lg:"6",className:"text-right"},E.a.createElement("strong",null,a.laborPrice.labor_price?Ie.format(a.laborPrice.labor_price.price):"-"))),E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"12",className:"text-left"},E.a.createElement("strong",null,"Replacement Items"),a.content.pms_request.replacements.map((function(e,t){return t!==a.content.pms_request.replacements.length-1?E.a.createElement(k.N,{key:t},E.a.createElement(k.i,{lg:"6"},E.a.createElement("div",{className:"mb-1 ml-3"},E.a.createElement("small",null,a.content.pms_request.pms.change_items[e.change_index]))),E.a.createElement(k.i,{lg:"6"},E.a.createElement("p",{className:"text-right mb-1 text-info"},E.a.createElement("strong",null,a.replacements[e.change_index]?Ie.format(a.replacements[e.change_index].price):"-")))):E.a.createElement(k.N,{key:t},E.a.createElement(k.i,{lg:"6"},E.a.createElement("div",{className:"mb-1 ml-3 text-capitalize"},E.a.createElement("small",null,a.content.pms_request.pms.change_items[e.change_index]," ","- ",a.content.pms_request.oil_type," (",a.replacements[e.change_index]?a.replacements[e.change_index].liters:0,"L) @"," ",a.oilPrice.oil_price?Ie.format(a.oilPrice.oil_price.price):"-"," ","per liter"))),E.a.createElement(k.i,{lg:"6"},E.a.createElement("p",{className:"text-right mb-1 text-info"},E.a.createElement("strong",null,a.replacements[e.change_index]?Ie.format(a.replacements[e.change_index].liters*a.oilPrice.oil_price.price):"-"))))})))),E.a.createElement("hr",null),E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"6",className:"text-left"},E.a.createElement("strong",null,"Total Price")),E.a.createElement(k.i,{lg:"6",className:"text-right text-success"},E.a.createElement("strong",null,Ie.format(a.totalPrice+a.totalReplacementsPrice)))),E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"6",className:"text-left text-info"},E.a.createElement("span",null,"Platform Fee (5.00%)"),E.a.createElement("p",{className:"mb-0 text-secondary"},E.a.createElement("small",null,"To be deducted from your wallet on appointment approval."))),E.a.createElement(k.i,{lg:"6",className:"text-right text-info"},E.a.createElement("span",null,Ie.format(.05*(a.totalPrice+a.totalReplacementsPrice))))))))),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto text-left",lg:"6"},E.a.createElement(k.r,{checked:a.reviewed,onChange:r.handleChkReviewed},"I have reviewed the estimation and I'm ready to submit")))):null),E.a.createElement(k.F,{className:"d-block"},E.a.createElement(k.N,null,E.a.createElement(k.i,{className:"text-align-left",lg:"6"},E.a.createElement(k.d,null,E.a.createElement(k.c,{disabled:0===t,theme:"primary",onClick:r.previous},"\xab Previous"),E.a.createElement(k.c,{disabled:t===l-1,theme:"primary",onClick:r.next},"Next \xbb"))),E.a.createElement(k.i,{className:"d-flex justify-content-end",lg:"6"},E.a.createElement(k.d,null,E.a.createElement(k.c,{disabled:!i,theme:"success",onClick:r.submit},E.a.createElement("div",null,E.a.createElement("span",{className:"text-white"},E.a.createElement("i",{className:"material-icons"},"add"))," ","Submit Estimate")),E.a.createElement(k.c,{onClick:c,theme:"white"},E.a.createElement("span",null,E.a.createElement("i",{className:"material-icons"},"close"))," ","Cancel"))))))};el.defaultProps={current:0,data:{},errorMessages:[],events:{},maxPages:5,open:!1,validated:!1};var tl=Object(A.b)()(el),al=function(e){var t=e.current,a=e.data,n=e.errorMessages,r=e.events,l=e.maxPages,s=e.open,c=e.toggle,i=e.validated;return E.a.createElement(k.D,{centered:!0,fade:!0,open:s,role:"dialog",size:"lg",toggle:c},E.a.createElement(k.G,{closeAriaLabel:"Close",toggle:c},a.content?"Creating estimates for Other PMS Service":""),E.a.createElement(k.E,{className:"pt-3",style:{height:400,overflow:"auto"}},E.a.createElement("div",{className:"progress-wrapper mb-3"},E.a.createElement("div",{className:"progress-label"},"Completion Progress"),E.a.createElement(k.M,{className:"progress-sm",max:l,striped:!0,value:t+1},E.a.createElement("span",{className:"progress-value"},"".concat(t+1," / ").concat(l))),a.otherPrices.oil_prices&&a.otherPrices.labor_prices?null:E.a.createElement(k.a,{fade:!0,theme:"warning",className:"mt-3 rounded"},E.a.createElement("p",{className:"mb-0"},E.a.createElement("i",{className:"material-icons"},"warning")," You haven't provided any price for this type of service. Click"," ",E.a.createElement(Te.a,{className:"text-secondary",to:"/services/preventive/service-".concat(a.content.pms_others_request.pms_others.type)},"here")," ","to update the prices.")),a.pmsShops.length?null:E.a.createElement(k.a,{fade:!0,theme:"warning",className:"mt-3 rounded"},E.a.createElement("p",{className:"mb-0"},E.a.createElement("i",{className:"material-icons"},"warning")," You have no shops that have PMS enabled. Click"," ",E.a.createElement(Te.a,{className:"text-secondary",to:"/services/preventive"},"here")," ","to enable shops."))),n.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"danger",className:"outline-danger rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})),0===t?E.a.createElement("div",null,a.content?E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},E.a.createElement("strong",null,"Change Oil Service"),E.a.createElement("ul",{className:"mt-3"},E.a.createElement("li",null,E.a.createElement("small",{className:"text-capitalize"},a.content.pms_others_request.pms_others.name))))):null):1===t?E.a.createElement("div",{className:"text-center"},E.a.createElement("h5",null,"Customer Car Details"),a.content?E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"9"},E.a.createElement("h4",{className:"mb-2 text-center"},a.content.car.car_year?"".concat(a.content.car.car_year," - "):null,a.content.car.car_make.name||""),E.a.createElement("h6",{className:"text-center"},a.content.car.car_model.name||""," ",a.content.car.car_trim?a.content.car.car_trim.name:""),E.a.createElement(k.B,{flush:!0},E.a.createElement(k.C,{className:"px-4 text-center"},E.a.createElement("div",null,E.a.createElement("span",{className:"font-weight-bold text-primary"},De.format(a.content.car.current_mileage)," ","km")," ","since"," ",E.a.createElement("span",{className:"font-weight-bold"},a.content.car.date_purchased?L()(a.content.car.date_purchased).format("MMM. Do, YYYY"):"-"))),E.a.createElement(k.C,{className:"px-4"},E.a.createElement("strong",{className:"text-muted d-block mb-1 mt-3"},"Vehicle Type"),E.a.createElement("span",{className:"text-capitalize"},a.content.car.type),E.a.createElement("strong",{className:"text-muted d-block mb-1 mt-3"},"Engine / Transmission"),E.a.createElement("span",{className:"text-capitalize"},a.content.car.engine_type," /"," ",a.content.car.transmission),E.a.createElement("strong",{className:"text-muted d-block mb-1 mt-3"},"Last Serviced"),E.a.createElement("span",{title:a.content.car.last_serviced?L()(a.content.car.last_serviced).format("MMMM Do YYYY"):"-"},a.content.car.last_serviced?L()(a.content.car.last_serviced).fromNow():"-"))))):null):2===t?E.a.createElement("div",{className:"text-center"},E.a.createElement("h5",null,"Select available shop ",E.a.createElement("span",{className:"text-danger"},"*")),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"9"},E.a.createElement(k.w,{className:"text-capitalize",onChange:r.handleSelectedShop,value:a.selectedShop||""},a.selectedShop?null:E.a.createElement("option",{value:""},"Choose Shop"),a.pmsShops.map((function(e,t){return E.a.createElement("option",{key:"date-".concat(t),value:t},e.name)}))))),E.a.createElement("h5",null,"Select best schedule ",E.a.createElement("span",{className:"text-danger"},"*")),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"9"},E.a.createElement(k.w,{className:"text-capitalize",onChange:r.handleSelectedSchedule,value:a.selectedSchedule||""},a.selectedSchedule?null:E.a.createElement("option",{value:""},"Choose Schedule"),a.content.preferred_schedule.map((function(e,t){var a=e.date,n=e.time;return E.a.createElement("option",{key:"date-".concat(t),value:t},L()(a).format("(dddd) MMM. Do, YYYY")," - ",n)})))))):3===t?E.a.createElement("div",{className:"text-center"},E.a.createElement("h5",null,"Set price for replacement items requested by customer"),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"9"},E.a.createElement(k.B,{flush:!0},E.a.createElement(k.C,null,a.otherPrices.oil_prices?a.otherPrices.oil_prices.pms_others.items.map((function(e,t){return E.a.createElement(k.N,{key:t,className:"mb-1"},E.a.createElement(k.i,{lg:"6",className:"text-left"},E.a.createElement("strong",{className:"mb-0 text-capitalize"},e," ",E.a.createElement("span",{className:"text-danger"},"*"))),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.u,{placeholder:"Input price",type:"number",min:0,onChange:function(t){return r.handleOtherReplacementItems(t,e)},value:a.otherReplacementItems[e]||""})))})):null,E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"6",className:"text-left"},E.a.createElement("strong",{className:"mb-0 text-capitalize"},"Engine Oil Capacity (Liters)"," ",E.a.createElement("span",{className:"text-danger"},"*")),E.a.createElement("p",{className:"mb-1"},E.a.createElement("small",{className:"text-capitalize"},"Customer Chose: (",a.content.pms_others_request.value,")"))),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.u,{placeholder:"Suggest engine oil capacity",type:"number",min:0,onChange:r.handleOtherLitersInput,value:a.otherLiters||""}))),E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"6",className:"text-left"},E.a.createElement("strong",{className:"mb-0 text-capitalize"},"Additional Items"," ")),E.a.createElement(k.i,{lg:"6"},E.a.createElement("small",{style:{cursor:"pointer",textDecoration:"underline"},className:"text-primary",onClick:r.addOtherItems},"Add"))),a.otherItems.map((function(e,t){return E.a.createElement(k.N,{key:t,className:"mb-1"},E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.u,{placeholder:"Additional Item",type:"text",onChange:function(e){return r.handleAdditionalItem(e,t)},value:e.entry||""})),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.u,{placeholder:"Input price",type:"number",min:0,onChange:function(e){return r.handleAdditionalItemPrice(e,t)},value:e.price||""})))})))))),E.a.createElement("h5",null,"Make your customers happy with freebies"),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"9"},E.a.createElement($r.a,{value:a.freebies,onChange:r.handleFreebies,inputProps:{placeholder:"Add Freebies"}}))),E.a.createElement("h5",null,"Additional notes"),E.a.createElement("small",null,"Notes are only visible to you."),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"9"},E.a.createElement(k.x,{value:a.notes||"",onChange:r.handleNotes})))):4===t?E.a.createElement("div",{className:"text-center"},E.a.createElement("h5",null,"Review your estimation"),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"6"},E.a.createElement(k.B,{flush:!0},E.a.createElement(k.C,null,E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"12",className:"text-left"},E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"6",className:"text-left"},E.a.createElement("strong",null,"Labor Costs"),E.a.createElement("p",{className:"mb-2"},E.a.createElement("small",{className:"text-capitalize"},a.content.car.type))),E.a.createElement(k.i,{lg:"6",className:"text-right"},E.a.createElement("strong",null,a.otherLaborPrice?Ie.format(a.otherLaborPrice.price):"-"))),E.a.createElement("strong",null,"Additional Items"),a.otherItems.length?a.otherItems.map((function(e,t){return E.a.createElement(k.N,{key:t,className:"mb-1"},E.a.createElement(k.i,{lg:"6",className:"text-left"},E.a.createElement("div",{className:"mb-1 ml-3 text-capitalize"},E.a.createElement("small",null,e.entry))),E.a.createElement(k.i,{lg:"6"},E.a.createElement("p",{className:"text-right mb-1 text-info"},E.a.createElement("strong",null,Ie.format(e.price)||"-"))))})):E.a.createElement(k.i,{lg:"6",className:"text-left"},E.a.createElement("p",{className:"mb-2"},E.a.createElement("small",{className:"text-capitalize"},"-"))),E.a.createElement("strong",null,"Replacement Items"),a.otherPrices.oil_prices?a.otherPrices.oil_prices.pms_others.items.map((function(e,t){return E.a.createElement(k.N,{key:t,className:"mb-1"},E.a.createElement(k.i,{lg:"6",className:"text-left"},E.a.createElement("div",{className:"mb-1 ml-3 text-capitalize"},E.a.createElement("small",null,e))),E.a.createElement(k.i,{lg:"6"},E.a.createElement("p",{className:"text-right mb-1 text-info"},E.a.createElement("strong",null,Ie.format(a.otherReplacementItems[e]?a.otherReplacementItems[e]:0)||"-"))))})):null,E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"6"},E.a.createElement("div",{className:"mb-1 ml-3 text-capitalize"},E.a.createElement("small",null,"Engine Oil -"," ",a.content.pms_others_request.pms_others.name," ","(",a.otherLiters,"L) @"," ",a.otherPrices.oil_prices?Ie.format(a.otherPrices.oil_prices.values[a.content.pms_others_request.value]):"-"," ","per liter"))),E.a.createElement(k.i,{lg:"6"},E.a.createElement("p",{className:"text-right mb-1 text-info"},E.a.createElement("strong",null,a.otherPrices.oil_prices?Ie.format(a.otherLiters*a.otherPrices.oil_prices.values[a.content.pms_others_request.value]):"-")))))),E.a.createElement("hr",null),E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"6",className:"text-left"},E.a.createElement("strong",null,"Total Price")),E.a.createElement(k.i,{lg:"6",className:"text-right text-success"},E.a.createElement("strong",null,Ie.format(a.totalPrice)))),E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"6",className:"text-left text-info"},E.a.createElement("span",null,"Platform Fee (5.00%)"),E.a.createElement("p",{className:"mb-0 text-secondary"},E.a.createElement("small",null,"To be deducted from your wallet on appointment approval."))),E.a.createElement(k.i,{lg:"6",className:"text-right text-info"},E.a.createElement("span",null,Ie.format(.05*a.totalPrice)))))))),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto text-left",lg:"6"},E.a.createElement(k.r,{checked:a.reviewed,onChange:r.handleChkReviewed},"I have reviewed the estimation and I'm ready to submit")))):null),E.a.createElement(k.F,{className:"d-block"},E.a.createElement(k.N,null,E.a.createElement(k.i,{className:"text-align-left",lg:"6"},E.a.createElement(k.d,null,E.a.createElement(k.c,{disabled:0===t,theme:"primary",onClick:r.previous},"\xab Previous"),E.a.createElement(k.c,{disabled:t===l-1,theme:"primary",onClick:r.next},"Next \xbb"))),E.a.createElement(k.i,{className:"d-flex justify-content-end",lg:"6"},E.a.createElement(k.d,null,E.a.createElement(k.c,{disabled:!i,theme:"success",onClick:r.submit},E.a.createElement("div",null,E.a.createElement("span",{className:"text-white"},E.a.createElement("i",{className:"material-icons"},"add"))," ","Submit Estimate")),E.a.createElement(k.c,{onClick:c,theme:"white"},E.a.createElement("span",null,E.a.createElement("i",{className:"material-icons"},"close"))," ","Cancel"))))))};al.defaultProps={current:0,data:{},errorMessages:[],events:{},maxPages:5,open:!1,validated:!1};var nl=Object(A.b)()(al),rl=function(e){var t=e.current,a=e.data,n=e.errorMessages,r=e.events,l=e.maxPages,s=e.open,c=e.schedulesCountMax,i=e.toggle,o=e.validated,m=a.content.pms?a.content.pms:a.content.pms_request.pms;return E.a.createElement(k.D,{centered:!0,fade:!0,open:s,role:"dialog",size:"lg",toggle:i},E.a.createElement(k.G,{closeAriaLabel:"Close",toggle:i},a.content?"Requesting for PMS ".concat(De.format(m.mileage)," km"):""),E.a.createElement(k.E,{className:"pt-3",style:{height:400,overflow:"auto"}},E.a.createElement("div",{className:"progress-wrapper mb-3"},E.a.createElement("div",{className:"progress-label"},"Completion Progress"),E.a.createElement(k.M,{className:"progress-sm",max:l,striped:!0,value:t+1},E.a.createElement("span",{className:"progress-value"},"".concat(t+1," / ").concat(l)))),n.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"danger",className:"outline-danger rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})),0===t?E.a.createElement("div",null,E.a.createElement(Pa,{infoMessages:[{message:"The recommendations below are based on best practices. Refer to your owners manual or qualified technician for vehicle's specific maintenance requirements."}]}),a.content?E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"6"},E.a.createElement("strong",null,"Check"),E.a.createElement("ul",{className:"mt-3"},m.check_items.map((function(e,t){return E.a.createElement("li",{key:t},E.a.createElement("small",null,e))})))),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},E.a.createElement("strong",null,"Clean"),E.a.createElement("ul",{className:"mt-3"},m.clean_items.map((function(e,t){return E.a.createElement("li",{key:t},E.a.createElement("small",null,e))}))))),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},E.a.createElement("strong",null,"Change"),E.a.createElement("ul",{className:"mt-3"},m.change_items.map((function(e,t){return E.a.createElement("li",{key:t},E.a.createElement("small",null,e))}))))))):null):1===t?E.a.createElement("div",{className:"text-center"},E.a.createElement("h5",null,"Select your preferred schedule (at most 3 time slots)"," ",E.a.createElement("span",{className:"text-danger"},"*")),E.a.createElement("small",null,"We suggest to set a schedule a month before the expected scheduled date"),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"9"},E.a.createElement(k.B,{flush:!0},E.a.createElement(k.C,null,a.preferredSchedules.map((function(e,t){return E.a.createElement(k.N,{key:t,className:"mb-1"},E.a.createElement(k.i,{lg:"5"},E.a.createElement(k.l,{filterDate:function(e){return e>=L()()},onChange:function(e){return r.handlePreferredScheduleDate(e,t)},openToDate:new Date,placeholderText:"Select date",value:e.date,selected:e.date})),E.a.createElement(k.i,{lg:"5"},E.a.createElement(k.w,{id:"selPreferredScheduleType",className:"text-capitalize",onChange:function(e){return r.handlePreferredScheduleTime(e,t)},value:e.time||""},e.time?null:E.a.createElement("option",{value:""},"Choose Preferred Time"),a.timeOptions.map((function(e,t){return E.a.createElement("option",{key:"date-".concat(t),value:e},e)})))),t>0?E.a.createElement(k.i,{lg:"2"},E.a.createElement(k.c,{size:"sm",theme:"danger",onClick:function(){return r.removeSchedule(t)}},E.a.createElement("i",{className:"material-icons"},"remove_circle"))):E.a.createElement(k.i,{lg:"2"},E.a.createElement(k.c,{disabled:a.preferredSchedules.length===c,size:"sm",theme:"success",onClick:r.addSchedule},E.a.createElement("i",{className:"material-icons"},"add_circle"))))})))))),E.a.createElement("h5",null,"Select Oil Type ",E.a.createElement("span",{className:"text-danger"},"*")),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"9"},E.a.createElement(k.w,{id:"selOilType",className:"text-capitalize",onChange:r.handleOilTypeSelection,value:a.selectedOilType||""},a.selectedOilType?null:E.a.createElement("option",{value:""},"Choose Oil Type"),a.oilTypeOptions.map((function(e,t){return E.a.createElement("option",{key:"oilType-".concat(t),value:e},e)})))))):2===t?E.a.createElement("div",{className:"text-center"},E.a.createElement("h5",null,"Select Replacement Types ",E.a.createElement("span",{className:"text-danger"},"*")),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"9"},E.a.createElement(k.B,{flush:!0},E.a.createElement(k.C,null,a.content?m.change_items.map((function(e,t){return E.a.createElement(k.N,{key:t,className:"mb-1"},E.a.createElement(k.i,{className:"text-left",lg:"6"},E.a.createElement("small",null,e)),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.w,{id:"selReplacementType",className:"text-capitalize",onChange:function(a){return r.handleReplacementType(a,e,t)},value:a.replacementTypes[e]?a.replacementTypes[e].type:""},a.replacementTypes[e]?null:E.a.createElement("option",{value:""},"Choose Replacement Type"),a.partTypeOptions.map((function(e,t){return E.a.createElement("option",{key:"replacementType-".concat(t),value:e},e)})))))})):null))))):null),E.a.createElement(k.F,{className:"d-block"},E.a.createElement(k.N,null,E.a.createElement(k.i,{className:"text-align-left",lg:"6"},E.a.createElement(k.d,null,E.a.createElement(k.c,{disabled:0===t,theme:"primary",onClick:r.previous},"\xab Previous"),E.a.createElement(k.c,{disabled:t===l-1,theme:"primary",onClick:r.next},"Next \xbb"))),E.a.createElement(k.i,{className:"d-flex justify-content-end",lg:"6"},E.a.createElement(k.d,null,E.a.createElement(k.c,{disabled:!o,theme:"success",onClick:r.submit},E.a.createElement("div",null,E.a.createElement("span",{className:"text-white"},E.a.createElement("i",{className:"material-icons"},"send"))," ","Send Request")),E.a.createElement(k.c,{onClick:i,theme:"white"},E.a.createElement("span",null,E.a.createElement("i",{className:"material-icons"},"close"))," ","Cancel"))))))};rl.defaultProps={current:0,data:{},errorMessages:[],events:{},maxPages:3,schedulesCountMax:3,open:!1,validated:!1};var ll=Object(A.b)()(rl),sl=c.requestPms,cl=c.getCarSchedule,il=s.getPmsEnabledShops,ol=i.cancelRequest,ml=i.createEstimate,ul=i.getRequests,dl=i.getScheduleTime,pl=o.getShopPmsLaborPrice,hl=o.getShopPmsOilPrice,El=o.getPmsOtherPrices,gl=o.getOilTypeOptions,fl=o.getPartTypeOptions,bl=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.getOilTypeOptions,n=e.getPartTypeOptions,r=e.getScheduleTime,l=e.getPmsEnabledShops;a._getRequests(),l().catch((function(e){e&&console.log(e)})),r().catch((function(e){console.log(e)})),n().catch((function(e){console.log(e)})),t().catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_getRequests",{enumerable:!0,writable:!0,value:function(){(0,a.props.getRequests)().then((function(e){var t=0;new L.a.duration(1e3).timer({loop:!0},(function(){t++})),e.forEach((function(n,r){n.disabled=!1;var l=L()(new Date),s=L()(n.expiry),c=new L.a.duration(s.diff(l)),i=new L.a.duration(1e3).timer({loop:!0},(function(){var l=Math.floor(c.asSeconds())-t;a._runTimer(l,r),a.props.user.user_type===Ce?i.stop():0===l&&(i.stop(),n.disabled=!0,a.setState({requests:e}))}))})),a.setState({isFetchingRequests:!1,requests:e})})).catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_runTimer",{enumerable:!0,writable:!0,value:function(e,t){var n=a.state.timers;n[t]=e,a.setState(n)}}),Object.defineProperty(Object(T.a)(a),"_addSchedule",{enumerable:!0,writable:!0,value:function(){var e=a.state,t=e.preferredSchedules,n=e.validatedPreferredSchedule;t.push({}),n=Ge.isValidPreferredSchedules(t),a.setState({preferredSchedules:t,validatedPreferredSchedule:n})}}),Object.defineProperty(Object(T.a)(a),"_handleOilTypeSelection",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value,n=null!==t;a.setState({selectedOilType:t,validatedSelectedOilType:n})}}),Object.defineProperty(Object(T.a)(a),"_handlePreferredScheduleDate",{enumerable:!0,writable:!0,value:function(e,t){var n=a.state,r=n.preferredSchedules,l=n.validatedPreferredSchedule;r[t].date=new Date(e),l=Ge.isValidPreferredSchedules(r),a.setState({preferredSchedules:r,validatedPreferredSchedule:l})}}),Object.defineProperty(Object(T.a)(a),"_handlePreferredScheduleTime",{enumerable:!0,writable:!0,value:function(e,t){var n=a.state,r=n.preferredSchedules,l=n.validatedPreferredSchedule;r[t].time=e.target.value,l=Ge.isValidPreferredSchedules(r),a.setState({preferredSchedules:r,validatedPreferredSchedule:l})}}),Object.defineProperty(Object(T.a)(a),"_handleReplacementType",{enumerable:!0,writable:!0,value:function(e,t,n){var r=a.state,l=r.contentIndex,s=r.replacementTypes,c=r.validatedReplacementTypes,i=a.props.schedules[l].pms.change_items;s[t]={index:n,type:e.target.value},c=Ge.isValidReplacementTypes(i,s),a.setState({replacementTypes:s,validatedReplacementTypes:c})}}),Object.defineProperty(Object(T.a)(a),"_handleCancellation",{enumerable:!0,writable:!0,value:function(e,t){var n=a.props,r=n.cancelRequest,l=n.t,s=[],c=[];window.confirm("You are about to cancel this request. Confirm if you are sure.")&&r(e).then((function(){c.push({message:"Request has been cancelled."}),a.setState({successMessages:c},a._getRequests)})).catch((function(e){Array.isArray(e)?s=s.concat(e):s.push({message:l("translation.generalError")}),a.setState({errorMessages:s})}))}}),Object.defineProperty(Object(T.a)(a),"_handleChkReviewed",{enumerable:!0,writable:!0,value:function(){var e=a.state.reviewed;a.setState({reviewed:!e})}}),Object.defineProperty(Object(T.a)(a),"_handleFreebies",{enumerable:!0,writable:!0,value:function(e){a.setState({freebies:e})}}),Object.defineProperty(Object(T.a)(a),"_handleNotes",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;a.setState({notes:t})}}),Object.defineProperty(Object(T.a)(a),"_handlePriceInput",{enumerable:!0,writable:!0,value:function(e,t){var n=a.props.requests,r=a.state,l=r.contentIndex,s=r.replacements,c=r.totalReplacementsPrice,i=r.oilPrice;c=0;var o=n[l],m=e.target.value,u=!0;s[t.change_index]={item:t,price:m,liters:null};var d=o.pms_request.pms.change_items;for(var p in s)s[p].item.change_index!==d.length-1?c+=Number(s[p].price):c+=Number(s[p].liters*i.oil_price.price);for(var h=0;u&&h<d.length;h++)s[h]&&s[h].item.change_index===d.length-1?s[h]&&s[h].item.change_index!==d.length-1||s[h]&&s[h].liters||(u=!1):s[h]&&s[h].price||(u=!1);a.setState({replacements:s,totalReplacementsPrice:c,validatedPrice:u})}}),Object.defineProperty(Object(T.a)(a),"_handleOtherLitersInput",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;a.setState({otherLiters:t},a._getTotalCost)}}),Object.defineProperty(Object(T.a)(a),"_handleLitersInput",{enumerable:!0,writable:!0,value:function(e,t){var n=a.props.requests,r=a.state,l=r.contentIndex,s=r.replacements,c=r.totalReplacementsPrice,i=r.oilPrice;c=0;var o=n[l],m=e.target.value,u=!0;s[t.change_index]={item:t,liters:m,price:null};var d=o.pms_request.pms.change_items;for(var p in s)s[p].item.change_index!==d.length-1?c+=Number(s[p].price):c+=Number(s[p].liters*i.oil_price.price);for(var h=0;u&&h<d.length;h++)s[h]&&s[h].item.change_index===d.length-1?s[h]&&s[h].item.change_index!==d.length-1||s[h]&&s[h].liters||(u=!1):s[h]&&s[h].price||(u=!1);a.setState({replacements:s,totalReplacementsPrice:c,validatedPrice:u})}}),Object.defineProperty(Object(T.a)(a),"_removeSchedule",{enumerable:!0,writable:!0,value:function(e){var t=a.state.preferredSchedules;t.splice(e,1),a.setState({preferredSchedules:t})}}),Object.defineProperty(Object(T.a)(a),"_handleSelectedSchedule",{enumerable:!0,writable:!0,value:function(e){var t=a.props.requests,n=a.state.contentIndex,r=e.target.value,l=null!==r;a.setState({schedule:t[n].preferred_schedule[r],selectedSchedule:r,validatedSchedule:l})}}),Object.defineProperty(Object(T.a)(a),"_handleSelectedShop",{enumerable:!0,writable:!0,value:function(e){var t=a.props.pmsShops,n=e.target.value,r=null!==n;a.setState({shop:t[n],selectedShop:n,validatedShop:r})}}),Object.defineProperty(Object(T.a)(a),"_next",{enumerable:!0,writable:!0,value:function(){var e=a.state.menuIndex;a.setState({menuIndex:e+1})}}),Object.defineProperty(Object(T.a)(a),"_previous",{enumerable:!0,writable:!0,value:function(){var e=a.state.menuIndex;a.setState({menuIndex:e-1})}}),Object.defineProperty(Object(T.a)(a),"_reopen",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=[],n=[],r=a.props,l=r.requestPms,s=r.t,c=a.state,i=c.schedule;l({preferred_schedules:c.preferredSchedules,replacements:c.replacementTypes,oil_type:c.selectedOilType,type:"preventive",car_schedule_id:i.id}).then((function(){n.push({message:"Request has been created!"}),a.setState({successMessages:n},(function(){a._toggleModalReopen(),a._getRequests()}))})).catch((function(e){Array.isArray(e)?t=t.concat(e):t.push({message:s("translation.generalError")}),a.setState({errorMessages:t})}))}}),Object.defineProperty(Object(T.a)(a),"_submit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=[],n=[],r=a.props,l=r.createEstimate,s=r.requests,c=r.t,i=a.state,o=i.contentIndex,m=i.freebies,u=i.notes,d=i.replacements,p=i.schedule,h=i.shop,E=i.otherLiters,g=i.otherItems,f=i.otherReplacementItems,b=[];for(var A in d){var v=d[A].item.id,N=d[A].price,y=d[A].liters;b.push({replacement_id:v,price:N,liters:y})}var S={request_id:s[o].id,shop_id:h.id,freebies:m,discount:0,preferred_date:L()(p.date).format("YYYY-MM-DD"),preferred_time:p.time,notes:u};"other services"===s[o].type?(S.other_services={pms_others_id:s[o].pms_others_request.pms_others.id,liters:E},S.other_items=g,S.other_replacement_items=f):S.replacements=b,l(S).then((function(){n.push({message:"Estimate has been submitted! Please wait for the customer to approve your estimation."}),a.setState({successMessages:n},(function(){a._toggleModalCreation()}))})).catch((function(e){Array.isArray(e)?t=t.concat(e):t.push({message:c("translation.generalError")}),a.setState({errorMessages:t})}))}}),Object.defineProperty(Object(T.a)(a),"_toggleModalReopen",{enumerable:!0,writable:!0,value:function(e,t){var n=a.props,r=n.requests,l=n.getCarSchedule,s=a.state.mdlReopen,c=r[t];c?l(c.car_id,c.pms_request.pms.id).then((function(e){var n=[];c.preferred_schedule.forEach((function(e){e.date=new Date(e.date),n.push(e)}));var r={};c.pms_request.pms.change_items.forEach((function(e,t){r[e]={},r[e].index=t,r[e].type=c.pms_request.replacements[t]})),a.setState({contentIndex:t,schedule:e,mdlReopen:!s,preferredSchedules:n,replacementTypes:r,selectedOilType:c.pms_request.oil_type,validatedPreferredSchedule:!0,validatedSelectedOilType:!0,validatedReplacementTypes:!0})})).catch((function(e){return console.log(e)})):a.setState({menuIndex:0,mdlReopen:!s,preferredSchedules:[{}],replacementTypes:{},selectedOilType:null,validatedPreferredSchedule:!1,validatedSelectedOilType:!1,validatedReplacementTypes:!1})}}),Object.defineProperty(Object(T.a)(a),"_addOtherItems",{enumerable:!0,writable:!0,value:function(){var e=a.state.otherItems;e.push({entry:"",price:0}),a.setState({otherItems:e},a._getTotalCost)}}),Object.defineProperty(Object(T.a)(a),"_handleAdditionalItem",{enumerable:!0,writable:!0,value:function(e,t){var n=a.state.otherItems;n[t].entry=e.target.value,a.setState({otherItems:n})}}),Object.defineProperty(Object(T.a)(a),"_handleAdditionalItemPrice",{enumerable:!0,writable:!0,value:function(e,t){var n=a.state.otherItems;n[t].price=e.target.value,a.setState({otherItems:n},a._getTotalCost)}}),Object.defineProperty(Object(T.a)(a),"_handleOtherReplacementItems",{enumerable:!0,writable:!0,value:function(e,t){var n=a.state.otherReplacementItems;n[t]=e.target.value,a.setState({otherReplacementItems:n},a._getTotalCost)}}),Object.defineProperty(Object(T.a)(a),"_getTotalCost",{enumerable:!0,writable:!0,value:function(){var e=a.state,t=e.contentIndex,n=e.otherItems,r=e.otherLiters,l=e.otherReplacementItems,s=a.props,c=s.requests,i=s.otherPrices,o=r*i.oil_prices.values[c[t].pms_others_request.value],m=i?i.labor_prices.find((function(e){return c[t].car.type===e.car_type})):null;m&&(o+=Number(m.price));for(var u=0;u<n.length;u++)o+=Number(n[u].price);for(var d in l)o+=Number(l[d]);a.setState({totalPrice:o})}}),Object.defineProperty(Object(T.a)(a),"_toggleModalCreation",{enumerable:!0,writable:!0,value:function(e,t){var n=a.props,r=n.getShopPmsLaborPrice,l=n.getShopPmsOilPrice,s=n.requests,c=n.getPmsOtherPrices,i=a.state,o=i.mdlCreation,m=i.mdlCreationOther,u=a.state.totalPrice,d=s[t];if(d)if("preventive"===d.type){var p=d.pms_request,h=p.oil_type,E=p.pms.mileage,g=d.car.type;r(E,g).then((function(n){l(E,h).then((function(r){n.labor_price&&(u+=Number(n.labor_price.price)),a.setState({contentIndex:t,freebies:[],requestId:e,menuIndex:0,mdlCreation:!o,notes:null,replacements:{},reviewed:!1,selectedSchedule:null,selectedShop:null,totalPrice:u,oilPrice:r,totalReplacementsPrice:0,validatedPrice:!1,validatedSchedule:!1,validatedShop:!1})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}else{c(d.pms_others_request.masterlist_pms_others_id).then((function(n){var r=n.labor_prices,l=r?r.find((function(e){return d.car.type===e.car_type})):null;l&&(u+=Number(l.price)),a.setState({contentIndex:t,mdlCreation:!1,mdlCreationOther:!m,totalPrice:u,selectedSchedule:null,selectedShop:null,notes:null,otherLaborPrice:l,freebies:[],requestId:e,menuIndex:0,validatedSchedule:!1,validatedShop:!1})})).catch((function(e){console.log(e)}))}else a.setState({freebies:[],menuIndex:0,mdlCreation:!1,mdlCreationOther:!1,notes:null,replacements:{},reviewed:!1,selectedSchedule:null,selectedShop:null,totalPrice:0,totalReplacementsPrice:0,validatedPrice:!1,validatedSchedule:!1,validatedShop:!1})}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.laborPrice,n=e.oilPrice,r=e.pmsShops,l=e.user,s=e.timeOptions,c=e.oilTypeOptions,i=e.partTypeOptions,o=e.otherPrices,m=a.state,u=m.errorMessages,d=m.successMessages,p=m.contentIndex,h=m.freebies,g=m.isFetchingRequests,f=m.mdlCreation,b=m.mdlCreationOther,A=m.mdlReopen,v=m.menuIndex,N=m.notes,y=m.replacements,S=m.requests,C=m.reviewed,O=m.selectedSchedule,P=m.selectedShop,x=m.schedule,w=m.totalPrice,_=m.totalReplacementsPrice,T=m.validatedPrice,j=m.validatedSchedule,M=m.validatedShop,I=m.timers,D=m.validatedPreferredSchedule,R=m.validatedReplacementTypes,B=m.validatedSelectedOilType,F=m.preferredSchedules,L=m.selectedOilType,q=m.replacementTypes,z=m.otherLiters,Q=m.otherLaborPrice,V=m.otherItems,U=m.otherReplacementItems,H=T&&j&&M&&t&&t.labor_price&&n&&n.oil_price&&C,Y=j&&M&&o&&z&&C;return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{noGutters:!0,className:"page-header py-4"},E.a.createElement(Jn,{sm:"4",title:"Requests",subtitle:l.user_type===Ce?"Customer":"Pending",className:"text-sm-left"})),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},E.a.createElement(Pa,{successMessages:d}),l.user_type===Ce?E.a.createElement(Gr,{events:{handleCancellation:a._handleCancellation,toggleModalReopen:a._toggleModalReopen},isFetching:g,requests:S}):E.a.createElement(Jr,{events:{toggleModalCreation:a._toggleModalCreation},isFetching:g,requests:S,timers:I}))),A&&E.a.createElement(ll,{current:v,data:{content:Object(we.a)({},S[p],{schedule:x.schedule}),oilTypeOptions:c,partTypeOptions:i,preferredSchedules:F,replacementTypes:q,selectedOilType:L,timeOptions:s},errorMessages:u,events:{addSchedule:a._addSchedule,handleOilTypeSelection:a._handleOilTypeSelection,handlePreferredScheduleDate:a._handlePreferredScheduleDate,handlePreferredScheduleTime:a._handlePreferredScheduleTime,handleReplacementType:a._handleReplacementType,next:a._next,previous:a._previous,removeSchedule:a._removeSchedule,submit:a._reopen},open:A,toggle:a._toggleModalReopen,validated:D&&B&&R}),b&&E.a.createElement(nl,{current:v,data:{content:S[p],freebies:h,notes:N,otherPrices:o,otherLiters:z,pmsShops:r,replacements:y,reviewed:C,selectedSchedule:O,selectedShop:P,totalPrice:w,otherLaborPrice:Q,otherItems:V,otherReplacementItems:U},errorMessages:u,events:{handleChkReviewed:a._handleChkReviewed,handleFreebies:a._handleFreebies,handleNotes:a._handleNotes,handleOtherLitersInput:a._handleOtherLitersInput,handleSelectedSchedule:a._handleSelectedSchedule,handleSelectedShop:a._handleSelectedShop,next:a._next,previous:a._previous,submit:a._submit,addOtherItems:a._addOtherItems,handleAdditionalItem:a._handleAdditionalItem,handleAdditionalItemPrice:a._handleAdditionalItemPrice,handleOtherReplacementItems:a._handleOtherReplacementItems},open:b,toggle:a._toggleModalCreation,validated:Y}),f&&E.a.createElement(tl,{current:v,data:{content:S[p],freebies:h,laborPrice:t,notes:N,oilPrice:n,pmsShops:r,replacements:y,reviewed:C,selectedSchedule:O,selectedShop:P,totalPrice:w,totalReplacementsPrice:_},errorMessages:u,events:{handleChkReviewed:a._handleChkReviewed,handleFreebies:a._handleFreebies,handleNotes:a._handleNotes,handlePriceInput:a._handlePriceInput,handleLitersInput:a._handleLitersInput,handleSelectedSchedule:a._handleSelectedSchedule,handleSelectedShop:a._handleSelectedShop,next:a._next,previous:a._previous,submit:a._submit},open:f,toggle:a._toggleModalCreation,validated:H}))}}),a.state={errorMessages:[],successMessages:[],contentIndex:null,freebies:[],isFetchingRequests:!0,mdlCreation:!1,mdlCreationOther:!1,mdlReopen:!1,menuIndex:0,notes:null,replacements:{},requestId:null,requests:[],reviewed:!1,selectedSchedule:null,selectedShop:null,schedule:null,shop:null,totalPrice:0,oilPrice:0,totalReplacementsPrice:0,validatedPrice:!1,validatedSchedule:!1,validatedShop:!1,timers:[],preferredSchedules:[{}],replacementTypes:{},selectedOilType:null,validatedPreferredSchedule:!1,validatedSelectedOilType:!1,validatedReplacementTypes:!1,scheduleIndex:0,otherLiters:0,otherLaborPrice:null,otherItems:[],otherReplacementItems:{}},a}return Object(j.a)(t,e),t}(h.Component),Al=Object(A.b)()(Object(v.b)((function(e){return{user:e.sessionReducer.user,laborPrice:e.servicesReducer.laborPrice,oilPrice:e.servicesReducer.oilPrice,pmsShops:e.shopsReducer.pmsShops,requests:e.requestsReducer.requests,oilTypeOptions:e.servicesReducer.oilTypeOptions,partTypeOptions:e.servicesReducer.partTypeOptions,timeOptions:e.requestsReducer.timeOptions,otherPrices:e.servicesReducer.otherPrices}}),{cancelRequest:ol,createEstimate:ml,getCarSchedule:cl,getPmsEnabledShops:il,getPmsOtherPrices:El,getRequests:ul,getShopPmsLaborPrice:pl,getShopPmsOilPrice:hl,getScheduleTime:dl,getOilTypeOptions:gl,getPartTypeOptions:fl,requestPms:sl})(bl)),vl=function(e,t){return function(a){return new Promise((function(n,r){He((function(l){var s=l.api_token;xe.post("/appointment",{car_id:e,estimate_id:t},{headers:_e(s)}).then((function(e){var t=e.data,l=t.error,s=t.success,c=t.data;s?(a({type:"estimates/CREATE_APPOINTMENT",data:{appointment:c}}),n(c)):r(l)})).catch((function(e){r(e)}))}))}))}},Nl=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.put("/estimate/".concat(e,"/cancel"),null,{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success;s?(t({type:"estimates/CANCEL_ESTIMATE"}),a(s)):n(l)})).catch((function(e){n(e)}))}))}))}},yl=function(){return function(e){return new Promise((function(t,a){He((function(n){var r=n.api_token;xe.get("/estimates",{headers:_e(r)}).then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"estimates/GET_ESTIMATES",data:{estimates:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}))}},Sl=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.get("/estimate/".concat(e),{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"estimates/GET_ESTIMATE_DETAILS",data:{estimate:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},Cl={appointment:null,estimates:[]},Ol=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"estimates/CREATE_APPOINTMENT":var a=t.data.appointment;return Object(we.a)({},e,{appointment:a});case"estimates/GET_ESTIMATE_DETAILS":var n=t.data.estimate;return Object(we.a)({},e,{estimate:n});case"estimates/GET_ESTIMATES":var r=t.data.estimates;return Object(we.a)({},e,{estimates:r});default:return e}},Pl=Object(A.b)()((function(e){e.t,e.toggleModal;return E.a.createElement(k.e,{className:"mb-4"},E.a.createElement(k.f,{className:"text-center"},E.a.createElement("img",{src:ne,alt:"Garage Icon",style:{height:75},className:"mb-3"}),E.a.createElement("h4",null,E.a.createElement("strong",null,"This page displays all submitted estimates by the shops")),E.a.createElement("h6",null,"No estimations as of the moment. Come back after a few hours to start receiving estimates from shops.")))})),xl=function(e){for(var t=e.repeat,a=[];t>0;)a.push(E.a.createElement("tr",{key:t},E.a.createElement("td",{className:"lo-stats__image"},E.a.createElement(Mn.RoundShape,{color:ke,style:{width:50,height:50}})),E.a.createElement("td",null,E.a.createElement(Mn.TextBlock,{color:ke,rows:3,style:{width:150}})),E.a.createElement("td",{className:"lo-stats__image"},E.a.createElement(Mn.RoundShape,{color:ke,style:{width:50,height:50}})),E.a.createElement("td",null,E.a.createElement(Mn.TextBlock,{color:ke,rows:3,style:{width:150}})),E.a.createElement("td",null,E.a.createElement(Mn.TextBlock,{color:ke,rows:1,style:{width:100}})),E.a.createElement("td",null,E.a.createElement(Mn.TextBlock,{color:ke,rows:1,style:{width:100}})),E.a.createElement("td",null))),t--;return a},wl=function(e){var t=e.isFetching,a=e.estimates,n=e.events;return t||a.length?E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},"List of Estimates Received from Shops")),E.a.createElement(k.f,{className:"p-0"},E.a.createElement(k.k,{fluid:!0,className:"px-0"},E.a.createElement("table",{className:"table lo-stats mb-0"},E.a.createElement("thead",{className:"py-1 bg-light text-semibold border-bottom"},E.a.createElement("tr",null,E.a.createElement("th",{colSpan:2},E.a.createElement("small",null,"Estimating Shop")),E.a.createElement("th",{colSpan:2},E.a.createElement("small",null,"Car Details")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Price")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Schedule")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Action")))),E.a.createElement("tbody",null,E.a.createElement(jn.a,{ready:!t,showLoadingAnimation:!0,customPlaceholder:E.a.createElement(xl,{repeat:3})},a.map((function(e,t){return E.a.createElement("tr",{key:t},E.a.createElement("td",{className:"lo-stats__image"},E.a.createElement("img",{alt:e.shop.name,className:"rounded",src:e.shop.avatar?e.shop.avatar.path:Z})),E.a.createElement("td",{className:"lo-stats__order-details",style:{width:200}},E.a.createElement(Te.a,{to:"/shop/".concat(e.shop.slug)},e.shop.name),E.a.createElement("p",{className:"mb-0"}),E.a.createElement("p",{className:"mb-0"},E.a.createElement("i",{className:"material-icons"},"room")," ",E.a.createElement("small",{className:"font-weight-bold"},e.shop.address)," ",E.a.createElement("small",null,"(",De.format(e.distance)," km away)"))),E.a.createElement("td",{className:"lo-stats__image"},E.a.createElement("img",{alt:"".concat(e.request.car.car_year," - ").concat(e.request.car.car_make.name||""),className:"rounded",src:J})),E.a.createElement("td",{className:"lo-stats__order-details"},E.a.createElement("h6",{className:"mb-0 font-weight-bold"},e.request.car.car_year?"".concat(e.request.car.car_year," - "):null,e.request.car.car_make.name||""),E.a.createElement(Te.a,{to:"/car/".concat(e.request.car.id,"/schedule")},e.request.car.car_model.name||""," ",e.request.car.car_trim?e.request.car.car_trim.name:"")),E.a.createElement("td",{className:"text-center text-capitalize text-success"},Ie.format(e.total)||"-"),E.a.createElement("td",{className:"text-capitalize text-center"},E.a.createElement("p",{className:"mb-0 text-primary"},e.request.type),E.a.createElement("p",{className:"mb-0"},L()(e.preferred_date).format("(dddd) MMM. Do, YYYY")," ","- ",e.preferred_time)),E.a.createElement("td",{className:"text-center text-capitalize"},E.a.createElement(k.c,{theme:"primary",size:"sm",className:"mx-2",onClick:function(){return n.toggleModalCreation(e.id,t)}},E.a.createElement("i",{className:"material-icons"},"remove_red_eye")," Review")))}))))))),E.a.createElement(k.g,{className:"border-top"})):E.a.createElement(Pl,null)};wl.defaultProps={estimates:[]};var _l=Object(A.b)()(wl),Tl=function(e){for(var t=e.repeat,a=[];t>0;)a.push(E.a.createElement("tr",{key:t},E.a.createElement("td",{className:"lo-stats__image"},E.a.createElement(Mn.RoundShape,{color:ke,style:{width:50,height:50}})),E.a.createElement("td",null,E.a.createElement(Mn.TextBlock,{color:ke,rows:3,style:{width:150}})),E.a.createElement("td",{className:"lo-stats__image"},E.a.createElement(Mn.RoundShape,{color:ke,style:{width:50,height:50}})),E.a.createElement("td",null,E.a.createElement(Mn.TextBlock,{color:ke,rows:3,style:{width:150}})),E.a.createElement("td",null,E.a.createElement(Mn.TextBlock,{color:ke,rows:1,style:{width:100}})),E.a.createElement("td",null,E.a.createElement(Mn.TextBlock,{color:ke,rows:1,style:{width:100}})),E.a.createElement("td",null))),t--;return a},jl=function(e){var t=e.events,a=e.isFetching,n=e.estimates;return a||n.length?E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},"List of Shop Estimates")),E.a.createElement(k.f,{className:"p-0"},E.a.createElement(k.k,{fluid:!0,className:"px-0"},E.a.createElement("table",{className:"table lo-stats mb-0"},E.a.createElement("thead",{className:"py-1 bg-light text-semibold border-bottom"},E.a.createElement("tr",null,E.a.createElement("th",{colSpan:2},E.a.createElement("small",null,"Car Details")),E.a.createElement("th",{colSpan:2},E.a.createElement("small",null,"Estimating Shop")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Price")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Schedule")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Action")))),E.a.createElement("tbody",null,E.a.createElement(jn.a,{ready:!a,showLoadingAnimation:!0,customPlaceholder:E.a.createElement(Tl,{repeat:3})},n.map((function(e,a){return E.a.createElement("tr",{key:a},E.a.createElement("td",{className:"lo-stats__image"},E.a.createElement("img",{alt:"".concat(e.request.car.car_year," - ").concat(e.request.car.car_make.name||""),className:"rounded",src:J})),E.a.createElement("td",{className:"lo-stats__order-details"},E.a.createElement("h6",{className:"mb-0 font-weight-bold"},e.request.car.car_year?"".concat(e.request.car.car_year," - "):null,e.request.car.car_make.name||""),E.a.createElement("p",{className:"mb-0 text-primary"},e.request.car.car_model.name||""," ",e.request.car.car_trim?e.request.car.car_trim.name:""),E.a.createElement("p",{className:"mb-0"},E.a.createElement("small",null,"Sent to:"," ",E.a.createElement("strong",null,e.request.car.user.fname," ",e.request.car.user.lname.charAt(0),".")," ")),E.a.createElement("p",{className:"mb-0"},E.a.createElement("small",null,De.format(e.distance)," km away"))),E.a.createElement("td",{className:"lo-stats__image"},E.a.createElement("img",{alt:e.shop.name,className:"rounded",src:e.shop.avatar?e.shop.avatar.path:Z})),E.a.createElement("td",{className:"lo-stats__order-details"},E.a.createElement(Te.a,{to:"/shop/".concat(e.shop.slug)},e.shop.name)),E.a.createElement("td",{className:"text-center text-capitalize text-success"},Ie.format(e.total)||"-"),E.a.createElement("td",{className:"text-capitalize text-center"},E.a.createElement("p",{className:"mb-0 text-primary"},e.request.type),E.a.createElement("p",{className:"mb-0"},L()(e.preferred_date).format("(dddd) MMM. Do, YYYY")," ","- ",e.preferred_time)),E.a.createElement("td",{className:"text-center text-capitalize"},E.a.createElement(k.c,{theme:"danger",size:"sm",className:"mx-2",onClick:function(){return t.cancel(e.id)}},E.a.createElement("i",{className:"material-icons"},"close")," Cancel")))}))))))),E.a.createElement(k.g,{className:"border-top"})):E.a.createElement(Pl,null)};jl.defaultProps={estimates:[]};var Ml=Object(A.b)()(jl),kl=function(e){var t=e.data,a=e.errorMessages,n=e.events,r=e.open,l=e.toggle,s=e.validated;return E.a.createElement(k.D,{centered:!0,fade:!0,open:r,role:"dialog",size:"lg",toggle:l},E.a.createElement(k.G,{closeAriaLabel:"Close",toggle:l},"Review Shop Estimation"),E.a.createElement(k.E,{className:"pt-3",style:{height:400,overflow:"auto"}},a.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"danger",className:"outline-danger rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})),E.a.createElement("div",{className:"text-center"},E.a.createElement("h5",null,"Review submitted estimation"),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"6"},E.a.createElement(k.B,{flush:!0},E.a.createElement(k.C,null,E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"6",className:"text-left"},E.a.createElement("strong",null,"Shop Estimate"),E.a.createElement("p",{className:"mb-2"},E.a.createElement("small",null,"Price provided by the shop"))),E.a.createElement(k.i,{lg:"6",className:"text-right"},E.a.createElement("strong",null,t.content?Ie.format(t.content.amount):"-"))),E.a.createElement("hr",null),E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"6",className:"text-left"},E.a.createElement("strong",null,"Total Price")),E.a.createElement(k.i,{lg:"6",className:"text-right text-success"},E.a.createElement("strong",null,t.content?Ie.format(t.content.amount):"-"))))))),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto text-left",lg:"6"},E.a.createElement(k.r,{checked:t.reviewed,onChange:n.handleChkReviewed},"I have reviewed the estimation and I'm ready to submit"))))),E.a.createElement(k.F,{className:"d-block"},E.a.createElement(k.N,null,E.a.createElement(k.i,{className:"d-flex justify-content-end",lg:"12"},E.a.createElement(k.d,null,E.a.createElement(k.c,{disabled:!s,theme:"success",onClick:n.submit},E.a.createElement("div",null,E.a.createElement("span",{className:"text-white"},E.a.createElement("i",{className:"material-icons"},"add"))," ","Set Appointment")),E.a.createElement(k.c,{onClick:l,theme:"white"},E.a.createElement("span",null,E.a.createElement("i",{className:"material-icons"},"close"))," ","Cancel"))))))};kl.defaultProps={current:0,data:{},errorMessages:[],events:{},maxPages:3,open:!1,validated:!1};var Il=Object(A.b)()(kl),Dl=m.createAppointment,Rl=m.getEstimates,Bl=m.cancelEstimates,Fl=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){a._getEstimates()}}),Object.defineProperty(Object(T.a)(a),"_getEstimates",{enumerable:!0,writable:!0,value:function(){(0,a.props.getEstimates)().then((function(){a.setState({isFetchingEstimates:!1})})).catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_handleChkReviewed",{enumerable:!0,writable:!0,value:function(){var e=a.state.reviewed;a.setState({reviewed:!e})}}),Object.defineProperty(Object(T.a)(a),"_next",{enumerable:!0,writable:!0,value:function(){var e=a.state.menuIndex;a.setState({menuIndex:e+1})}}),Object.defineProperty(Object(T.a)(a),"_previous",{enumerable:!0,writable:!0,value:function(){var e=a.state.menuIndex;a.setState({menuIndex:e-1})}}),Object.defineProperty(Object(T.a)(a),"_submit",{enumerable:!0,writable:!0,value:function(e,t){e.preventDefault();var n=[],r=[],l=a.props,s=l.createAppointment,c=l.estimates,i=l.t,o=a.state,m=o.estimateId;s(c[o.contentIndex].request.car.id,m).then((function(){r.push({message:"Appointment has been submitted!"}),a.setState({successMessages:r},(function(){a._toggleModalCreation()}))})).catch((function(e){Array.isArray(e)?n=n.concat(e):n.push({message:i("translation.generalError")}),a.setState({errorMessages:n})}))}}),Object.defineProperty(Object(T.a)(a),"_toggleModalCreation",{enumerable:!0,writable:!0,value:function(e,t){var n=a.state.mdlCreation;a.setState({mdlCreation:!n,contentIndex:t,estimateId:e})}}),Object.defineProperty(Object(T.a)(a),"_cancelEstimate",{enumerable:!0,writable:!0,value:function(e){var t=a.props,n=t.cancelEstimates,r=t.t,l=[],s=[];window.confirm("You are about to cancel this estimation. Confirm if you are sure.")&&n(e).then((function(){s.push({message:"Estimate has been cancelled!"}),a.setState({successMessages:s},a._getEstimates)})).catch((function(e){Array.isArray(e)?l=l.concat(e):l.push({message:r("translation.generalError")}),a.setState({errorMessages:l})}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.estimates,n=e.user,r=a.state,l=r.errorMessages,s=r.successMessages,c=r.contentIndex,i=r.isFetchingEstimates,o=r.mdlCreation,m=r.menuIndex,u=r.reviewed;return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{noGutters:!0,className:"page-header py-4"},E.a.createElement(Jn,{sm:"4",title:"Estimates",subtitle:n.user_type===Ce?"Shop":"Submitted",className:"text-sm-left"})),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},E.a.createElement(Pa,{successMessages:s}),n.user_type===Ce?E.a.createElement(_l,{isFetching:i,estimates:t,events:{toggleModalCreation:a._toggleModalCreation}}):E.a.createElement(Ml,{events:{cancel:a._cancelEstimate},isFetching:i,estimates:t}))),E.a.createElement(Il,{current:m,data:{content:t[c],reviewed:u},errorMessages:l,events:{handleChkReviewed:a._handleChkReviewed,next:a._next,toggleModalCreation:a._toggleModalCreation,previous:a._previous,submit:a._submit},open:o,toggle:a._toggleModalCreation,validated:u}))}}),a.state={errorMessages:[],successMessages:[],contentIndex:null,estimateId:null,isFetchingEstimates:!0,mdlCreation:!1,menuIndex:0,reviewed:!1},a}return Object(j.a)(t,e),t}(h.Component),Ll=Object(A.b)()(Object(v.b)((function(e){return{estimates:e.estimatesReducer.estimates,user:e.sessionReducer.user}}),{createAppointment:Dl,getEstimates:Rl,cancelEstimates:Bl})(Fl)),ql=function(e,t){return function(a){return new Promise((function(n,r){He((function(l){var s=l.api_token;xe.post("/rate/".concat(e,"/shop"),t,{headers:_e(s)}).then((function(e){var t=e.data,l=t.error;t.success?(a({type:"appointments/CANCEL_APPOINTMENT"}),n(!0)):r(l)})).catch((function(e){r(e)}))}))}))}},zl=function(e,t){return function(a){return new Promise((function(n,r){He((function(l){var s=l.api_token;xe.post("/rate/".concat(e,"/customer"),t,{headers:_e(s)}).then((function(e){var t=e.data,l=t.error;t.success?(a({type:"appointments/CANCEL_APPOINTMENT"}),n(!0)):r(l)})).catch((function(e){r(e)}))}))}))}},Ql=function(){return function(e){return new Promise((function(t,a){He((function(n){var r=n.api_token;xe.get("/appointments",{headers:_e(r)}).then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"appointments/GET_APPOINTMENTS",data:{appointments:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}))}},Vl=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.put("/appointment/".concat(e,"/cancel"),null,{headers:_e(l)}).then((function(e){var r=e.data,l=r.error;r.success?(t({type:"appointments/CANCEL_APPOINTMENT"}),a(!0)):n(l)})).catch((function(e){n(e)}))}))}))}},Ul=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.put("/appointment/".concat(e,"/complete"),null,{headers:_e(l)}).then((function(e){var r=e.data,l=r.error;r.success?(t({type:"appointments/COMPLETE_APPOINTMENT"}),a(!0)):n(l)})).catch((function(e){n(e)}))}))}))}},Hl=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.put("/appointment/".concat(e,"/start"),null,{headers:_e(l)}).then((function(e){var r=e.data,l=r.error;r.success?(t({type:"appointments/START_APPOINTMENT"}),a(!0)):n(l)})).catch((function(e){n(e)}))}))}))}},Yl=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.get("/appointment/".concat(e),{headers:_e(l)}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:"appointments/GET_APPOINTMENT",data:{appointment:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}))}},Gl=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.put("/appointment/".concat(e,"/approve"),null,{headers:_e(l)}).then((function(e){var r=e.data,l=r.error;r.success?(t({type:"appointments/APPROVE_APPOINTMENT"}),a(!0)):n(l)})).catch((function(e){n(e)}))}))}))}},Wl={appointment:null,appointments:[]},Xl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"appointments/GET_APPOINTMENTS":var a=t.data.appointments;return Object(we.a)({},e,{appointments:a});case"appointments/GET_APPOINTMENT":var n=t.data.appointment;return Object(we.a)({},e,{appointment:n});default:return e}},Kl=Object(A.b)()((function(e){e.t;return E.a.createElement(k.e,{className:"mb-4"},E.a.createElement(k.f,{className:"text-center"},E.a.createElement("img",{src:se,alt:"Garage Icon",style:{height:75},className:"mb-3"}),E.a.createElement("h4",null,E.a.createElement("strong",null,"This page displays all appointments scheduled")),E.a.createElement("h6",null,"No appointments made yet. Start creating service requests for your car profiles now.")))})),Jl=function(e){for(var t=e.repeat,a=[];t>0;)a.push(E.a.createElement("tr",{key:t},E.a.createElement("td",{className:"lo-stats__image"},E.a.createElement(Mn.RoundShape,{color:ke,style:{width:50,height:50}})),E.a.createElement("td",null,E.a.createElement(Mn.TextBlock,{color:ke,rows:3,style:{width:150}})),E.a.createElement("td",null,E.a.createElement(Mn.TextBlock,{color:ke,rows:1,style:{width:100}})),E.a.createElement("td",null,E.a.createElement(Mn.TextBlock,{color:ke,rows:1,style:{width:100}})),E.a.createElement("td",null,E.a.createElement(Mn.TextBlock,{color:ke,rows:1})),E.a.createElement("td",null))),t--;return a},Zl=function(e){var t=e.attemptSubmit,a=e.approve,n=e.isFetching,r=e.appointments,l=e.type,s=e.t;return n||r.length?E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},"List of Appointments")),E.a.createElement(k.f,{className:"p-0"},E.a.createElement(k.k,{fluid:!0,className:"px-0"},E.a.createElement("table",{className:"table lo-stats mb-0"},E.a.createElement("thead",{className:"py-1 bg-light text-semibold border-bottom"},E.a.createElement("tr",null,E.a.createElement("th",{colSpan:2},E.a.createElement("small",null,"Shop Details")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Price")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Appointment Schedule")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Type")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Action")))),E.a.createElement("tbody",null,E.a.createElement(jn.a,{ready:!n,showLoadingAnimation:!0,customPlaceholder:E.a.createElement(Jl,{repeat:3})},r.map((function(e,n){var r=e.id,c=e.estimate,i=e.status;return E.a.createElement("tr",{key:n},E.a.createElement("td",{className:"lo-stats__image"},E.a.createElement("img",{alt:c.shop.name,className:"rounded",src:c.shop.avatar?c.shop.avatar.path:Z})),E.a.createElement("td",{className:"lo-stats__order-details"},E.a.createElement(Te.a,{to:"/shop/".concat(c.shop.slug)},c.shop.name),E.a.createElement("p",{className:"mb-0"},E.a.createElement("small",{className:"text-capitalize"},i))),E.a.createElement("td",{className:"text-center text-capitalize text-success"},Ie.format(c.total)||"-"),E.a.createElement("td",{className:"text-capitalize text-center"},E.a.createElement("p",{className:"mb-0"},L()(c.preferred_date).format("(dddd) MMM. Do, YYYY")," ","- ",c.preferred_time)),E.a.createElement("td",{className:"text-center text-capitalize text-primary"},c.request.type||"-"),E.a.createElement("td",{className:"text-center text-capitalize"},E.a.createElement(Te.a,{className:"btn btn-primary btn-sm mx-2",to:"/appointment/".concat(r)},E.a.createElement("i",{className:"material-icons"},"remove_red_eye")," View Details"),"vendor"===l&&"pending"===i&&E.a.createElement(k.c,{theme:"success",size:"sm",className:"mx-2",onClick:function(){return a(r,c.total)}},t?E.a.createElement("div",null,E.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),E.a.createElement("span",{className:"sr-only"},s("common.lblLoading"))):E.a.createElement("div",null,E.a.createElement("i",{className:"material-icons"},"check")," Accept"))))}))))))),E.a.createElement(k.g,{className:"border-top"})):E.a.createElement(Kl,null)};Zl.defaultProps={appointments:[],attemptSubmit:!1};var $l=Object(A.b)()(Zl),es=u.getAppointments,ts=u.approveAppointment,as=l.getWallet,ns=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){a._getAppointments()}}),Object.defineProperty(Object(T.a)(a),"_getAppointments",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.getAppointments,n=e.getWallet;t().then((function(){a.setState({isFetchingAppointments:!1})})).catch((function(e){return console.log(e)})),n().catch((function(e){return console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_approve",{enumerable:!0,writable:!0,value:function(e,t){a.setState({attemptSubmit:!0},(function(){var n=a.props,r=n.approveAppointment,l=n.wallet,s=.05*t;window.confirm("Set this appointment?")&&(l.balance>s?r(e).then((function(e){e&&a.setState({successMessages:[{message:"Appointment has been approved."}]},a._getAppointments)})).catch((function(e){return console.log(e)})):a.setState({errorMessages:[{message:"Your wallet balance is running low."}]})),a.setState({attemptSubmit:!1})}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.appointments,n=e.user,r=a.state,l=r.errorMessages,s=r.successMessages,c=r.isFetchingAppointments,i=r.attemptSubmit;return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{noGutters:!0,className:"page-header py-4"},E.a.createElement(Jn,{sm:"4",title:"Appointments",subtitle:"Scheduled",className:"text-sm-left"})),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},E.a.createElement(Pa,{successMessages:s,errorMessages:l}),E.a.createElement($l,{attemptSubmit:i,appointments:t,isFetching:c,type:n.user_type,approve:a._approve}))))}}),a.state={attemptSubmit:!1,errorMessages:[],successMessages:[],isFetchingAppointments:!0},a}return Object(j.a)(t,e),t}(h.Component),rs=Object(A.b)()(Object(v.b)((function(e){return{wallet:e.profilesReducer.wallet,user:e.sessionReducer.user,appointments:e.appointmentsReducer.appointments}}),{getAppointments:es,approveAppointment:ts,getWallet:as})(ns)),ls=a(37),ss=function(e){var t=e.hideModal,a=(e.t,e.toggleModal);return E.a.createElement(k.e,{className:"mb-4"},E.a.createElement(k.f,{className:"text-center"},E.a.createElement("img",{src:re,alt:"Shop Icon",style:{height:75},className:"mb-3"}),E.a.createElement("h4",null,E.a.createElement("strong",null,"This page displays all the stores under your account.")),E.a.createElement("h6",null,"You haven't created a shop yet. Add a new shop and reap the benefits of being an AutoServed partner."),t?null:E.a.createElement(k.c,{className:"mt-3 mb-2",pill:!0,onClick:a},"Create New Shop")))};ss.defaultProps={hideModal:!1};var cs=Object(A.b)()(ss),is=function(e){for(var t=e.repeat,a=[];t>0;)a.push(E.a.createElement("tr",{key:t},E.a.createElement("td",{className:"lo-stats__image"},E.a.createElement(Mn.RoundShape,{color:ke,style:{width:50,height:50}})),E.a.createElement("td",{className:"lo-stats__order-details"},E.a.createElement(Mn.TextBlock,{color:ke,rows:2,style:{width:200}})),E.a.createElement("td",{className:"lo-stats__status"},E.a.createElement("div",{className:"d-table mx-auto"},E.a.createElement(k.b,{className:"text-capitalize",pill:!0,theme:"secondary"},"-"))),E.a.createElement("td",{className:"lo-stats__total text-center text-capitalize"},E.a.createElement(Mn.TextBlock,{color:ke,rows:1})),E.a.createElement("td",{className:"lo-stats__total text-center text-capitalize"}))),t--;return a},os=function(e){var t=e.isFetching,a=e.shops,n=e.t,r=e.toggleModal,l=Object(h.useState)([]),s=Object(R.a)(l,2),c=s[0],i=s[1];return t||a.length?E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},n("translation.tblTitleShops"))),E.a.createElement(k.f,{className:"p-0"},E.a.createElement(k.k,{fluid:!0,className:"px-0"},E.a.createElement("table",{className:"table lo-stats mb-0"},E.a.createElement("thead",{className:"py-1 bg-light text-semibold border-bottom"},E.a.createElement("tr",null,E.a.createElement("th",{colSpan:2},E.a.createElement("small",null,n("common.tblColShop"))),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,n("common.tblColStatus"))),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,n("common.tblColType"))),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,n("common.tblColActions"))))),E.a.createElement("tbody",null,E.a.createElement(jn.a,{ready:!t,showLoadingAnimation:!0,customPlaceholder:E.a.createElement(is,{repeat:3})},a.map((function(e,t){return c[t]={edit:!!c[t]&&c[t].edit,manage:!!c[t]&&c[t].manage},E.a.createElement("tr",{key:t},E.a.createElement("td",{className:"lo-stats__image"},E.a.createElement("img",{alt:e.name,className:"rounded",src:e.avatar?e.avatar.path:Z})),E.a.createElement("td",{className:"lo-stats__order-details"},E.a.createElement(Te.a,{to:"/shop/".concat(e.slug)},e.name),E.a.createElement("p",{className:"mb-0"},E.a.createElement("small",null,"Last Updated: ",L()(e.updated_at).fromNow()))),E.a.createElement("td",{className:"lo-stats__status"},E.a.createElement("div",{className:"d-table mx-auto"},E.a.createElement(k.b,{className:"text-capitalize",pill:!0,theme:Vr[e.status].theme},Vr[e.status].text))),E.a.createElement("td",{className:"lo-stats__total text-center text-capitalize"},e.type?e.type:"-"),E.a.createElement("td",{className:"lo-stats__total text-center text-capitalize"},E.a.createElement(Te.a,{id:"btnEditShop-".concat(t),className:"btn btn-warning btn-sm text-white mx-2",to:"/shop/".concat(e.slug,"/manage")},E.a.createElement("i",{className:"material-icons"},"edit")),E.a.createElement(k.P,{target:"#btnEditShop-".concat(t),open:c[t].edit,toggle:function(){var e=Object(ls.a)(c);e[t].edit=!e[t].edit,i(e)}},"Edit Shop Details"),E.a.createElement(Te.a,{id:"btnManageActivationRequirements-".concat(t),className:"btn btn-success btn-sm text-white mx-2",to:"/shop/".concat(e.slug,"/documents")},E.a.createElement("i",{className:"material-icons"},"attachment")),E.a.createElement(k.P,{target:"#btnManageActivationRequirements-".concat(t),open:c[t].manage,toggle:function(){var e=Object(ls.a)(c);e[t].manage=!e[t].manage,i(e)}},"Manage Activation Requirements")))}))))))),E.a.createElement(k.g,{className:"border-top"})):E.a.createElement(cs,{toggleModal:r})};os.defaultProps={shops:[]};var ms=Object(A.b)()(os),us=function(e){var t=e.attemptSubmit,a=e.data,n=e.events,r=e.errors,l=e.open,s=e.t,c=e.toggle,i=a.txtMobileNumber,o=a.txtShopName,m=n.handleMobileNumber,u=n.handleShopName,d=n.submit,p=Ge.isValidMobileNumber(i),h=Ge.isValidCompanyName(o);return E.a.createElement(k.D,{open:l,fade:!0,centered:!0,role:"dialog"},E.a.createElement(k.G,{closeAriaLabel:"Close",toggle:c},s("translation.mdlTtlShop")),E.a.createElement(k.E,null,r.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"danger",className:"outline-danger rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})),E.a.createElement(k.q,null,E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{md:"12",className:"form-group"},E.a.createElement(k.u,{id:"txtShopName",type:"text",placeholder:s("common.phShopName"),onChange:u,invalid:null!==o&&!Object(Ye.matches)(o,Se)}),E.a.createElement(k.s,{valid:h},s("validation.errShopName")))),E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{md:"12",className:"form-group"},E.a.createElement(k.y,{className:"mb-3"},E.a.createElement(k.z,{type:"prepend"},E.a.createElement(k.A,null,"+63")),E.a.createElement(k.u,{type:"text",id:"txtMobileNumber",placeholder:s("common.phMobileNumber"),onChange:m,invalid:null!==i&&(10!==i.length||!Object(Ye.isNumeric)(i))}),E.a.createElement(k.s,{valid:p},s("validation.errMobileNumber"))))))),E.a.createElement(k.F,null,E.a.createElement("div",{className:"my-2 ml-auto"},E.a.createElement(k.d,null,E.a.createElement(k.c,{theme:"success",onClick:d,disabled:t||!p||!h},t?E.a.createElement("div",null,E.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),E.a.createElement("span",{className:"sr-only"},s("common.lblLoading"))):E.a.createElement("div",null,E.a.createElement("span",{className:"text-white"},E.a.createElement("i",{className:"material-icons"},"add")),s("translation.btnCreateShop"))),E.a.createElement(k.c,{onClick:c,theme:"white"},E.a.createElement("span",null,E.a.createElement("i",{className:"material-icons"},"close")),s("translation.btnCancel"))))))};us.defaultProps={errors:[],open:!1};var ds=Object(A.b)()(us),ps=s.createShop,hs=s.getShops,Es=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){(0,a.props.getShops)().then((function(){a.setState({isFetchingShops:!1})})).catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_handleMobileNumber",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;a.setState({txtMobileNumber:t})}}),Object.defineProperty(Object(T.a)(a),"_handleShopName",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;a.setState({txtShopName:t})}}),Object.defineProperty(Object(T.a)(a),"_submit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),a.setState({attemptSubmit:!0},(function(){var e=[],t=[],n=a.props,r=n.createShop,l=n.t,s=a.state;r({mobileNumber:s.txtMobileNumber,shopName:s.txtShopName}).then((function(e){e&&(t.push({message:l("translation.successCreateShop",e)}),a.setState({attemptSubmit:!1,mdlCreation:!1,successMessages:t}))})).catch((function(t){Array.isArray(t)?e=e.concat(t):e.push({message:l("translation.generalError")}),a.setState({mdlErrorMessages:e,attemptSubmit:!1})}))}))}}),Object.defineProperty(Object(T.a)(a),"_toggle",{enumerable:!0,writable:!0,value:function(){var e=a.state.mdlCreation;a.setState({mdlCreation:!e,txtMobileNumber:null,txtShopName:null})}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.shops,n=e.t,r=a.state,l=r.attemptSubmit,s=r.errorMessages,c=r.mdlErrorMessages,i=r.successMessages,o=r.isFetchingShops,m=r.mdlCreation,u=r.txtMobileNumber,d=r.txtShopName;return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{noGutters:!0,className:"page-header py-4"},E.a.createElement(Jn,{sm:"4",title:n("translation.ttlShops"),subtitle:n("translation.subTtlShops"),className:"text-sm-left"}),E.a.createElement(k.i,{sm:"4",className:"d-flex ml-auto my-auto"},E.a.createElement(k.c,{onClick:a._toggle,className:"mx-auto ml-sm-auto mr-sm-0"},E.a.createElement("i",{className:"material-icons"},"add"),n("translation.btnCreateNewShop")))),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},E.a.createElement(Pa,{errorMessages:s,successMessages:i}),E.a.createElement(ms,{isFetching:o,shops:t,toggleModal:a._toggle}))),E.a.createElement(ds,{attemptSubmit:l,data:{txtMobileNumber:u,txtShopName:d},errors:c,open:m,toggle:a._toggle,events:{handleMobileNumber:a._handleMobileNumber,handleShopName:a._handleShopName,submit:a._submit}}))}}),a.state={attemptSubmit:!1,errorMessages:[],mdlErrorMessages:[],successMessages:[],isFetchingShops:!0,mdlCreation:!1,txtMobileNumber:null,txtShopName:null},a}return Object(j.a)(t,e),t}(E.a.Component),gs=Object(A.b)()(Object(v.b)((function(e){return{shops:e.shopsReducer.shops}}),{createShop:ps,getShops:hs})(Es)),fs=function(e){var t=e.href,a=e.list,n=e.points,r=e.subTitle,l=e.totalPoints,s=e.t,c=e.theme,i=e.title,o=e.enabled,m=a.filter((function(e){return e.done})),u=n||l;return E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},i),E.a.createElement("small",null,r)),E.a.createElement(k.f,{className:"p-0"},E.a.createElement(k.N,{className:"mx-1"},E.a.createElement(k.i,{sm:"12",md:"12",lg:"12",className:"p-3"},E.a.createElement("div",{className:"progress-wrapper"},E.a.createElement("div",{className:"progress-label"},s("translation.txtProgress")," (",m.length,"/",a.length,")"),E.a.createElement(k.M,{className:"progress-sm",value:u?n:m.length?m.length/a.length*100:0,striped:!0,theme:c},E.a.createElement("span",{className:"progress-value"},u?"".concat(n," point(s)"):"".concat(m.length?m.length/a.length*100:0," %")))))),E.a.createElement(k.B,{flush:!0},E.a.createElement(k.C,{className:"px-3 pb-2"},a.map((function(e,t){return E.a.createElement(k.r,{key:t,className:"mb-1",value:e.title,defaultChecked:e.done,disabled:!0},e.done?E.a.createElement("strong",{className:"text-primary"},E.a.createElement("del",null,e.title)):e.title)}))))),!o&&E.a.createElement(k.g,{className:"border-top"},E.a.createElement(k.N,null,E.a.createElement(k.i,{className:"text-right view-report"},E.a.createElement(Te.a,{to:t},s("translation.txtCompleteItems")," \u2192")))))};fs.defaultProps={href:"#",list:[],theme:"primary",enabled:!1};var bs=Object(A.b)()(fs),As=function(e){var t=e.shop,a=e.t,n=t.payment_method;return E.a.createElement(k.e,{small:!0,className:"user-details mb-4"},E.a.createElement(k.h,{className:"p-0"},E.a.createElement("div",{className:"user-details__bg",style:{maxHeight:"30vh"}},E.a.createElement("img",{src:t.banner?t.banner.path:$,alt:t.name}))),E.a.createElement(k.f,{className:"p-0"},E.a.createElement("div",{className:"user-details__avatar mx-auto bg-white border-white"},E.a.createElement("img",{src:t.avatar?t.avatar.path:Z,alt:t.name})),E.a.createElement("h4",{className:"text-center m-0 mt-2"},t.name),E.a.createElement("p",{className:"text-center my-1"},E.a.createElement(k.b,{className:"text-capitalize",pill:!0,theme:Vr[t.status].theme},Vr[t.status].text)),E.a.createElement("p",{className:"text-center text-light mx-0 my-3 px-3"},t.description?t.description:"-"),E.a.createElement("div",{className:"user-details__user-data border-top border-bottom p-4"},E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"w-50"},E.a.createElement("span",null,a("translation.txtEmail")),E.a.createElement("a",{href:"mailto:".concat(t.user.email)},t.user.email)),E.a.createElement(k.i,{className:"w-50"},E.a.createElement("span",null,a("translation.txtLocation")),E.a.createElement("span",null,t.address?t.address:"-"))),E.a.createElement(k.N,null,E.a.createElement(k.i,{className:"w-50"},E.a.createElement("span",null,a("translation.txtPhone")),E.a.createElement("a",{href:"tel:+63".concat(t.contact)},"+63 ",t.contact)),E.a.createElement(k.i,{className:"w-50"},E.a.createElement("span",null,a("translation.txtPaymentMethod")),E.a.createElement("div",{className:"user-details__tags py-2"},n?n.map((function(e,t){return E.a.createElement(k.b,{pill:!0,theme:"light",className:"d-inline text-light text-uppercase mb-2 border mr-1",key:t},e)})):"-"))))))};As.defaultProps={shop:null};var vs=Object(A.b)()(As),Ns=function(e){var t=e.data,a=e.t,n=[t.sun,t.mon,t.tue,t.wed,t.thu,t.fri,t.sat];return E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},a("translation.txtOperations"))),E.a.createElement(k.f,{className:"px-2 border-bottom"},E.a.createElement("table",{className:"table table-sm mb-0"},E.a.createElement("thead",{className:"thead-light"},E.a.createElement("tr",null,E.a.createElement("th",{scope:"col",className:"border-0 text-center py-2"},"Sunday"),E.a.createElement("th",{scope:"col",className:"border-0 text-center py-2"},"Monday"),E.a.createElement("th",{scope:"col",className:"border-0 text-center py-2"},"Tuesday"),E.a.createElement("th",{scope:"col",className:"border-0 text-center py-2"},"Wednesday"),E.a.createElement("th",{scope:"col",className:"border-0 text-center py-2"},"Thursday"),E.a.createElement("th",{scope:"col",className:"border-0 text-center py-2"},"Friday"),E.a.createElement("th",{scope:"col",className:"border-0 text-center py-2"},"Saturday"))),E.a.createElement("tbody",null,E.a.createElement("tr",null,n.map((function(e,t){return E.a.createElement("td",{key:t,className:"".concat(e.open?"text-success":"text-danger"," text-center")},E.a.createElement("small",{className:"font-weight-bold"},e.open?"".concat(Fe(e.start)," - ").concat(Fe(e.end)):"Closed"))})))))),E.a.createElement(k.g,null))};Ns.defaultProps={data:[]};var ys=Object(A.b)()(Ns),Ss=function(e){var t=e.title,a=e.data;return E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},t)),E.a.createElement(k.f,{className:"p-0"},E.a.createElement("div",{className:"user-details__tags p-4"},a?a.map((function(e,t){return E.a.createElement(k.b,{pill:!0,theme:"light",className:"text-light text-uppercase mb-2 border mr-1",key:t},e)})):"-")))};Ss.defaultProps={data:[]};var Cs=Ss,Os=a(66),Ps=a.n(Os),xs=a(55),ws=Object(A.b)()((function(e){var t=e.shop;return E.a.createElement(k.e,{small:!0},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},"Map")),E.a.createElement(k.f,{className:"p-0"},E.a.createElement(k.N,{className:"mx-1"},E.a.createElement(k.i,{lg:"12",className:"p-3"},E.a.createElement(xs.a,{params:{key:X,libraries:"places,geocode"},render:function(e){return e&&t.latitude&&t.longitude&&E.a.createElement("div",{style:{height:"50vh",width:"100%"}},E.a.createElement(Ps.a,{autoFitBounds:!0,googleMaps:e,zoom:16,coordinates:[{position:{lat:Number(t.latitude),lng:Number(t.longitude)}}]}))}})))))})),_s=s.getShopDetails,Ts=function(e){function t(){var e,a,n;Object(P.a)(this,t);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return Object(w.a)(n,(a=n=Object(w.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(l))),Object.defineProperty(Object(T.a)(n),"componentDidMount",{enumerable:!0,writable:!0,value:function(){var e=n.props.match;(0,n.props.getShopDetails)(e.params.slug).catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(n),"render",{enumerable:!0,writable:!0,value:function(){var e=n.props,t=e.match,a=e.shop,r=e.t,l=e.user,s=t.params.slug,c=l.user_type===Oe&&null!==a&&l.id===a.user.id,i=Be(a).filter((function(e){return!e.done}));return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{noGutters:!0,className:"page-header py-4"},E.a.createElement(Jn,{sm:"8",title:r("translation.ttlShopDetails"),subtitle:r("translation.subTtlShop"),className:"text-sm-left"}),c?E.a.createElement(k.i,{lg:"4",className:"d-flex ml-auto my-auto"},E.a.createElement(Te.a,{to:"/shop/".concat(s,"/manage"),className:"btn btn-warning mx-auto ml-sm-auto mr-sm-0 text-white"},E.a.createElement("i",{className:"material-icons"},"edit"),r("translation.btnEditShop"))):null),a?E.a.createElement(k.N,{className:"py-4"},E.a.createElement(k.i,{lg:"8"},E.a.createElement(vs,{shop:a}),E.a.createElement(ys,{data:a.operations}),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"4"},E.a.createElement(Cs,{title:r("translation.txtFeatures"),data:a.features})),E.a.createElement(k.i,{lg:"4"},E.a.createElement(Cs,{title:r("translation.txtSpecialTools"),data:a.application.special_tools})),E.a.createElement(k.i,{lg:"4"},E.a.createElement(Cs,{title:r("translation.txtAmenities"),data:a.amenities})))),E.a.createElement(k.i,{lg:"4"},c?E.a.createElement("div",null,0!==i.length&&E.a.createElement(Pa,{infoMessages:[{message:"Complete profile to enable activation requirements submission."}]}),E.a.createElement(bs,{title:r("translation.txtProfileCompletion"),list:Be(a),href:"/shop/".concat(s,"/manage")}),E.a.createElement(bs,{subTitle:"Your activation requirements will be verified",title:r("translation.txtActivationRequirements"),list:Re(a.application),points:a.completion?100*a.completion:0,totalPoints:100,href:"/shop/".concat(s,"/documents"),enabled:0!==i.length})):E.a.createElement(ws,{shop:a}))):null)}}),a))}return Object(j.a)(t,e),t}(h.Component),js=Object(A.b)()(Object(v.b)((function(e){return{user:e.sessionReducer.user,shop:e.shopsReducer.shop}}),{getShopDetails:_s})(Ts)),Ms=a(73),ks=s.getShopDetails,Is=s.updateShop,Ds=s.uploadFile,Rs=["Accessory Shop","Auto Aircon Repair","Auto Detailing","Auto-Electrical","Auto Parts","Auto Repair","Battery Shop","Car Paint","Car Wash","Car Wrap","Dealer Service Center","Emission Center","Gas Station","Glass Repair","Service Center","Tint Shop","Tire Shop","Towing Service","Upholstery","Vulcanizing Shop"],Bs=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentWillMount",{enumerable:!0,writable:!0,value:function(){var e=a.props.match;a._getShopDetails(e.params.slug)}}),Object.defineProperty(Object(T.a)(a),"_getShopDetails",{enumerable:!0,writable:!0,value:function(e){(0,a.props.getShopDetails)(e).then((function(e){if(e){var t=!1,n=!1;null!==e.payment_method&&(t=e.payment_method.includes("cash"),n=e.payment_method.includes("credit card")),a.setState({chkCash:t,chkCreditCard:n,latitude:Number(e.latitude),longitude:Number(e.longitude),txtLocation:e.address,txtAmenities:e.amenities||[],txtFeatures:e.features||[],operations:e.operations,shop:e,shopUpdates:e})}})).catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_handleBanner",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=a.props,n=t.t,r=t.uploadFile,l=a.state.shop,s=e.target.files.length?e.target.files[0]:null,c=[],i=[];s&&r("banner",l.id,s).then((function(e){e&&(c.push({message:n("translation.successUpload")}),l.banner=e,a.setState({shop:l,successMessages:c}))})).catch((function(){i.push({message:n("translation.generalError")}),a.setState({errorMessages:i})}))}}),Object.defineProperty(Object(T.a)(a),"_handleAvatar",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=a.props,n=t.t,r=t.uploadFile,l=a.state.shop,s=e.target.files.length?e.target.files[0]:null,c=[],i=[];s&&r("avatar",l.id,s).then((function(e){e&&(c.push({message:n("translation.successUpload")}),l.avatar=e,a.setState({shop:l,successMessages:c}))})).catch((function(){i.push({message:n("translation.generalError")}),a.setState({errorMessages:i})}))}}),Object.defineProperty(Object(T.a)(a),"_handleShopName",{enumerable:!0,writable:!0,value:function(e){var t=a.state.shopUpdates;t.name=e.target.value,a.setState({shopUpdates:t})}}),Object.defineProperty(Object(T.a)(a),"_handleShopType",{enumerable:!0,writable:!0,value:function(e){var t=a.state.shopUpdates;t.type=e.target.value,a.setState({shopUpdates:t})}}),Object.defineProperty(Object(T.a)(a),"_handleMobileNumber",{enumerable:!0,writable:!0,value:function(e){var t=a.state.shopUpdates;t.contact=e.target.value,a.setState({shopUpdates:t})}}),Object.defineProperty(Object(T.a)(a),"_handleDescription",{enumerable:!0,writable:!0,value:function(e){var t=a.state.shopUpdates;t.description=e.target.value,a.setState({shopUpdates:t})}}),Object.defineProperty(Object(T.a)(a),"_handleAmenitiesTag",{enumerable:!0,writable:!0,value:function(e){a.setState({txtAmenities:e})}}),Object.defineProperty(Object(T.a)(a),"_handleFeaturesTag",{enumerable:!0,writable:!0,value:function(e){a.setState({txtFeatures:e})}}),Object.defineProperty(Object(T.a)(a),"_handleChkCash",{enumerable:!0,writable:!0,value:function(e){var t=a.state.chkCash;a.setState({chkCash:!t})}}),Object.defineProperty(Object(T.a)(a),"_handleChkCreditCard",{enumerable:!0,writable:!0,value:function(){var e=a.state.chkCreditCard;a.setState({chkCreditCard:!e})}}),Object.defineProperty(Object(T.a)(a),"_handleSearch",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;a.setState({txtSearch:t,txtLocation:t})}}),Object.defineProperty(Object(T.a)(a),"_handleSelectSuggest",{enumerable:!0,writable:!0,value:function(e){var t=a.state.shopUpdates,n=e.formatted_address,r=e.geometry;t.address=n,t.longitude=r.location.lng().toString(),t.latitude=r.location.lat().toString(),a.setState({txtSearch:"",txtLocation:n,latitude:r.location.lat(),longitude:r.location.lng(),shopUpdates:t})}}),Object.defineProperty(Object(T.a)(a),"_handleSunday",{enumerable:!0,writable:!0,value:function(e){var t=a.state.operations;t.sun.open=!t.sun.open,t.sun.start=t.sun.start||8,t.sun.end=t.sun.end||17,a.setState({operations:t})}}),Object.defineProperty(Object(T.a)(a),"_handleMonday",{enumerable:!0,writable:!0,value:function(){var e=a.state.operations;e.mon.open=!e.mon.open,e.mon.start=e.mon.start||8,e.mon.end=e.mon.end||17,a.setState({operations:e})}}),Object.defineProperty(Object(T.a)(a),"_handleTuesday",{enumerable:!0,writable:!0,value:function(){var e=a.state.operations;e.tue.open=!e.tue.open,e.tue.start=e.tue.start||8,e.tue.end=e.tue.end||17,a.setState({operations:e})}}),Object.defineProperty(Object(T.a)(a),"_handleWednesday",{enumerable:!0,writable:!0,value:function(){var e=a.state.operations;e.wed.open=!e.wed.open,e.wed.start=e.wed.start||8,e.wed.end=e.wed.end||17,a.setState({operations:e})}}),Object.defineProperty(Object(T.a)(a),"_handleThursday",{enumerable:!0,writable:!0,value:function(){var e=a.state.operations;e.thu.open=!e.thu.open,e.thu.start=e.thu.start||8,e.thu.end=e.thu.end||17,a.setState({operations:e})}}),Object.defineProperty(Object(T.a)(a),"_handleFriday",{enumerable:!0,writable:!0,value:function(){var e=a.state.operations;e.fri.open=!e.fri.open,e.fri.start=e.fri.start||8,e.fri.end=e.fri.end||17,a.setState({operations:e})}}),Object.defineProperty(Object(T.a)(a),"_handleSaturday",{enumerable:!0,writable:!0,value:function(){var e=a.state.operations;e.sat.open=!e.sat.open,e.sat.start=e.sat.start||8,e.sat.end=e.sat.end||17,a.setState({operations:e})}}),Object.defineProperty(Object(T.a)(a),"_slideSun",{enumerable:!0,writable:!0,value:function(e){var t=a.state.operations;t.sun.start=Number(e[0]).toFixed(0),t.sun.end=Number(e[1]).toFixed(0),a.setState({operations:t})}}),Object.defineProperty(Object(T.a)(a),"_slideMon",{enumerable:!0,writable:!0,value:function(e){var t=a.state.operations;t.mon.start=Number(e[0]).toFixed(0),t.mon.end=Number(e[1]).toFixed(0),a.setState({operations:t})}}),Object.defineProperty(Object(T.a)(a),"_slideTue",{enumerable:!0,writable:!0,value:function(e){var t=a.state.operations;t.tue.start=Number(e[0]).toFixed(0),t.tue.end=Number(e[1]).toFixed(0),a.setState({operations:t})}}),Object.defineProperty(Object(T.a)(a),"_slideWed",{enumerable:!0,writable:!0,value:function(e){var t=a.state.operations;t.wed.start=Number(e[0]).toFixed(0),t.wed.end=Number(e[1]).toFixed(0),a.setState({operations:t})}}),Object.defineProperty(Object(T.a)(a),"_slideThu",{enumerable:!0,writable:!0,value:function(e){var t=a.state.operations;t.thu.start=Number(e[0]).toFixed(0),t.thu.end=Number(e[1]).toFixed(0),a.setState({operations:t})}}),Object.defineProperty(Object(T.a)(a),"_slideFri",{enumerable:!0,writable:!0,value:function(e){var t=a.state.operations;t.fri.start=Number(e[0]).toFixed(0),t.fri.end=Number(e[1]).toFixed(0),a.setState({operations:t})}}),Object.defineProperty(Object(T.a)(a),"_slideSat",{enumerable:!0,writable:!0,value:function(e){var t=a.state.operations;t.sat.start=Number(e[0]).toFixed(0),t.sat.end=Number(e[1]).toFixed(0),a.setState({operations:t})}}),Object.defineProperty(Object(T.a)(a),"_submit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=a.props,n=t.match,r=t.t,l=t.updateShop,s=a.state,c=s.shopUpdates,i=s.txtAmenities,o=s.txtFeatures,m=s.chkCash,u=s.chkCreditCard,d=s.operations;c.amenities=i,c.features=o,c.operations=d;var p=[],h=[],E=[];m&&p.push("cash"),u&&p.push("credit card"),c.payment_method=p,l(n.params.slug,c).then((function(e){e&&(h.push({message:r("translation.successUpdateShop",e)}),a.setState({shop:e,successMessages:h}),window.scrollTo(0,0))})).catch((function(){E.push({message:r("translation.generalError")}),a.setState({errorMessages:E})}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.match,n=e.t,r=a.state,l=r.latitude,s=r.longitude,c=r.shop,i=r.shopUpdates,o=r.errorMessages,m=r.successMessages,u=r.txtSearch,d=r.txtLocation,p=r.txtFeatures,h=r.txtAmenities,g=r.operations,f=r.chkCash,b=r.chkCreditCard,A=g.sun,v=g.mon,N=g.tue,y=g.wed,S=g.thu,C=g.fri,O=g.sat,P=i.contact,x=i.name,w=void 0!==P&&null!==P&&10===P.length&&Object(Ye.isNumeric)(P),_=void 0!==x&&null!==x&&Object(Ye.matches)(x,Se);return E.a.createElement("div",null,E.a.createElement(k.k,{fluid:!0,className:"px-0"},m.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"success",className:"outline-success mb-0"},E.a.createElement("p",{className:"mb-0"},e.message))})),o.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"danger",className:"outline-danger mb-0"},E.a.createElement("p",{className:"mb-0"},e.message))}))),c?E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"8",className:"mx-auto mt-4"},E.a.createElement(k.e,{small:!0,className:"edit-user-details mb-4"},E.a.createElement(k.h,{className:"p-0"},E.a.createElement("div",{className:"edit-user-details__bg"},E.a.createElement("img",{src:c.banner?c.banner.path:$,alt:c.name}),E.a.createElement("label",{className:"edit-user-details__change-background"},E.a.createElement("i",{className:"material-icons mr-1"},"photo_camera")," ","Change Background Photo (700 x 250)",E.a.createElement(k.u,{innerRef:function(e){e&&(e.accept=Pe)},className:"d-none",type:"file",id:"fileBanner",onChange:a._handleBanner})))),E.a.createElement(k.f,{className:"p-0"},E.a.createElement("p",{className:"text-center text-light mb-0 font-italic"},E.a.createElement("small",null,"Maximum file size: 5MB - (JPEG, PNG)")),E.a.createElement(k.q,{className:"py-4"},E.a.createElement(Gn,{title:"General Settings",description:"Update your shop profile details."}),E.a.createElement(k.N,{form:!0,className:"mx-4"},E.a.createElement(k.i,{lg:"8"},E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{lg:"6",className:"form-group"},E.a.createElement("label",{htmlFor:"txtShopName"},"Shop Name"),E.a.createElement(k.u,{id:"txtShopName",onChange:a._handleShopName,value:i.name||"",invalid:null!==x&&!Object(Ye.matches)(x,Se)}),E.a.createElement(k.s,{valid:_},n("validation.errShopName"))),E.a.createElement(k.i,{lg:"6",className:"form-group"},E.a.createElement("label",{htmlFor:"selShopType"},"Shop Type"),E.a.createElement(k.w,{className:"text-capitalize",value:i.type||"",onChange:a._handleShopType},null===c.type?E.a.createElement("option",{value:""},"Select an Option"):null,Rs.map((function(e,t){return E.a.createElement("option",{key:t,value:e},e)}))))),E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{lg:"12",className:"form-group"},E.a.createElement("label",{htmlFor:"txtMobileNumber"},"Mobile Number"),E.a.createElement(k.y,{className:"mb-3"},E.a.createElement(k.z,{type:"prepend"},E.a.createElement(k.A,null,"+63")),E.a.createElement(k.u,{id:"txtMobileNumber",value:i.contact||"",onChange:a._handleMobileNumber,invalid:null!==P&&(10!==P.length||!Object(Ye.isNumeric)(P))}),E.a.createElement(k.s,{valid:w},n("validation.errMobileNumber"))))),E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{lg:"12",className:"form-group"},E.a.createElement("label",{htmlFor:"txtDescription"},"Description"),E.a.createElement(k.x,{id:"txtDescription",placeholder:"Add a short description here",value:i.description||"",onChange:a._handleDescription})))),E.a.createElement(k.i,{lg:"4"},E.a.createElement("label",{htmlFor:"userProfilePicture",className:"text-center w-100 mb-4"},"Shop Logo"),E.a.createElement("div",{className:"edit-user-details__avatar m-auto"},E.a.createElement("img",{src:c.avatar?c.avatar.path:Z,alt:c.name}),E.a.createElement("label",{className:"edit-user-details__avatar__change"},E.a.createElement("i",{className:"material-icons mr-1"},"add_a_photo"),E.a.createElement(k.u,{innerRef:function(e){e&&(e.accept=Pe)},id:"fileAvatar",className:"d-none",type:"file",onChange:a._handleAvatar}))),E.a.createElement("label",{htmlFor:"fileAvatar",className:"btn btn-sm btn-white d-table mx-auto mt-4"},E.a.createElement("i",{className:"material-icons mr-2"},"cloud_upload"),"Upload Image (512 x 512)"),E.a.createElement("p",{className:"text-center text-light mb-0 font-italic"},E.a.createElement("small",null,"Maximum file size: 5MB - (JPEG, PNG)")))),E.a.createElement("hr",null),E.a.createElement(Gn,{title:"Location Settings",description:"Setup your shop's location."}),E.a.createElement(k.N,{form:!0,className:"mx-4"},E.a.createElement(k.i,{lg:"12"},E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{lg:"12",className:"form-group"},E.a.createElement("label",{htmlFor:"userLocation"},"Shop Address"),E.a.createElement(xs.a,{params:{key:X,libraries:"places,geocode"},render:function(e){return e&&E.a.createElement(Ms.a,{autocompletionRequest:{input:u||""},googleMaps:e,onSelectSuggest:a._handleSelectSuggest},E.a.createElement(k.y,{seamless:!0},E.a.createElement(k.z,{type:"prepend"},E.a.createElement(k.A,null,E.a.createElement("i",{className:"material-icons"},"place"))),E.a.createElement(k.u,{id:"txtLocation",placeholder:"Search shop location",value:d||"",onChange:a._handleSearch})))}}))),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12",className:"form-group"},E.a.createElement(xs.a,{params:{key:X,libraries:"places,geocode"},render:function(e){return e&&l&&s&&E.a.createElement("div",{style:{height:"50vh",width:"100%"}},E.a.createElement(Ps.a,{autoFitBounds:!0,googleMaps:e,zoom:16,coordinates:[{position:{lat:l,lng:s}}]}))}}))))),E.a.createElement("hr",null),E.a.createElement(Gn,{title:"Additional Information",description:"Provide additional details to your shop's profile."}),E.a.createElement(k.N,{form:!0,className:"mx-4"},E.a.createElement(k.i,{lg:"12"},E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{lg:"6",className:"form-group"},E.a.createElement("label",{htmlFor:"txtAmenities"},"Amenities"),E.a.createElement($r.a,{value:h,onChange:a._handleAmenitiesTag,inputProps:{id:"txtAmenities",placeholder:"Add Items"}})),E.a.createElement(k.i,{lg:"6",className:"form-group"},E.a.createElement("label",{htmlFor:"txtFeatures"},"Features"),E.a.createElement($r.a,{value:p,onChange:a._handleFeaturesTag,inputProps:{id:"txtFeatures",placeholder:"Add Item"}}))),E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{lg:"12",className:"form-group"},E.a.createElement("label",{htmlFor:"operations"},"Operating Hours"),E.a.createElement("p",{className:"text-light mb-3"},E.a.createElement("small",null,"Toggle switch using the label")),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"3",className:"d-flex align-middle"},E.a.createElement("span",null,E.a.createElement(k.r,{checked:A.open,toggle:!0,className:"mr-2",id:"chkSunday",onChange:a._handleSunday})),E.a.createElement("label",{htmlFor:"chkSunday"},"Sunday")),E.a.createElement(k.i,{lg:"9",className:"align-middle"},E.a.createElement(k.O,{className:"ml-2",connect:!0,disabled:!A.open,start:[Number(A.start?A.start:8),Number(A.end?A.end:17)],range:{min:0,max:23},tooltips:[{to:Fe},{to:Fe}],step:1,onChange:a._slideSun})),E.a.createElement(k.i,{lg:"3",className:"d-flex align-middle"},E.a.createElement("span",null,E.a.createElement(k.r,{checked:v.open,toggle:!0,className:"mr-2",id:"chkMonday",onChange:a._handleMonday})),E.a.createElement("label",{htmlFor:"chkMonday"},"Monday")),E.a.createElement(k.i,{lg:"9",className:"align-middle"},E.a.createElement(k.O,{className:"ml-2",connect:!0,disabled:!v.open,start:[Number(v.start?v.start:8),Number(v.end?v.end:17)],range:{min:0,max:23},tooltips:[{to:Fe},{to:Fe}],step:1,onChange:a._slideMon})),E.a.createElement(k.i,{lg:"3",className:"d-flex align-middle"},E.a.createElement("span",null,E.a.createElement(k.r,{checked:N.open,toggle:!0,className:"mr-2",id:"chkTuesday",onChange:a._handleTuesday})),E.a.createElement("label",{htmlFor:"chkTuesday"},"Tuesday")),E.a.createElement(k.i,{lg:"9",className:"align-middle"},E.a.createElement(k.O,{className:"ml-2",connect:!0,disabled:!N.open,start:[Number(N.start?N.start:8),Number(N.end?N.end:17)],range:{min:0,max:23},tooltips:[{to:Fe},{to:Fe}],step:1,onChange:a._slideTue})),E.a.createElement(k.i,{lg:"3",className:"d-flex align-middle"},E.a.createElement("span",null,E.a.createElement(k.r,{checked:y.open,toggle:!0,className:"mr-2",id:"chkWednesday",onChange:a._handleWednesday})),E.a.createElement("label",{htmlFor:"chkWednesday"},"Wednesday")),E.a.createElement(k.i,{lg:"9",className:"align-middle"},E.a.createElement(k.O,{className:"ml-2",connect:!0,disabled:!y.open,start:[Number(y.start?y.start:8),Number(y.end?y.end:17)],range:{min:0,max:23},tooltips:[{to:Fe},{to:Fe}],step:1,onChange:a._slideWed})),E.a.createElement(k.i,{lg:"3",className:"d-flex align-middle"},E.a.createElement("span",null,E.a.createElement(k.r,{checked:S.open,toggle:!0,className:"mr-2",id:"chkThursday",onChange:a._handleThursday})),E.a.createElement("label",{htmlFor:"chkThursday"},"Thursday")),E.a.createElement(k.i,{lg:"9",className:"align-middle"},E.a.createElement(k.O,{className:"ml-2",connect:!0,disabled:!S.open,start:[Number(S.start?S.start:8),Number(S.end?S.end:17)],range:{min:0,max:23},tooltips:[{to:Fe},{to:Fe}],step:1,onChange:a._slideThu})),E.a.createElement(k.i,{lg:"3",className:"d-flex align-middle"},E.a.createElement("span",null,E.a.createElement(k.r,{checked:C.open,toggle:!0,className:"mr-2",id:"chkFriday",onChange:a._handleFriday})),E.a.createElement("label",{htmlFor:"chkFriday"},"Friday")),E.a.createElement(k.i,{lg:"9",className:"align-middle"},E.a.createElement(k.O,{className:"ml-2",connect:!0,disabled:!C.open,start:[Number(C.start?C.start:8),Number(C.end?C.end:17)],range:{min:0,max:23},tooltips:[{to:Fe},{to:Fe}],step:1,onChange:a._slideFri})),E.a.createElement(k.i,{lg:"3",className:"d-flex align-middle"},E.a.createElement("span",null,E.a.createElement(k.r,{checked:O.open,toggle:!0,className:"mr-2",id:"chkSaturday",onChange:a._handleSaturday})),E.a.createElement("label",{htmlFor:"chkSaturday"},"Saturday")),E.a.createElement(k.i,{lg:"9",className:"align-middle"},E.a.createElement(k.O,{className:"ml-2",connect:!0,disabled:!O.open,start:[Number(O.start?O.start:8),Number(O.end?O.end:17)],range:{min:0,max:23},tooltips:[{to:Fe},{to:Fe}],step:1,onChange:a._slideSat}))))))),E.a.createElement("hr",null),E.a.createElement(Gn,{title:"Payment Method",description:"Setup your shop's payment method."}),E.a.createElement(k.N,{form:!0,className:"mx-4"},E.a.createElement(k.i,{tag:"label",htmlFor:"chkCash",className:"col-form-label"},"Cash",E.a.createElement("small",{className:"text-muted form-text"},"Allow customers to pay you by cash.")),E.a.createElement(k.i,{className:"d-flex"},E.a.createElement(k.r,{checked:f,toggle:!0,className:"ml-auto my-auto",id:"chkCash",onChange:a._handleChkCash}))),E.a.createElement(k.N,{form:!0,className:"mx-4"},E.a.createElement(k.i,{tag:"label",htmlFor:"chkCreditCard",className:"col-form-label"},"Credit Card",E.a.createElement("small",{className:"text-muted form-text"},"Allow customers to pay you by credit card.")),E.a.createElement(k.i,{className:"d-flex"},E.a.createElement(k.r,{checked:b,toggle:!0,className:"ml-auto my-auto",id:"chkCreditCard",onChange:a._handleChkCreditCard}))))),E.a.createElement(k.g,{className:"border-top"},E.a.createElement(k.c,{size:"sm",theme:"success",className:"ml-auto mr-3 float-right",onClick:a._submit,disabled:!_||!w},"Save Changes"),E.a.createElement(Te.a,{to:"/shop/".concat(t.params.slug),className:"btn btn-sm btn-white ml-auto mr-3 float-right"},"\u2190 Go Back")))))):null)}}),a.state={longitude:null,latitude:null,shop:null,shopUpdates:{},errorMessages:[],successMessages:[],txtLocation:null,txtFeatures:[],txtAmenities:[],txtSearch:null,chkCash:!1,chkCreditCard:!1,operations:{sun:{open:!1,start:null,end:null},mon:{open:!1,start:null,end:null},tue:{open:!1,start:null,end:null},wed:{open:!1,start:null,end:null},thu:{open:!1,start:null,end:null},fri:{open:!1,start:null,end:null},sat:{open:!1,start:null,end:null}}},a}return Object(j.a)(t,e),t}(h.Component),Fs=Object(A.b)()(Object(v.b)((function(e){return{user:e.sessionReducer.user,shop:e.shopsReducer.shop,file:e.shopsReducer.file}}),{getShopDetails:ks,updateShop:Is,uploadFile:Ds})(Bs)),Ls=a(217),qs=a(75),zs=a.n(qs),Qs=function(e){return[{Header:"",accessor:"icon",maxWidth:60,Cell:function(){return E.a.createElement("div",{className:"file-manager__item-icon",tabIndex:"0"},E.a.createElement("div",null,E.a.createElement("i",{className:"material-icons"},"insert_drive_file")))}},{Header:"Name",accessor:"name",Cell:function(e){return E.a.createElement("div",null,E.a.createElement("a",{href:e.original.path?e.original.path:"#",rel:"noopener noreferrer",target:e.original.path?"_blank":null},E.a.createElement("h5",{className:"file-manager__item-title"},e.original.name)," "),E.a.createElement("span",{className:"file-manager__item-meta"},e.original.updated_at?"Last updated ".concat(L()(e.original.updated_at).fromNow()):"-"))}},{Header:"Size",accessor:"size",maxWidth:100,className:"text-center d-flex align-items-center",Cell:function(e){return E.a.createElement("div",null,zs()(e.original.size))}},{Header:"File Name",accessor:"filename",maxWidth:300,className:"text-center d-flex align-items-center text-wrap",Cell:function(e){return E.a.createElement("a",{href:e.original.path?e.original.path:"#",rel:"noopener noreferrer",target:e.original.path?"_blank":null},e.original.filename?e.original.filename:"-")}},{Header:"Actions",accessor:"actions",maxWidth:100,className:"text-center d-flex align-items-center",Cell:function(e){return E.a.createElement("div",null,E.a.createElement(k.u,{innerRef:function(e){e&&(e.accept="image/jpg,image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document")},className:"d-none",type:"file",id:"file".concat(e.index),onChange:e.original.handler}),E.a.createElement(k.d,{size:"sm",className:"d-table"},E.a.createElement("label",{htmlFor:"file".concat(e.index),className:"btn btn-sm btn-success"},E.a.createElement("i",{className:"material-icons"},"cloud_upload"))))}}]},Vs=s.getShopDetails,Us=s.updateApplication,Hs=s.uploadFile,Ys=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentWillMount",{enumerable:!0,writable:!0,value:function(){var e=a.props.match;a._getShopDetails(e.params.slug)}}),Object.defineProperty(Object(T.a)(a),"_getShopDetails",{enumerable:!0,writable:!0,value:function(e){(0,a.props.getShopDetails)(e).then((function(e){if(e){var t=e.application,n=t.bir,r=t.business_permit,l=t.registration,s=a.state.files;n&&(s[0].size=n.size,s[0].path=n.path,s[0].updated_at=n.updated_at,s[0].filename=n.filename),r&&(s[1].size=r.size,s[1].path=r.path,s[1].updated_at=r.updated_at,s[1].filename=r.filename),l&&(s[2].size=l.size,s[2].path=l.path,s[2].updated_at=l.updated_at,s[2].filename=l.filename),a.setState({shop:e,application:t,files:s,applicationUpdates:t,txtCertification:t.merch_cert||[],txtSpecialTools:t.special_tools||[]})}})).catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_handleCertificationTag",{enumerable:!0,writable:!0,value:function(e){a.setState({txtCertification:e})}}),Object.defineProperty(Object(T.a)(a),"_handleSpecialToolsTag",{enumerable:!0,writable:!0,value:function(e){a.setState({txtSpecialTools:e})}}),Object.defineProperty(Object(T.a)(a),"_handleShopSize",{enumerable:!0,writable:!0,value:function(e){var t=a.state.applicationUpdates;t.shop_size=e.target.value,a.setState({applicationUpdates:t})}}),Object.defineProperty(Object(T.a)(a),"_handleBirCertificate",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=a.props,n=t.match,r=t.t,l=t.uploadFile,s=a.state,c=s.files,i=s.shop,o=e.target.files.length?e.target.files[0]:null,m=[],u=[];o&&l("application/bir-certificate",i.application.id,o).then((function(e){e&&(m.push({message:r("translation.successUpload")}),c[0].size=e.size,c[0].path=e.path,c[0].updated_at=e.updated_at,c[0].filename=e.filename,a.setState({files:c,successMessages:m},(function(){a._getShopDetails(n.params.slug)})))})).catch((function(){u.push({message:r("translation.generalError")}),a.setState({errorMessages:u})}))}}),Object.defineProperty(Object(T.a)(a),"_handleBusinessPermit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=a.props,n=t.match,r=t.t,l=t.uploadFile,s=a.state,c=s.files,i=s.shop,o=e.target.files.length?e.target.files[0]:null,m=[],u=[];o&&l("application/business-permit",i.application.id,o).then((function(e){e&&(m.push({message:r("translation.successUpload")}),c[1].size=e.size,c[1].path=e.path,c[1].updated_at=e.updated_at,c[1].filename=e.filename,a.setState({files:c,successMessages:m},(function(){a._getShopDetails(n.params.slug)})))})).catch((function(){u.push({message:r("translation.generalError")}),a.setState({errorMessages:u})}))}}),Object.defineProperty(Object(T.a)(a),"_handleBusinessRegistration",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=a.props,n=t.match,r=t.t,l=t.uploadFile,s=a.state,c=s.files,i=s.shop,o=e.target.files.length?e.target.files[0]:null,m=[],u=[];o&&l("application/business-registration",i.application.id,o).then((function(e){e&&(m.push({message:r("translation.successUpload")}),c[2].size=e.size,c[2].path=e.path,c[2].updated_at=e.updated_at,c[2].filename=e.filename,a.setState({files:c,successMessages:m},(function(){a._getShopDetails(n.params.slug)})))})).catch((function(){u.push({message:r("translation.generalError")}),a.setState({errorMessages:u})}))}}),Object.defineProperty(Object(T.a)(a),"_handleLifters",{enumerable:!0,writable:!0,value:function(e){var t=a.state.applicationUpdates;t.lifters=Number(e.target.value),a.setState({applicationUpdates:t})}}),Object.defineProperty(Object(T.a)(a),"_submit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=a.props,n=t.t,r=t.updateApplication,l=a.state,s=l.applicationUpdates,c=l.txtCertification,i=l.txtSpecialTools;s.merch_cert=c,s.special_tools=i;var o=[],m=[];r(s.id,s).then((function(e){o.push({message:n("translation.successUpdateApplication")}),a.setState({application:e,successMessages:o}),window.scrollTo(0,0)})).catch((function(){m.push({message:n("translation.generalError")}),a.setState({errorMessages:m})}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.match,n=e.t,r=a.state,l=r.application,s=r.applicationUpdates,c=r.errorMessages,i=r.files,o=r.successMessages,m=r.txtCertification,u=r.txtSpecialTools,d=Qs(n);return l?E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4 pb-4"},E.a.createElement(k.N,{noGutters:!0,className:"page-header py-4"},E.a.createElement(Jn,{sm:"8",title:"Activation Requirements",subtitle:"Shop",className:"text-sm-left mb-3"}),E.a.createElement(k.i,{sm:"4",className:"d-flex ml-auto my-auto"},E.a.createElement(Te.a,{className:"btn btn-white mx-auto ml-sm-auto mr-sm-0",to:"/shop/".concat(t.params.slug)},"\u2190 Go Back"))),E.a.createElement(k.N,{noGutters:!0,className:"page-header pt-2 pb-4"},E.a.createElement(k.i,{lg:"12"},o.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"success",className:"outline-success mb-0 rounded mt-4"},E.a.createElement("p",{className:"mb-0"},e.message))})),c.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"danger",className:"outline-danger mb-0 rounded mt-4"},E.a.createElement("p",{className:"mb-0"},e.message))})),E.a.createElement(k.e,{className:"file-manager file-manager-list p-0"},E.a.createElement(k.h,{className:"text-center p-3 border-bottom"}),E.a.createElement(k.f,{className:"p-0 border-bottom"},E.a.createElement(Ls.a,{columns:d,data:i,pageSize:i.length,showPagination:!1,resizable:!1,sortable:!1})),E.a.createElement(k.g,{className:"text-right p-3"},E.a.createElement("small",{className:"text-light mb-0 font-italic px-3"},"Maximum file size per file: 5MB - (JPEG, PNG, PDF, DOCX)"))))),E.a.createElement(k.N,{noGutters:!0,className:"page-header pt-2 pb-4"},E.a.createElement(k.i,{lg:"12"},E.a.createElement(k.e,{className:"file-manager file-manager-list p-0"},E.a.createElement(k.h,{className:"p-3 border-bottom"},E.a.createElement("h6",{className:"m-0"},"Additional Information")),E.a.createElement(k.f,{className:"p-4 border-bottom"},E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{lg:"6",className:"form-group"},E.a.createElement("label",{htmlFor:"txtLifters"},"# of Lifters"),E.a.createElement(k.u,{id:"txtLifters",value:s.lifters||0,onChange:a._handleLifters,type:"number"}))),E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{lg:"6",className:"form-group"},E.a.createElement("label",{htmlFor:"txtCertification"},"Certification"),E.a.createElement($r.a,{value:m,onChange:a._handleCertificationTag,inputProps:{id:"txtCertification",placeholder:"Add entries"}})),E.a.createElement(k.i,{lg:"6",className:"form-group"},E.a.createElement("label",{htmlFor:"txtSpecialTools"},"Special Tools"),E.a.createElement($r.a,{value:u,onChange:a._handleSpecialToolsTag,inputProps:{id:"txtSpecialTools",placeholder:"Add entries"}})))),E.a.createElement(k.g,{className:"text-center p-3"},E.a.createElement(k.c,{size:"sm",theme:"success",className:"ml-auto mr-3 float-right",onClick:a._submit},"Save Changes")))))):null}}),a.state={application:null,applicationUpdates:null,errorMessages:[],successMessages:[],shop:null,txtCertification:[],txtSpecialTools:[],files:[{name:"BIR Certificate of Registration",size:0,path:null,handler:a._handleBirCertificate},{name:"Mayor's Permit",size:0,path:null,handler:a._handleBusinessPermit},{name:"SEC/DTI Certificate of Registration",size:0,path:null,handler:a._handleBusinessRegistration}]},a}return Object(j.a)(t,e),t}(h.Component),Gs=Object(A.b)()(Object(v.b)((function(e){return{user:e.sessionReducer.user,shop:e.shopsReducer.shop}}),{getShopDetails:Vs,updateApplication:Us,uploadFile:Hs})(Ys)),Ws=function(e){var t=e.hideModal,a=(e.t,e.toggleModal);return E.a.createElement(k.e,{className:"mb-4"},E.a.createElement(k.f,{className:"text-center"},E.a.createElement("img",{src:ce,alt:"Shop Icon",style:{height:75},className:"mb-3"}),E.a.createElement("h4",null,E.a.createElement("strong",null,"This page displays all available services for your different shops.")),E.a.createElement("h6",null,"You haven't created a service yet. Add a new service and start receiving requests from various customers."),t?null:E.a.createElement(k.c,{className:"mt-3 mb-2",pill:!0,onClick:a},"Create New Service")))};Ws.defaultProps={hideModal:!1};var Xs=Object(A.b)()(Ws),Ks=function(e){for(var t=e.repeat,a=[];t>0;)a.push(E.a.createElement("tr",{key:t},E.a.createElement("td",{className:"text-left"},E.a.createElement(Mn.TextBlock,{color:ke,rows:1,style:{width:200},className:"mb-2"}),E.a.createElement(Mn.TextBlock,{color:ke,rows:1,style:{width:100}})),E.a.createElement("td",{className:"text-center"},E.a.createElement(Mn.TextBlock,{color:ke,rows:1,style:{width:300}})),E.a.createElement("td",{className:"lo-stats__total text-center text-capitalize"},E.a.createElement("div",{className:"d-table mx-auto"},E.a.createElement(k.b,{className:"text-capitalize",outline:!0,pill:!0,theme:"secondary"},"-"))),E.a.createElement("td",null))),t--;return a},Js=function(e){var t=e.isFetching,a=e.services,n=e.t,r=e.toggleModal,l=Object(h.useState)([]),s=Object(R.a)(l,2),c=s[0],i=s[1];return t||a.length?E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},"Corrective Services")),E.a.createElement(k.f,{className:"p-0"},E.a.createElement(k.k,{fluid:!0,className:"px-0"},E.a.createElement("table",{className:"table lo-stats mb-0"},E.a.createElement("thead",{className:"py-1 bg-light text-semibold border-bottom"},E.a.createElement("tr",null,E.a.createElement("th",{className:"text-left"},E.a.createElement("small",null,"Service Name")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Pricing")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Shops")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,n("common.tblColActions"))))),E.a.createElement("tbody",null,E.a.createElement(jn.a,{ready:!t,showLoadingAnimation:!0,customPlaceholder:E.a.createElement(Ks,{repeat:3})},a.map((function(e,t){return c[t]={manage:!!c[t]&&c[t].manage,edit:!!c[t]&&c[t].edit,delete:!!c[t]&&c[t].delete},E.a.createElement("tr",{key:t},E.a.createElement("td",{className:"text-left"},E.a.createElement("p",{className:"mb-0 text-primary"},e.corrective_service.name),E.a.createElement("small",{className:"mb-0 text-muted"},e.corrective_service.type)),E.a.createElement("td",{className:"text-center text-success"},E.a.createElement("p",{className:"mb-0"},Ie.format(e.min_price)," -"," ",Ie.format(e.max_price))),E.a.createElement("td",{className:"text-center"},E.a.createElement(k.b,{className:"text-capitalize",outline:!0,pill:!0,theme:"secondary"},"-")),E.a.createElement("td",{className:"lo-stats__total text-center text-capitalize"},E.a.createElement(k.c,{id:"btnManageService-".concat(t),className:"btn btn-success btn-sm text-white mx-2"},E.a.createElement("i",{className:"material-icons"},"add")),E.a.createElement(k.P,{target:"#btnManageService-".concat(t),open:c[t].manage,toggle:function(){var e=Object(ls.a)(c);e[t].manage=!e[t].manage,i(e)}},"Assign Shops"),E.a.createElement(k.c,{id:"btnEditService-".concat(t),className:"btn btn-warning btn-sm text-white mx-2"},E.a.createElement("i",{className:"material-icons"},"edit")),E.a.createElement(k.P,{target:"#btnEditService-".concat(t),open:c[t].edit,toggle:function(){var e=Object(ls.a)(c);e[t].edit=!e[t].edit,i(e)}},"Edit Service Details"),E.a.createElement(k.c,{id:"btnDeleteService-".concat(t),className:"btn btn-danger btn-sm text-white mx-2"},E.a.createElement("i",{className:"material-icons"},"delete")),E.a.createElement(k.P,{target:"#btnDeleteService-".concat(t),open:c[t].delete,toggle:function(){var e=Object(ls.a)(c);e[t].delete=!e[t].delete,i(e)}},"Delete Service")))}))))))),E.a.createElement(k.g,{className:"border-top"})):E.a.createElement(Xs,{toggleModal:r})};Js.defaultProps={services:[]};var Zs=Object(A.b)()(Js),$s=o.getCorrectiveServices,ec=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){a._isMounted=!0,a._isMounted&&a._getCorrectiveServices()}}),Object.defineProperty(Object(T.a)(a),"componentWillUnmount",{enumerable:!0,writable:!0,value:function(){a._isMounted=!1}}),Object.defineProperty(Object(T.a)(a),"_getCorrectiveServices",{enumerable:!0,writable:!0,value:function(){(0,a.props.getCorrectiveServices)().then((function(){a.setState({isFetchingServices:!1})})).catch((function(e){return console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.services,n=e.t,r=a.state,l=r.successMessages,s=r.isFetchingServices;return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{noGutters:!0,className:"page-header py-4"},E.a.createElement(Jn,{sm:"4",title:n("translation.ttlServices"),subtitle:n("translation.subTtlCorrectiveServices"),className:"text-sm-left"}),E.a.createElement(k.i,{sm:"4",className:"d-flex ml-auto my-auto"},E.a.createElement(k.c,{onClick:function(){return a.setState({mdlCreation:!0})},className:"mx-auto ml-sm-auto mr-sm-0"},E.a.createElement("i",{className:"material-icons"},"add"),n("translation.btnCreateNewService")))),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},E.a.createElement(Pa,{successMessages:l}),E.a.createElement(Zs,{isFetching:s,services:t}))))}}),a._isMounted=!1,a.state={isFetchingServices:!0,errorMessages:[],successMessages:[]},a}return Object(j.a)(t,e),t}(h.Component),tc=Object(A.b)()(Object(v.b)((function(e){return{services:e.servicesReducer.services}}),{getCorrectiveServices:$s})(ec)),ac=function(e){for(var t=e.repeat,a=[];t>0;)a.push(E.a.createElement(k.C,{key:t,className:"d-flex px-3 p-2"},E.a.createElement(Mn.TextRow,{color:ke}))),t--;return E.a.createElement("div",null,a)},nc=function(e){var t=e.data,a=e.isFetching,n=e.mileages;return E.a.createElement(k.e,{small:!0},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement(k.N,null,E.a.createElement(k.i,{className:"d-flex"},E.a.createElement("h6",{className:"m-0"},"Mileage")))),E.a.createElement(k.f,null,E.a.createElement(k.B,{small:!0,flush:!0,className:"list-group-small"},E.a.createElement(jn.a,{ready:!a,showLoadingAnimation:!0,customPlaceholder:E.a.createElement(ac,{repeat:10})},n.length?n.map((function(e,a){return E.a.createElement(k.C,{key:a,className:"d-flex px-3 p-2"},E.a.createElement(k.i,{lg:"8"},E.a.createElement("h6",{className:"text-primary font-weight-bold mb-0"},E.a.createElement(Te.a,{to:"/services/preventive/mileage-".concat(e.mileage)},De.format(e.mileage)," km"),t.pricedPms&&t.pricedPms.priced_labor[e.mileage]&&t.pricedPms.priced_oil[e.mileage]&&E.a.createElement(k.b,{className:"ml-2",theme:"success"},E.a.createElement("small",null,"Completed"))),E.a.createElement("small",{className:"mb-0 text-muted"},e.change_items.join(", "))),E.a.createElement(k.i,{lg:"4"},E.a.createElement(Te.a,{to:"/services/preventive/mileage-".concat(e.mileage),className:"mr-1 btn btn-sm btn-info btn-block text-white"},E.a.createElement("i",{className:"material-icons"},"edit")," Manage Services")))})):E.a.createElement("p",null,"No mileage data found")))))};nc.defaultProps={mileages:[]};var rc=nc,lc=function(e){for(var t=e.repeat,a=[];t>0;)a.push(E.a.createElement(Mn.TextRow,{key:t,color:ke})),t--;return E.a.createElement("div",null,a)},sc=Object(A.b)()((function(e){var t=e.disabled,a=e.isFetching,n=e.onChange,r=e.shops;return E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},"List of Shops")),E.a.createElement(k.f,{className:"px-4"},E.a.createElement("fieldset",null,E.a.createElement(jn.a,{ready:!a,showLoadingAnimation:!0,customPlaceholder:E.a.createElement(lc,{repeat:3})},E.a.createElement("p",null,E.a.createElement("small",null,"Select shops to enable PMS services. Make sure to complete your"," ",E.a.createElement(Te.a,{to:"/shops"},"Shop Profiles"),".")),r.length?r.map((function(e,a){return E.a.createElement(k.r,{checked:e.pms_enabled&&"pending"!==e.status,key:a,onChange:function(){n(e)},small:!0,disabled:t||"pending"===e.status},E.a.createElement("span",{className:t||"pending"===e.status?"text-muted":null},e.name))})):E.a.createElement("p",null,"No shops found")))),E.a.createElement(k.g,{className:"border-top text-right"},E.a.createElement(Te.a,{to:"/shops"},"Manage Shops \u2192")))})),cc=function(e){for(var t=e.repeat,a=[];t>0;)a.push(E.a.createElement(k.C,{key:t,className:"d-flex px-3 p-2"},E.a.createElement(Mn.TextRow,{color:ke}))),t--;return E.a.createElement("div",null,a)},ic=function(e){var t=e.data,a=e.isFetching,n=e.otherServices;return E.a.createElement(k.e,{small:!0},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement(k.N,null,E.a.createElement(k.i,{className:"d-flex"},E.a.createElement("h6",{className:"m-0"},"Individual Services")))),E.a.createElement(k.f,null,E.a.createElement(k.B,{small:!0,flush:!0,className:"list-group-small"},E.a.createElement(jn.a,{ready:!a,showLoadingAnimation:!0,customPlaceholder:E.a.createElement(cc,{repeat:3})},n.map((function(e,a){return E.a.createElement(k.C,{key:a,className:"d-flex px-3 p-2"},E.a.createElement(k.i,{lg:"8"},E.a.createElement("h6",{className:"text-primary font-weight-bold mb-0 text-capitalize"},E.a.createElement(Te.a,{to:"/services/preventive/service-".concat(e.type)},e.name),t.pricedPmsOthers&&t.pricedPmsOthers[e.name]&&E.a.createElement(k.b,{className:"ml-2",theme:"success"},E.a.createElement("small",null,"Completed")))),E.a.createElement(k.i,{lg:"4"},E.a.createElement(Te.a,{to:"/services/preventive/service-".concat(e.type),className:"mr-1 btn btn-sm btn-info btn-block text-white"},E.a.createElement("i",{className:"material-icons"},"edit")," Manage Service")))}))))))},oc=o.getMileages,mc=o.getOtherServices,uc=o.getPricedPmsData,dc=o.toggleShopPms,pc=o.getPricedPmsOthersData,hc=s.getShops,Ec=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.getMileages,n=e.getOtherServices,r=e.getPricedPmsData,l=e.getPricedPmsOthersData;a._getShops(),t().then((function(){a.setState({isFetchingMileages:!1})})).catch((function(e){console.log(e)})),n().then((function(){a.setState({isFetchingOtherServices:!1})})).catch((function(e){console.log(e)})),r().catch((function(e){console.log(e)})),l().catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_getShops",{enumerable:!0,writable:!0,value:function(){(0,a.props.getShops)().then((function(){a.setState({isFetchingShops:!1})})).catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_toggleCheckbox",{enumerable:!0,writable:!0,value:function(e){var t=a.props,n=t.toggleShopPms,r=t.t,l=[],s=[];a.setState({togglingShopPms:!0},(function(){n(e.id).then((function(){a._getShops(),e.pms_enabled?s=[{message:"".concat(e.name," PMS is disabled.")}]:l=[{message:"".concat(e.name," PMS is enabled.")}],a.setState({togglingShopPms:!1,successMessages:l,errorMessages:s})})).catch((function(e){Array.isArray(e)?s=s.concat(e):s.push({message:r("translation.generalError")}),a.setState({errorMessages:s,attemptSubmit:!1})}))}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.mileages,n=e.otherServices,r=e.shops,l=e.t,s=e.pricedPms,c=e.pricedPmsOthers,i=a.state,o=i.errorMessages,m=i.successMessages,u=i.isFetchingMileages,d=i.isFetchingOtherServices,p=i.isFetchingShops,h=i.toggleShopPms;return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{noGutters:!0,className:"page-header py-4"},E.a.createElement(Jn,{sm:"4",title:l("translation.ttlServices"),subtitle:l("translation.subTtlPreventiveServices"),className:"text-sm-left"})),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"4",className:"mb-4"},E.a.createElement(Pa,{infoMessages:o,successMessages:m}),E.a.createElement(sc,{disabled:h,isFetching:p,onChange:a._toggleCheckbox,shops:r})),E.a.createElement(k.i,{lg:"8",className:"mb-4"},E.a.createElement(k.N,null,E.a.createElement(k.i,{className:"mb-4"},E.a.createElement(ic,{data:{pricedPmsOthers:c},isFetching:d,otherServices:n}))),E.a.createElement(k.N,null,E.a.createElement(k.i,null,E.a.createElement(rc,{data:{pricedPms:s},isFetching:u,mileages:t}))))))}}),a.state={successMessages:[],errorMessages:[],isFetchingMileages:!0,isFetchingOtherServices:!0,isFetchingShops:!0,togglingShopPms:!1},a}return Object(j.a)(t,e),t}(h.Component),gc=Object(A.b)()(Object(v.b)((function(e){return{mileages:e.servicesReducer.mileages,otherServices:e.servicesReducer.otherServices,shops:e.shopsReducer.shops,pricedPms:e.servicesReducer.pricedPms,pricedPmsOthers:e.servicesReducer.pricedPmsOthers}}),{getMileages:oc,getOtherServices:mc,getShops:hc,getPricedPmsData:uc,getPricedPmsOthersData:pc,toggleShopPms:dc})(Ec)),fc=Object(A.b)()((function(e){var t=e.pms;return E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},"PMS Service - Details")),E.a.createElement(k.f,{className:"px-4"},E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"6"},E.a.createElement("strong",null,"Check"),E.a.createElement("ul",{className:"mt-3"},t.check_items.map((function(e,t){return E.a.createElement("li",{key:t},E.a.createElement("small",null,e))})))),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},E.a.createElement("strong",null,"Clean"),E.a.createElement("ul",{className:"mt-3"},t.clean_items.map((function(e,t){return E.a.createElement("li",{key:t},E.a.createElement("small",null,e))}))))),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},E.a.createElement("strong",null,"Change"),E.a.createElement("ul",{className:"mt-3"},t.change_items.map((function(e,t){return E.a.createElement("li",{key:t},E.a.createElement("small",null,e))})))))))),E.a.createElement(k.g,null))})),bc=function(e){var t=e.events,a=e.oilTypes,n=e.pmsPrices,r=e.vehicleTypes,l=t.handleOilTypePrice,s=t.handleVehicleTypePrice;return E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},"PMS Service - Pricing")),E.a.createElement(k.f,{className:"px-4"},E.a.createElement(k.B,{flush:!0},E.a.createElement(k.C,null,E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"6"},E.a.createElement("strong",null,"Labor"),E.a.createElement(k.q,{className:"mt-3"},r.length?r.map((function(e,t){var a=null;n&&(a=n.labor_prices);var r=a?a.find((function(t){return e===t.car_type})):null;return E.a.createElement(k.N,{key:t,form:!0},E.a.createElement(k.i,{lg:"8",className:"form-group"},E.a.createElement("label",{className:"text-capitalize text-light",htmlFor:"txtPriceVehicle".concat(t)},e)),E.a.createElement(k.i,{lg:"4"},E.a.createElement(k.u,{id:"txtPriceVehicle".concat(t),type:"number",placeholder:"Price",onChange:function(t){s(t,e)},defaultValue:r?r.price:""})))})):null)),E.a.createElement(k.i,{lg:"6"},E.a.createElement("strong",null,"Engine Oil Type"),E.a.createElement("p",null,E.a.createElement("small",null,"(Price/Liter)")),E.a.createElement(k.q,{className:"mt-3"},a.length?a.map((function(e,t){var a=null;n&&(a=n.oil_type_prices);var r=a?a.find((function(t){return e===t.oil_type})):null;return E.a.createElement(k.N,{key:t,form:!0},E.a.createElement(k.i,{lg:"8",className:"form-group"},E.a.createElement("label",{className:"text-capitalize text-light",htmlFor:"txtPriceOil".concat(t)},e)),E.a.createElement(k.i,{lg:"4"},E.a.createElement(k.u,{id:"txtPriceOil".concat(t),type:"number",placeholder:"Price",onChange:function(t){l(t,e)},defaultValue:r?r.price:""})))})):null)))))),E.a.createElement(k.g,null))};bc.defaultProps={oilTypes:[],pmsPrices:null,vehicleTypes:[]};var Ac=Object(A.b)()(bc),vc=o.clearPmsData,Nc=o.getOilTypes,yc=o.getPmsItem,Sc=o.getShopPmsData,Cc=o.getVehicleTypes,Oc=o.savePmsData,Pc=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentWillUnmount",{enumerable:!0,writable:!0,value:function(){(0,a.props.clearPmsData)()}}),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){var e=a._getMileage(),t=a.props,n=t.getOilTypes,r=t.getPmsItem,l=t.getShopPmsData,s=t.getVehicleTypes;r(e).catch((function(e){console.log(e)})),s().catch((function(e){console.log(e)})),n().catch((function(e){console.log(e)})),l(e).catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_getMileage",{enumerable:!0,writable:!0,value:function(){return a.props.match.params.mileage}}),Object.defineProperty(Object(T.a)(a),"_handleOilTypePrice",{enumerable:!0,writable:!0,value:function(e,t){var n=a.state.oilTypePrices;n[t]=e.target.value,a.setState({oilTypePrices:n})}}),Object.defineProperty(Object(T.a)(a),"_handleVehicleTypePrice",{enumerable:!0,writable:!0,value:function(e,t){var n=a.state.vehicleTypePrices;n[t]=e.target.value,a.setState({vehicleTypePrices:n})}}),Object.defineProperty(Object(T.a)(a),"_submit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=a.props,n=t.savePmsData,r=t.t,l=a.state,s=l.oilTypePrices,c=l.vehicleTypePrices,i=a._getMileage(),o=[],m=[];n(i,{labor_prices:c,oil_type_prices:s}).then((function(e){e&&(m.push({message:r("translation.successUpdatePmsService",{mileage:i})}),a.setState({successMessages:m}))})).catch((function(e){Array.isArray(e)?o=o.concat(e):o.push({message:r("translation.generalError")}),a.setState({errorMessages:o,attemptSubmit:!1})}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.oilTypes,n=e.pms,r=e.pmsPrices,l=e.t,s=e.vehicleTypes,c=a.state,i=c.errorMessages,o=c.successMessages,m=a._getMileage();return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{noGutters:!0,className:"page-header py-4"},E.a.createElement(Jn,{sm:"4",title:"".concat(De.format(m)," km"),subtitle:l("translation.subTtlPreventiveServices"),className:"text-sm-left"}),E.a.createElement(k.i,{sm:"4",className:"d-flex ml-auto my-auto"},E.a.createElement(Te.a,{to:"/services/preventive",className:"btn btn-white mx-auto mr-lg-3"},"\u2190 Go Back"),E.a.createElement(k.c,{theme:"success",className:"mr-sm-0",onClick:a._submit},E.a.createElement("i",{className:"material-icons"},"edit")," Save Changes"))),n?E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},E.a.createElement(Pa,{errorMessages:i,successMessages:o}),E.a.createElement(Ac,{events:{handleOilTypePrice:a._handleOilTypePrice,handleVehicleTypePrice:a._handleVehicleTypePrice},oilTypes:t,pmsPrices:r,vehicleTypes:s}),E.a.createElement(fc,{pms:n}))):null)}}),a.state={errorMessages:[],successMessages:[],oilTypePrices:{},vehicleTypePrices:{}},a}return Object(j.a)(t,e),t}(h.Component),xc=Object(A.b)()(Object(v.b)((function(e){return{oilTypes:e.servicesReducer.oilTypes,pms:e.servicesReducer.pms,pmsPrices:e.servicesReducer.pmsPrices,vehicleTypes:e.servicesReducer.vehicleTypes}}),{clearPmsData:vc,getOilTypes:Nc,getPmsItem:yc,getShopPmsData:Sc,getVehicleTypes:Cc,savePmsData:Oc})(Pc)),wc="estimate-wizard/GET_CAR_MAKES",_c="estimate-wizard/GET_CAR_YEARS",Tc="estimate-wizard/GET_CAR_MODELS",jc="estimate-wizard/GET_CAR_TRIMS",Mc=function(){return function(e){return new Promise((function(t,a){xe.get("/list/car-makes").then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:wc,data:{makes:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}},kc=function(e){return function(t){return new Promise((function(a,n){xe.get("/list/car-models",{params:{make_id:e}}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:Tc,data:{models:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}},Ic=function(e,t){return function(a){return new Promise((function(n,r){xe.get("/list/car-trims",{params:{model_id:e,year:t}}).then((function(e){var t=e.data,l=t.error,s=t.success,c=t.data;s?(a({type:jc,data:{trims:c}}),n(c)):r(l)})).catch((function(e){r(e)}))}))}},Dc=function(e){return function(t){return new Promise((function(a,n){xe.get("/list/car-years",{params:{model_id:e}}).then((function(e){var r=e.data,l=r.error,s=r.success,c=r.data;s?(t({type:_c,data:{years:c}}),a(c)):n(l)})).catch((function(e){n(e)}))}))}},Rc={makes:[],models:[],trims:[],years:[]},Bc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc:var a=t.data.makes,n=a.map((function(e){return{value:e.id,label:e.name}}));return Object(we.a)({},e,{makes:n});case Tc:var r=t.data.models,l=r.map((function(e){return{value:e.id,label:e.name}}));return Object(we.a)({},e,{models:l});case jc:var s=t.data.trims,c=s.map((function(e){return{value:e.id,label:e.name}}));return Object(we.a)({},e,{trims:c});case _c:var i=t.data.years,o=i.map((function(e){return{value:e,label:e}}));return Object(we.a)({},e,{years:o});default:return e}},Fc=a(57),Lc=function(e){var t=e.current,a=e.data,n=e.errorMessages,r=e.events,l=e.maxPages,s=e.open,c=e.toggle,i=e.validated,o=Object(h.useState)(!1),m=Object(R.a)(o,2),u=m[0],d=m[1];return E.a.createElement(k.D,{centered:!0,fade:!0,open:s,role:"dialog",size:"lg",toggle:c},E.a.createElement(k.G,{closeAriaLabel:"Close",toggle:c},"Let's create your car"),E.a.createElement(k.E,{className:"pt-3",style:{height:400,overflow:"auto"}},E.a.createElement("div",{className:"progress-wrapper mb-3"},E.a.createElement("div",{className:"progress-label"},"Completion Progress"),E.a.createElement(k.M,{className:"progress-sm",max:l,striped:!0,value:t+1},E.a.createElement("span",{className:"progress-value"},"".concat(t+1," / ").concat(l))),E.a.createElement("div",{className:"mt-3"},E.a.createElement(Pa,{errorMessages:n,infoMessages:[{message:"You must provide your information as accurately as possible."}]}))),0===t?E.a.createElement("div",{className:"text-center"},E.a.createElement("h5",null,"Specify your car's location ",E.a.createElement("span",{className:"text-danger"},"*")),E.a.createElement("small",null,"We will use this information to enhance your experience"),E.a.createElement(k.N,{className:"mt-3"},E.a.createElement(k.i,{lg:"9",className:"mx-auto mb-3"},E.a.createElement(xs.a,{params:{key:X,libraries:"places,geocode"},render:function(e){return e&&E.a.createElement(Ms.a,{autocompletionRequest:{input:a.txtSearch||""},googleMaps:e,onSelectSuggest:r.handleSelectSuggest},E.a.createElement(k.y,{seamless:!0},E.a.createElement(k.z,{type:"prepend"},E.a.createElement(k.A,null,E.a.createElement("i",{className:"material-icons"},"place"))),E.a.createElement(k.u,{id:"txtLocation",placeholder:"Search location",value:a.txtLocation||"",onChange:r.handleSearch})))}}))),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"9",className:"mx-auto"},E.a.createElement(xs.a,{params:{key:X,libraries:"places,geocode"},render:function(e){return e&&a.latitude&&a.longitude&&E.a.createElement("div",{style:{height:"40vh",width:"100%"}},E.a.createElement(Ps.a,{autoFitBounds:!0,googleMaps:e,zoom:16,coordinates:[{position:{lat:a.latitude,lng:a.longitude}}]}))}})))):1===t?E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"mb-0"},"Choose car details"," ",E.a.createElement("a",{target:"__blank",href:"https://bit.ly/AutoservedAddCar"},E.a.createElement("i",{id:"showHelp",className:"material-icons"},"help"))),E.a.createElement(k.P,{target:"#showHelp",open:u,toggle:function(){d(!u)}},"Can't find your car details? Click this."),E.a.createElement("small",null,"Provide at least the ",E.a.createElement("strong",null,"car make")," and"," ",E.a.createElement("strong",null,"car model"),". If you can't find your car details, please proceed"," ",E.a.createElement("a",{target:"__blank",href:"https://bit.ly/AutoservedAddCar"},"here"),".")),E.a.createElement(k.f,null,E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"3"},E.a.createElement(k.c,{theme:"secondary",active:a.carMakeIsActive,outline:!0,block:!0,onClick:r.openCarMake},a.selectedCarMake?a.selectedCarMake.label:"Make"," ",E.a.createElement("span",{className:"text-danger"},"*"))),a.selectedCarMake?E.a.createElement(k.i,{lg:"3"},E.a.createElement(k.c,{theme:"secondary",active:a.carModelIsActive,outline:!0,block:!0,onClick:r.openCarModel},a.selectedCarModel?a.selectedCarModel.label:"Model"," ",E.a.createElement("span",{className:"text-danger"},"*"))):null,a.selectedCarModel?E.a.createElement(k.i,{lg:"3"},E.a.createElement(k.c,{theme:"secondary",active:a.carYearIsActive,outline:!0,block:!0,onClick:r.openCarYear},a.selectedCarYear?a.selectedCarYear.label:"Year")):null,a.selectedCarYear?E.a.createElement(k.i,{lg:"3"},E.a.createElement(k.c,{theme:"secondary",active:a.carTrimIsActive,outline:!0,block:!0,onClick:r.openCarTrim},a.selectedCarTrim?a.selectedCarTrim.label:"Trim")):null),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},a.carMakeIsActive?E.a.createElement(k.e,{small:!0,className:"mt-3"},E.a.createElement(k.f,null,E.a.createElement(Fc.a,{options:a.makes,onChange:r.handleSelectCarMake}))):a.carModelIsActive?E.a.createElement(k.e,{small:!0,className:"mt-3"},E.a.createElement(k.f,null,E.a.createElement(Fc.a,{options:a.models,onChange:r.handleSelectCarModel}))):a.carYearIsActive?E.a.createElement(k.e,{small:!0,className:"mt-3"},E.a.createElement(k.f,null,E.a.createElement(Fc.a,{options:a.years,onChange:r.handleSelectCarYear}))):a.carTrimIsActive?E.a.createElement(k.e,{small:!0,className:"mt-3"},E.a.createElement(k.f,null,E.a.createElement(Fc.a,{options:a.trims,onChange:r.handleSelectCarTrim}))):null)))))):2===t?E.a.createElement("div",{className:"text-center"},E.a.createElement("h5",null,"Additional Car Details"),E.a.createElement(k.N,{className:"mt-3"},E.a.createElement(k.i,{lg:"9",className:"mx-auto mb-3"},E.a.createElement(k.B,{flush:!0},E.a.createElement(k.C,null,E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"6"},E.a.createElement("small",null,"Plate Number ",E.a.createElement("span",{className:"text-danger"},"*"))),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.u,{id:"txtPlateNumber",placeholder:"Enter plate number",onChange:r.handlePlateNumber,value:a.plateNumber||""}))),E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"6"},E.a.createElement("small",null,"Vehicle Type ",E.a.createElement("span",{className:"text-danger"},"*"))),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.w,{id:"selVehicleType",className:"text-capitalize",onChange:r.handleVehicleType,value:a.selectedVehicleType||""},a.selectedVehicleType?null:E.a.createElement("option",{value:""},"Select Vehicle Type"),a.vehicleTypes.map((function(e,t){return E.a.createElement("option",{key:t,value:e},e)}))))),E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"6"},E.a.createElement("small",null,"Engine Type ",E.a.createElement("span",{className:"text-danger"},"*"))),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.w,{id:"selEngineType",className:"text-capitalize",onChange:r.handleEngineType,value:a.selectedEngineType||""},a.selectedEngineType?null:E.a.createElement("option",{value:""},"Select Engine Type"),a.engineTypes.map((function(e,t){return E.a.createElement("option",{key:t,value:e},e)}))))),E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"6"},E.a.createElement("small",null,"Transmission Type"," ",E.a.createElement("span",{className:"text-danger"},"*"))),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.w,{id:"selTransmissionType",className:"text-capitalize",onChange:r.handleTransmissionType,value:a.selectedTransmissionType||""},a.selectedTransmissionType?null:E.a.createElement("option",{value:""},"Select Transmission Type"),a.transmissionTypes.map((function(e,t){return E.a.createElement("option",{key:t,value:e},e)})))))))))):3===t?E.a.createElement("div",{className:"text-center"},E.a.createElement("h5",null,"Service Details"),E.a.createElement(k.N,{className:"mt-3"},E.a.createElement(k.i,{lg:"9",className:"mx-auto mb-3"},E.a.createElement(k.B,{flush:!0},E.a.createElement(k.C,null,E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"6"},E.a.createElement("small",null,"Current Mileage ",E.a.createElement("span",{className:"text-danger"},"*"))),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.u,{id:"txtCurrentMileage",placeholder:"Enter current mileage",type:"number",onChange:r.handleMileage,value:a.mileage||""}))),E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"6"},E.a.createElement("small",null,"Date Purchased ",E.a.createElement("span",{className:"text-danger"},"*"))),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.l,{onChange:r.handleDatePurchased,placeholderText:"Select date",value:a.datePurchased,selected:a.datePurchased}))),E.a.createElement(k.N,{className:"mb-1"},E.a.createElement(k.i,{lg:"6"},E.a.createElement("small",null,"Last Service Date")),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.l,{onChange:r.handleLastServiced,placeholderText:"Select date",value:a.lastServiced,selected:a.lastServiced})))))))):null),E.a.createElement(k.F,{className:"d-block"},E.a.createElement(k.N,null,E.a.createElement(k.i,{className:"text-align-left",lg:"6"},E.a.createElement(k.d,null,E.a.createElement(k.c,{disabled:0===t,theme:"primary",onClick:r.previous},"\xab Previous"),E.a.createElement(k.c,{disabled:t===l-1,theme:"primary",onClick:r.next},"Next \xbb"))),E.a.createElement(k.i,{className:"d-flex justify-content-end",lg:"6"},E.a.createElement(k.d,null,E.a.createElement(k.c,{disabled:!i,theme:"success",onClick:r.submit},E.a.createElement("div",null,E.a.createElement("span",{className:"text-white"},E.a.createElement("i",{className:"material-icons"},"add"))," ","Create Car Profile")),E.a.createElement(k.c,{onClick:c,theme:"white"},E.a.createElement("span",null,E.a.createElement("i",{className:"material-icons"},"close"))," ","Cancel"))))))};Lc.defaultProps={current:0,data:{},errorMessages:[],events:{},maxPages:4,open:!1,validated:!1};var qc=Object(A.b)()(Lc),zc=Object(A.b)()((function(e){var t=e.t,a=e.toggleModal;return E.a.createElement(k.e,{className:"mb-4"},E.a.createElement(k.f,{className:"text-center"},E.a.createElement("img",{src:ae,alt:"Garage Icon",style:{height:75},className:"mb-3"}),E.a.createElement("h4",null,E.a.createElement("strong",null,t("translation.txtCarProfileCaption"))),E.a.createElement("h6",null,t("translation.txtCarProfileNoCars")),E.a.createElement(k.c,{className:"mt-3 mb-2",pill:!0,onClick:a},t("translation.btnCreateNewCar"))))})),Qc=function(e){for(var t=e.repeat,a=[];t>0;)a.push(E.a.createElement("tr",{key:t},E.a.createElement("td",{className:"lo-stats__image"},E.a.createElement(Mn.RoundShape,{color:ke,style:{width:50,height:50}})),E.a.createElement("td",{className:"lo-stats__order-details"},E.a.createElement(Mn.TextBlock,{color:ke,rows:4,style:{width:200}})),E.a.createElement("td",{className:"lo-stats__status"},E.a.createElement("div",{className:"d-table mx-auto"},E.a.createElement(k.b,{theme:"secondary",outline:!0,className:"text-uppercase"},"-"))),E.a.createElement("td",{className:"lo-stats__total text-center text-capitalize"},E.a.createElement(Mn.TextBlock,{color:ke,rows:1})),E.a.createElement("td",{className:"lo-stats__total text-center text-capitalize"}))),t--;return a},Vc=function(e){var t=e.cars,a=e.events,n=e.isFetching,r=e.t,l=Object(h.useState)([]),s=Object(R.a)(l,2),c=s[0],i=s[1];return n||t.length?E.a.createElement(k.e,{small:!0,className:"carlist-container mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},"List of Cars")),E.a.createElement(k.f,{className:"p-0"},E.a.createElement(k.k,{fluid:!0,className:"px-0"},E.a.createElement("div",{className:"datatable datatable--plain"},E.a.createElement("table",{className:"table lo-stats mb-0"},E.a.createElement("thead",{className:"py-1 bg-light text-semibold border-bottom"},E.a.createElement("tr",null,E.a.createElement("th",{colSpan:2},E.a.createElement("small",null,"Car Details")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Plate Number")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,r("common.tblColType"))),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,r("common.tblColActions"))))),E.a.createElement("tbody",null,E.a.createElement(jn.a,{ready:!n,showLoadingAnimation:!0,customPlaceholder:E.a.createElement(Qc,{repeat:3})},t.map((function(e,t){return c[t]={schedule:!!c[t]&&c[t].schedule,manage:!!c[t]&&c[t].manage,delete:!!c[t]&&c[t].delete},E.a.createElement("tr",{key:t},E.a.createElement("td",{className:"lo-stats__image"},E.a.createElement("img",{alt:"".concat(e.car_year," - ").concat(e.car_make.name||""),className:"rounded",src:J})),E.a.createElement("td",{className:"lo-stats__order-details","data-table-label":"Car Details"},E.a.createElement("h6",{className:"mb-0 font-weight-bold"},e.car_year?"".concat(e.car_year," - "):null,e.car_make.name||""),E.a.createElement(Te.a,{to:"/car/".concat(e.id,"/schedule")},e.car_model.name||""," ",e.car_trim?e.car_trim.name:""),E.a.createElement("p",{className:"mb-0"},E.a.createElement("small",{title:e.last_serviced?L()(e.last_serviced).format("MMMM Do, YYYY"):"-"},"Last Serviced:"," ",e.last_serviced?L()(e.last_serviced).fromNow():"-")),E.a.createElement("p",{className:"mb-0"},E.a.createElement("small",null,"Last Updated: ",L()(e.updated_at).fromNow()))),E.a.createElement("td",{className:"lo-stats__total text-center","data-table-label":"Plate Number"},E.a.createElement(k.b,{theme:"secondary",outline:!0,className:"text-uppercase"},e.plate_number||"-")),E.a.createElement("td",{className:"lo-stats__total text-center text-capitalize","data-table-label":"Car Type"},e.type||"-"),E.a.createElement("td",{className:"lo-stats__total text-center text-capitalize","data-table-label":"Actions"},E.a.createElement(Te.a,{id:"btnManagePMSSchedule-".concat(t),className:"btn btn-info btn-sm text-white mx-2",title:"Edit Shop Details",to:"/car/".concat(e.id,"/schedule")},E.a.createElement("i",{className:"material-icons"},"schedule")),E.a.createElement(k.P,{target:"#btnManagePMSSchedule-".concat(t),open:c[t].schedule,toggle:function(){var e=Object(ls.a)(c);e[t].schedule=!e[t].schedule,i(e)}},"View PMS Schedules"),E.a.createElement(k.c,{id:"btnManageCarProfile-".concat(t),className:"mx-2 text-white",size:"sm",theme:"warning",title:"Edit Car Profile",onClick:function(){return a.toggleModalEdit(e)}},E.a.createElement("i",{className:"material-icons"},"edit")),E.a.createElement(k.P,{target:"#btnManageCarProfile-".concat(t),open:c[t].manage,toggle:function(){var e=Object(ls.a)(c);e[t].manage=!e[t].manage,i(e)}},"Manage Car Profile"),E.a.createElement(k.c,{id:"btnDeleteCarProfile-".concat(t),className:"mx-2",size:"sm",theme:"danger",title:"Delete Car Profile",onClick:function(){return a.toggleModalDeletion(e)}},E.a.createElement("i",{className:"material-icons"},"delete")),E.a.createElement(k.P,{target:"#btnDeleteCarProfile-".concat(t),open:c[t].delete,toggle:function(){var e=Object(ls.a)(c);e[t].delete=!e[t].delete,i(e)}},"Delete Car")))})))))))),E.a.createElement(k.g,{className:"border-top"})):E.a.createElement(zc,{toggleModal:a.toggleModalCreation})};Vc.defaultProps={cars:[],events:{}};var Uc=Object(A.b)()(Vc),Hc=function(e){var t=e.data,a=e.errorMessages,n=e.events,r=e.open,l=e.t,s=e.toggle;return E.a.createElement(k.D,{centered:!0,fade:!0,open:r,role:"dialog",size:"md",toggle:s},E.a.createElement(k.G,{closeAriaLabel:"Close",toggle:s},"Delete Car Profile"),E.a.createElement(k.E,null,a.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"danger",className:"outline-danger rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},E.a.createElement("h4",{className:"text-danger mb-4 text-center"},E.a.createElement("strong",null,l("translation.txtCarDeletionConfirmation"))),E.a.createElement("h6",null,l("translation.txtCarDeletionAgreement")),E.a.createElement("fieldset",null,E.a.createElement(k.r,{checked:t.agreeDelete,id:"chkAgreeDelete",onChange:n.handleAgreeDelete},l("translation.txtCarDeletionAgreementRequests")),E.a.createElement(k.r,{checked:t.agreeNoRetrieve,id:"chkNoRetrieve",onChange:n.handleNoRetrieve},l("translation.txtCarDeletionAgreementData")))))),E.a.createElement(k.F,null,E.a.createElement("div",{className:"my-2 mx-auto"},E.a.createElement(k.d,null,E.a.createElement(k.c,{theme:"danger",disabled:!t.agreeDelete||!t.agreeNoRetrieve,onClick:n.delete},E.a.createElement("span",{className:"text-white"},E.a.createElement("i",{className:"material-icons"},"delete")),l("translation.btnDeleteCarProfile")),E.a.createElement(k.c,{theme:"white",onClick:function(){return s(t.car)}},E.a.createElement("span",null,E.a.createElement("i",{className:"material-icons"},"close")),l("translation.btnCancel"))))))};Hc.defaultProps={data:{},errorMessages:[],events:{},open:!1};var Yc=Object(A.b)()(Hc),Gc=function(e){var t=e.attemptSubmit,a=e.data,n=e.events,r=e.errors,l=e.open,s=e.t,c=e.toggle,i=a.car,o=a.transmissionTypes,m=a.engineTypes,u=a.selectedEngineType,d=a.selectedTransmissionType,p=a.color,h=a.plateNumber,g=a.validatedPlateNumber,f=n.handleEngineType,b=n.handleTransmissionType,A=n.handleColor,v=n.handlePlateNumber,N=n.submit;return E.a.createElement(k.D,{open:l,fade:!0,centered:!0,role:"dialog"},E.a.createElement(k.G,{closeAriaLabel:"Close",toggle:c},"Edit Car Profile"),E.a.createElement(k.E,null,E.a.createElement("h6",{className:"font-weight-bold"},i?i.car_make.name:null," - ",i?i.car_model.name:null),r.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"danger",className:"outline-danger rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})),E.a.createElement(k.q,null,E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{md:"12",className:"form-group"},E.a.createElement(k.w,{className:"text-capitalize",onChange:f,value:u||""},u?null:E.a.createElement("option",{value:""},"Select Engine Type"),m.map((function(e,t){return E.a.createElement("option",{key:t,value:e},e)}))))),E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{md:"12",className:"form-group"},E.a.createElement(k.w,{id:"selTransmissionType",className:"text-capitalize",onChange:b,value:d||""},d?null:E.a.createElement("option",{value:""},"Select Transmission Type"),o.map((function(e,t){return E.a.createElement("option",{key:t,value:e},e)}))))),E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{md:"12",className:"form-group"},E.a.createElement(k.u,{type:"text",placeholder:"Enter the color of your car",onChange:A,value:p||""}))),E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{md:"12",className:"form-group"},E.a.createElement(k.u,{type:"text",placeholder:"Enter plate number",onChange:v,value:h||""}))))),E.a.createElement(k.F,null,E.a.createElement("div",{className:"my-2 ml-auto"},E.a.createElement(k.d,null,E.a.createElement(k.c,{theme:"success",onClick:N,disabled:t||!g},t?E.a.createElement("div",null,E.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),E.a.createElement("span",{className:"sr-only"},s("common.lblLoading"))):E.a.createElement("div",null,E.a.createElement("span",{className:"text-white"},E.a.createElement("i",{className:"material-icons"},"save"))," ","Edit Car Profile")),E.a.createElement(k.c,{onClick:function(){return c(i)},theme:"white"},E.a.createElement("span",null,E.a.createElement("i",{className:"material-icons"},"close")),s("translation.btnCancel"))))))};Gc.defaultProps={errors:[],open:!1};var Wc=Object(A.b)()(Gc),Xc=c.createCarProfile,Kc=c.createCarSchedules,Jc=c.deleteCarProfile,Zc=c.editCarProfile,$c=c.getCars,ei=c.getEngineTypes,ti=c.getTransmissionTypes,ai=c.getVehicleTypes,ni=d.getCarMakes,ri=d.getCarModels,li=d.getCarYears,si=d.getCarTrims,ci=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.getCarMakes,n=e.getEngineTypes,r=e.getTransmissionTypes,l=e.getVehicleTypes;a._getCars(),t().catch((function(e){console.log(e)})),n().catch((function(e){console.log(e)})),r().catch((function(e){console.log(e)})),l().catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_delete",{enumerable:!0,writable:!0,value:function(e){var t=[],n=[],r=a.props,l=r.deleteCarProfile,s=r.t;l(e.id).then((function(){n.push({message:"Car profile has been deleted!"}),a.setState({successMessages:n},(function(){a._toggleModalDeletion(),a._getCars()}))})).catch((function(e){Array.isArray(e)?t=t.concat(e):t.push({message:s("translation.generalError")}),a.setState({errorMessages:t})}))}}),Object.defineProperty(Object(T.a)(a),"_getCars",{enumerable:!0,writable:!0,value:function(){(0,a.props.getCars)().then((function(){a.setState({isFetchingCars:!1})})).catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_handleAgreeDelete",{enumerable:!0,writable:!0,value:function(){var e=a.state.agreeDelete;a.setState({agreeDelete:!e})}}),Object.defineProperty(Object(T.a)(a),"_handleDatePurchased",{enumerable:!0,writable:!0,value:function(e){var t=new Date(e);a.setState({datePurchased:t,validatedDatePurchased:!0})}}),Object.defineProperty(Object(T.a)(a),"_handleEngineType",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;a.setState({selectedEngineType:t,validatedEngineType:!0})}}),Object.defineProperty(Object(T.a)(a),"_handleLastServiced",{enumerable:!0,writable:!0,value:function(e){var t=new Date(e);a.setState({lastServiced:t})}}),Object.defineProperty(Object(T.a)(a),"_handleMileage",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value,n=null!==t&&t.length>0;a.setState({mileage:t,validatedMileage:n})}}),Object.defineProperty(Object(T.a)(a),"_handleNoRetrieve",{enumerable:!0,writable:!0,value:function(){var e=a.state.agreeNoRetrieve;a.setState({agreeNoRetrieve:!e})}}),Object.defineProperty(Object(T.a)(a),"_handleColor",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;a.setState({color:t})}}),Object.defineProperty(Object(T.a)(a),"_handlePlateNumber",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value,n=null!==t&&t.length;a.setState({plateNumber:t,validatedPlateNumber:n})}}),Object.defineProperty(Object(T.a)(a),"_handleSearch",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;a.setState({txtSearch:t,txtLocation:t})}}),Object.defineProperty(Object(T.a)(a),"_handleSelectCarMake",{enumerable:!0,writable:!0,value:function(e){var t=a.props.getCarModels,n=null!==e;a.setState({carMakeIsActive:!1,carModelIsActive:!0,selectedCarMake:e,selectedCarModel:null,selectedCarYear:null,selectedCarTrim:null,validatedCarMake:n}),t(e.value).catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_handleSelectCarModel",{enumerable:!0,writable:!0,value:function(e){var t=a.props.getCarYears,n=null!==e;a.setState({carModelIsActive:!1,carYearIsActive:!0,selectedCarModel:e,selectedCarYear:null,selectedCarTrim:null,validatedCarModel:n}),t(e.value).catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_handleSelectCarYear",{enumerable:!0,writable:!0,value:function(e){var t=a.props.getCarTrims,n=a.state.selectedCarModel;a.setState({carYearIsActive:!1,carTrimIsActive:!0,selectedCarYear:e,selectedCarTrim:null}),t(n.value,e.value).catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_handleSelectCarTrim",{enumerable:!0,writable:!0,value:function(e){a.setState({carTrimIsActive:!1,selectedCarTrim:e})}}),Object.defineProperty(Object(T.a)(a),"_handleSelectSuggest",{enumerable:!0,writable:!0,value:function(e){var t=e.formatted_address,n=e.geometry,r=n.location.lat(),l=n.location.lng(),s=r&&l;a.setState({txtSearch:"",txtLocation:t,latitude:r,longitude:l,validatedLocation:s})}}),Object.defineProperty(Object(T.a)(a),"_handleTransmissionType",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;a.setState({selectedTransmissionType:t,validatedTransmissionType:!0})}}),Object.defineProperty(Object(T.a)(a),"_handleVehicleType",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value;a.setState({selectedVehicleType:t,validatedVehicleType:!0})}}),Object.defineProperty(Object(T.a)(a),"_next",{enumerable:!0,writable:!0,value:function(){var e=a.state.menuIndex;a.setState({menuIndex:e+1})}}),Object.defineProperty(Object(T.a)(a),"_openCarMake",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=a.state.carMakeIsActive;a.setState({carMakeIsActive:!t,carModelIsActive:!1,carYearIsActive:!1,carTrimIsActive:!1})}}),Object.defineProperty(Object(T.a)(a),"_openCarModel",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=a.state.carModelIsActive;a.setState({carMakeIsActive:!1,carModelIsActive:!t,carYearIsActive:!1,carTrimIsActive:!1})}}),Object.defineProperty(Object(T.a)(a),"_openCarYear",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=a.state.carYearIsActive;a.setState({carMakeIsActive:!1,carModelIsActive:!1,carYearIsActive:!t,carTrimIsActive:!1})}}),Object.defineProperty(Object(T.a)(a),"_openCarTrim",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=a.state.carTrimIsActive;a.setState({carMakeIsActive:!1,carModelIsActive:!1,carYearIsActive:!1,carTrimIsActive:!t})}}),Object.defineProperty(Object(T.a)(a),"_previous",{enumerable:!0,writable:!0,value:function(){var e=a.state.menuIndex;a.setState({menuIndex:e-1})}}),Object.defineProperty(Object(T.a)(a),"_submit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=[],n=[],r=a.props,l=r.createCarProfile,s=r.createCarSchedules,c=r.t,i=a.state,o=i.datePurchased,m=i.lastServiced,u=i.latitude,d=i.longitude,p=i.mileage,h=i.plateNumber,E=i.selectedCarMake,g=i.selectedCarModel,f=i.selectedCarYear,b=i.selectedCarTrim,A=i.selectedEngineType,v=i.selectedTransmissionType;l({type:i.selectedVehicleType,make_id:E.value,model_id:g.value,car_year:f?f.value:null,trim_id:b?b.value:null,engine_type:A,transmission:v,plate_number:h,current_mileage:p,longitude:d.toString(),latitude:u.toString(),date_purchased:o,last_serviced:m}).then((function(e){s(e.id).then((function(){a._getCars(),n.push({message:"Car profile and PMS schedule has been created."}),a.setState({mdlCreation:!1,successMessages:n})})).catch((function(e){Array.isArray(e)?t=t.concat(e):t.push({message:c("translation.generalError")}),a.setState({errorMessages:t})}))})).catch((function(e){Array.isArray(e)?t=t.concat(e):e.response?e.response.data.errors.plate_number.map((function(e){return t.push({message:e})})):t.push({message:c("translation.generalError")}),a.setState({errorMessages:t})}))}}),Object.defineProperty(Object(T.a)(a),"_submitEdit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=[],n=[],r=a.props,l=r.editCarProfile,s=r.t,c=a.state,i=c.color,o=c.plateNumber,m={color:i,engine_type:c.selectedEngineType,transmission:c.selectedTransmissionType,plate_number:o};l(c.selectedCar.id,m).then((function(){n.push({message:"Car profile has been edited."}),a.setState({mdlEdit:!1,successMessages:n})})).catch((function(e){Array.isArray(e)?t=t.concat(e):t.push({message:s("translation.generalError")}),a.setState({errorMessages:t})}))}}),Object.defineProperty(Object(T.a)(a),"_toggleModalCreation",{enumerable:!0,writable:!0,value:function(){var e=a.state.mdlCreation;a.setState({datePurchased:null,lastServiced:null,latitude:null,longitude:null,mdlCreation:!e,menuIndex:0,mileage:null,plateNumber:null,selectedCarMake:null,selectedCarYear:null,selectedCarModel:null,selectedCarTrim:null,selectedEngineType:null,selectedTransmissionType:null,selectedVehicleType:null,txtLocation:null,txtSearch:null})}}),Object.defineProperty(Object(T.a)(a),"_toggleModalDeletion",{enumerable:!0,writable:!0,value:function(e){var t=a.state.mdlDeletion;a.setState({agreeDelete:!1,agreeNoRetrieve:!1,mdlDeletion:!t,selectedCar:e})}}),Object.defineProperty(Object(T.a)(a),"_toggleModalEdit",{enumerable:!0,writable:!0,value:function(e){var t=a.state.mdlEdit;a.setState({mdlEdit:!t,selectedCar:e,color:e.color,plateNumber:e.plate_number,selectedTransmissionType:e.transmission,selectedEngineType:e.engine_type,validatedPlateNumber:!0})}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.cars,n=e.engineTypes,r=e.makes,l=e.models,s=e.t,c=e.transmissionTypes,i=e.trims,o=e.vehicleTypes,m=e.years,u=a.state,d=u.agreeDelete,p=u.agreeNoRetrieve,h=u.carMakeIsActive,g=u.carModelIsActive,f=u.carYearIsActive,b=u.carTrimIsActive,A=u.color,v=u.datePurchased,N=u.errorMessages,y=u.successMessages,S=u.isFetchingCars,C=u.lastServiced,O=u.latitude,P=u.longitude,x=u.mdlCreation,w=u.mdlDeletion,_=u.mdlEdit,T=u.menuIndex,j=u.mileage,M=u.plateNumber,I=u.selectedCar,D=u.selectedCarMake,R=u.selectedCarYear,B=u.selectedCarModel,F=u.selectedCarTrim,L=u.selectedEngineType,q=u.selectedTransmissionType,z=u.selectedVehicleType,Q=u.txtLocation,V=u.txtSearch,U=u.validatedCarMake,H=u.validatedCarModel,Y=u.validatedDatePurchased,G=u.validatedEngineType,W=u.validatedLocation,X=u.validatedMileage,K=u.validatedPlateNumber,J=u.validatedTransmissionType,Z=u.validatedVehicleType;return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{noGutters:!0,className:"page-header py-4"},E.a.createElement(Jn,{sm:"4",title:s("translation.ttlCarProfile"),subtitle:s("translation.subTtlCarProfile"),className:"page-header__text text-sm-left"}),E.a.createElement(k.i,{sm:"4",className:"page-header__actions d-flex ml-auto my-auto"},E.a.createElement(k.c,{onClick:a._toggleModalCreation,className:"mx-auto ml-sm-auto mr-sm-0"},E.a.createElement("i",{className:"material-icons"},"add"),s("translation.btnCreateNewCar")))),E.a.createElement(k.N,{className:"page-body"},E.a.createElement(k.i,{lg:"12"},E.a.createElement(Pa,{successMessages:y}),E.a.createElement(Uc,{cars:t,events:{toggleModalCreation:a._toggleModalCreation,toggleModalDeletion:a._toggleModalDeletion,toggleModalEdit:a._toggleModalEdit},isFetching:S}))),I?E.a.createElement(Wc,{open:_,data:{car:I,transmissionTypes:c,engineTypes:n,color:A,plateNumber:M,selectedTransmissionType:q,selectedEngineType:L,validatedPlateNumber:K},events:{handleEngineType:a._handleEngineType,handleTransmissionType:a._handleTransmissionType,handlePlateNumber:a._handlePlateNumber,handleColor:a._handleColor,submit:a._submitEdit},toggle:a._toggleModalEdit}):null,E.a.createElement(qc,{current:T,data:{carMakeIsActive:h,carYearIsActive:f,carModelIsActive:g,carTrimIsActive:b,datePurchased:v,engineTypes:n,lastServiced:C,latitude:O,longitude:P,makes:r,models:l,mileage:j,plateNumber:M,selectedCarMake:D,selectedCarYear:R,selectedCarModel:B,selectedCarTrim:F,selectedEngineType:L,selectedTransmissionType:q,selectedVehicleType:z,transmissionTypes:c,trims:i,txtLocation:Q,txtSearch:V,vehicleTypes:o,years:m},events:{handleDatePurchased:a._handleDatePurchased,handleEngineType:a._handleEngineType,handleLastServiced:a._handleLastServiced,handleMileage:a._handleMileage,handlePlateNumber:a._handlePlateNumber,handleSearch:a._handleSearch,handleSelectSuggest:a._handleSelectSuggest,handleSelectCarMake:a._handleSelectCarMake,handleSelectCarModel:a._handleSelectCarModel,handleSelectCarYear:a._handleSelectCarYear,handleSelectCarTrim:a._handleSelectCarTrim,handleTransmissionType:a._handleTransmissionType,handleVehicleType:a._handleVehicleType,next:a._next,openCarMake:a._openCarMake,openCarModel:a._openCarModel,openCarYear:a._openCarYear,openCarTrim:a._openCarTrim,previous:a._previous,submit:a._submit},errorMessages:N,open:x,toggle:a._toggleModalCreation,validated:U&&H&&Y&&G&&W&&X&&K&&J&&Z}),E.a.createElement(Yc,{data:{car:I,agreeDelete:d,agreeNoRetrieve:p},events:{delete:function(){return a._delete(I)},handleAgreeDelete:a._handleAgreeDelete,handleNoRetrieve:a._handleNoRetrieve,openCarMake:a._openCarMake,openCarModel:a._openCarModel,openCarYear:a._openCarYear,openCarTrim:a._openCarTrim},open:w,toggle:a._toggleModalDeletion}))}}),a.state={errorMessages:[],successMessages:[],agreeDelete:!1,agreeNoRetrieve:!1,carMakeIsActive:!1,carYearIsActive:!1,carModelIsActive:!1,carTrimIsActive:!1,color:null,datePurchased:null,isFetchingCars:!0,lastServiced:null,latitude:null,longitude:null,mdlDeletion:!1,mdlCreation:!1,mdlEdit:!1,menuIndex:0,mileage:null,plateNumber:null,selectedCar:null,selectedCarMake:null,selectedCarYear:null,selectedCarModel:null,selectedCarTrim:null,selectedEngineType:null,selectedTransmissionType:null,selectedVehicleType:null,txtLocation:null,txtSearch:null,validatedCarMake:!1,validatedCarModel:!1,validatedDatePurchased:!1,validatedEngineType:!1,validatedLocation:!1,validatedMileage:!1,validatedPlateNumber:!1,validatedTransmissionType:!1,validatedVehicleType:!1},a}return Object(j.a)(t,e),t}(h.Component),ii=Object(A.b)()(Object(v.b)((function(e){return{cars:e.carProfilesReducer.cars,engineTypes:e.carProfilesReducer.engineTypes,makes:e.estimateWizardReducer.makes,models:e.estimateWizardReducer.models,transmissionTypes:e.carProfilesReducer.transmissionTypes,trims:e.estimateWizardReducer.trims,vehicleTypes:e.carProfilesReducer.vehicleTypes,years:e.estimateWizardReducer.years}}),{createCarProfile:Xc,createCarSchedules:Kc,deleteCarProfile:Jc,editCarProfile:Zc,getCars:$c,getCarMakes:ni,getCarModels:ri,getCarYears:li,getCarTrims:si,getEngineTypes:ei,getTransmissionTypes:ti,getVehicleTypes:ai})(ci));function oi(e){var t=e.toolbarActions,a=e.grid,n=void 0===a?{sm:4}:a;return E.a.createElement(k.N,{noGutters:!0,className:"row__main-title page-header py-4"},E.a.createElement(Jn,Object.assign({},n,{title:"Let's create your car!",subtitle:"New Car",className:"text-sm-left"})),t&&E.a.createElement(k.i,{sm:"4",className:"d-flex ml-auto my-auto"},t()))}function mi(e){var t=e.currentIndex,a=e.doneIndex,n=e.max,r=e.className;return E.a.createElement("div",{className:"".concat(r," progress-wrapper progress-tracker")},E.a.createElement("div",{className:"progress-tracker__header"},E.a.createElement("h1",{className:"title"},"Completion Progress"),E.a.createElement("span",{className:"label"},e.progressLabel)),E.a.createElement("div",{className:"progress-tracker__bars"},E.a.createElement(k.M,{className:"progress-sm progress-tracker__bars__current",value:t,max:n}),null!==a&&E.a.createElement(k.M,{className:"progress-sm progress-tracker__bars__done",value:a,max:n})))}function ui(e){var t=e.max,a=e.currentIndex,n=e.doneIndex,r=e.isStrict,l=e.isReversable,s=e.onHandleNext,c=e.onHandlePrev,i=e.classPrefix,o=a<=0||!l,m=a===t||a>n;return E.a.createElement(k.d,{className:"".concat(i,"__btnNavigation")},E.a.createElement(k.c,{disabled:o,theme:"primary",onClick:function(){return c({isReversable:l})}},"\xab Previous"),E.a.createElement(k.c,{disabled:m,theme:"primary",onClick:function(){return s({isPassed:!0,isStrict:r})}},"Next \xbb"))}function di(e){var t=e.forms,a=e.isStrict,n=e.doneIndex,r=e.currentIndex,l=e.onTabClick,s=e.classPrefix,c="".concat(1/t.length*100,"%");return E.a.createElement("div",{className:"".concat(s)},E.a.createElement("div",{className:"".concat(s,"__tabs")},t.map((function(e,t){var i=e.stepTitle,o=r===t,m=a&&t>n&&!o;return E.a.createElement(k.c,{disabled:m,className:zt()("".concat(s,"__tab"),Object(O.a)({},"".concat(s,"__tab--active"),o)),style:{width:c},onClick:function(){return l({newIndex:t+1})}},i)}))))}function pi(e){var t=e.FormComponent,a=e.currentCardTitle,n=e.currentCardSubTitle,r=e.fieldStorage,l=e.wizardIndex,s=e.bodyCardHeaderActions,c=e.onSetFieldStorage,i=e.onHandleCurrentFormValidation,o=e.isCurrentFormValid,m=e.classPrefix;return E.a.createElement("div",{className:zt()(m,Object(O.a)({},"".concat(m,"--done"),o))},E.a.createElement("div",{className:"".concat(m,"__header")},E.a.createElement("div",{className:"col-title"},E.a.createElement("div",{className:"count"},E.a.createElement("div",{className:"number"},l)),E.a.createElement("div",{className:"info"},E.a.createElement("h5",null,a),E.a.createElement("p",null,n))),s&&E.a.createElement("div",{className:"col-actions"},s)),E.a.createElement("div",{className:"".concat(m,"__form")},E.a.createElement(t,{fieldStorage:r,onSetFieldStorage:c,currentFormIndex:l-1,onHandleCurrentFormValidation:i})))}function hi(e){var t=Object(h.useState)({}),a=Object(R.a)(t,2),n=a[0],r=a[1],l=Object(h.useState)(1),s=Object(R.a)(l,2),c=s[0],i=s[1],o=Object(h.useState)(Object(ls.a)(e.forms)),m=Object(R.a)(o,2),u=m[0],d=m[1],p=e.isStrict,g=e.isReversable,f=e.handleWizardForm,b=e.cardChildComponent,A=Object(h.useMemo)((function(){var e=u.findIndex((function(e){return!e.isValid}))-1;return-2!==e?e:u.length-1}),[u]),v=u[c-1],N=v.component,y=v.isValid,S=v.cardTitle,C=v.cardSubTitle,O=function(e){var t=e.newIndex;i(t)},P=u.length,x="wizard",w=A===u.length-1;return E.a.createElement("div",{className:x},E.a.createElement("div",{className:"".concat(x,"__header")},E.a.createElement(mi,{className:"".concat(x,"__header-progress"),currentIndex:c,doneIndex:A+1,max:P,progressLabel:"".concat(c," / ").concat(u.length)}),E.a.createElement(di,{classPrefix:"".concat(x,"__header-navigation"),forms:u,isStrict:p,onTabClick:O,currentIndex:c-1,doneIndex:A,isReversable:g})),E.a.createElement("div",{className:"".concat(x,"__body")},E.a.createElement("div",{className:"wizard__container"},E.a.createElement("div",{className:"".concat(x,"__body-card")},b&&b,E.a.createElement(k.c,{disabled:!w,onClick:function(){f(n)},className:"".concat(x,"__submitWizard")},E.a.createElement("i",{className:"material-icons"},"add "),"Submit Form")),E.a.createElement(pi,{classPrefix:"".concat(x,"__body-content"),FormComponent:N,isCurrentFormValid:y,currentCardTitle:S,currentCardSubTitle:C,fieldStorage:n,onSetFieldStorage:r,wizardIndex:c,onHandleCurrentFormValidation:function(e){var t=e.index,a=e.isValid,n=Object(ls.a)(u);n[t]&&(n[t].isValid=a,d(n))},bodyCardHeaderActions:E.a.createElement(ui,{classPrefix:x,currentIndex:c-1,doneIndex:A,max:P,isStrict:p,isReversable:g,onHandleNext:function(){return O({newIndex:c+1})},onHandlePrev:function(){return O({newIndex:c-1})}})}))))}function Ei(e){var t=e.loaderParams,a=void 0===t?{key:X,libraries:"places,geocode"}:t,n=e.componentRenderer;return E.a.createElement(xs.a,{params:a,render:function(e){return e&&n(e)}})}function gi(e){var t=e.onHandleCurrentFormValidation,a=e.currentFormIndex,n=e.fieldStorage,r=e.onSetFieldStorage,l=Object(h.useState)(""),s=Object(R.a)(l,2),c=s[0],i=s[1],o=Object(h.useState)(n.latitude&&n.longitude&&{latitude:n.latitude,longitude:n.longitude}),m=Object(R.a)(o,2),u=m[0],d=m[1];Object(h.useEffect)((function(){""!==c&&u&&t({index:a,isValid:!0})}),[u,a,t,c]);var p=function(e){var t=e.formatted_address,a=e.geometry;d({latitude:a.location.lat(),longitude:a.location.lng()}),r(Object(we.a)({},n,{latitude:a.location.lat(),longitude:a.location.lng(),txtLocation:t}))};return E.a.createElement(E.a.Fragment,null,E.a.createElement(k.N,{className:"mt-3"},E.a.createElement(k.i,{lg:"12"},E.a.createElement(Ei,{componentRenderer:function(e){return E.a.createElement(Ms.a,{autocompletionRequest:{input:c},googleMaps:e,onSelectSuggest:p},E.a.createElement(k.y,{seamless:!0},E.a.createElement(k.z,{type:"prepend"},E.a.createElement(k.A,null,E.a.createElement("i",{className:"material-icons"},"place"))),E.a.createElement(k.u,{id:"txtLocation",placeholder:"Search location",value:c,onChange:function(e){return i(e.target.value)}})))}}))),u&&E.a.createElement(k.N,{className:"mt-3"},E.a.createElement(k.i,{lg:"12"},E.a.createElement(Ei,{componentRenderer:function(e){return E.a.createElement("div",{style:{height:"40vh",width:"100%"}},E.a.createElement(Ps.a,{autoFitBounds:!0,googleMaps:e,zoom:16,coordinates:[{position:{lat:u.latitude,lng:u.longitude}}]}))}}))))}var fi=d.getCarMakes,bi=d.getCarModels,Ai=d.getCarYears,vi=d.getCarTrims,Ni=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"checkForm",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.onHandleCurrentFormValidation,n=e.currentFormIndex,r=a.state.fields,l=r.make,s=r.model;t(""!==l&&""!==s?{index:n,isValid:!0}:{index:n,isValid:!1})}}),Object.defineProperty(Object(T.a)(a),"handleField",{enumerable:!0,writable:!0,value:function(e){return function(t){var n=a.props,r=n.getCarModels,l=n.getCarYears,s=n.getCarTrims,c=n.fieldStorage,i=n.onSetFieldStorage,o=Object(we.a)({},a.state.fields);o[e]=t,"make"===e?(o.model="",o.year="",o.trim="",r(o.make.value).catch((function(e){console.log(e)}))):"model"===e?(o.year="",o.trim="",l(o.model.value).catch((function(e){console.log(e)}))):"year"===e&&(o.trim="",s(o.model.value,o.model.year).catch((function(e){console.log(e)}))),a.setState({fields:o},(function(){i(Object(we.a)({},c,{},a.state.fields)),a.checkForm()}))}}}),a.state={fields:{make:e.fieldStorage.make||"",model:e.fieldStorage.model||"",year:e.fieldStorage.year||"",trim:e.fieldStorage.trim||""}},a}return Object(j.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getCarMakes)().catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.fields,t=this.props,a=t.trims,n=t.makes,r=t.models,l=t.years;return console.log("@render [this.state.fields] === ",this.state.fields),E.a.createElement(k.N,{className:"mt-3"},E.a.createElement(k.i,{lg:"12",className:"mb-3"},E.a.createElement(k.q,null,E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"#username"},"Car Make *"),E.a.createElement(Fc.a,{value:e.make||null,options:n,onChange:this.handleField("make")})),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"#username"},"Car Model *"),E.a.createElement(Fc.a,{value:e.model||null,options:r,onChange:this.handleField("model")})),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"#username"},"Car Year"),E.a.createElement(Fc.a,{value:e.year||null,options:l,onChange:this.handleField("year")})),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"#username"},"Car Trim"),E.a.createElement(Fc.a,{value:e.trim||null,options:a,onChange:this.handleField("trim")})))))}}]),t}(h.PureComponent),yi=Object(v.b)((function(e){return{makes:e.estimateWizardReducer.makes,models:e.estimateWizardReducer.models,trims:e.estimateWizardReducer.trims,years:e.estimateWizardReducer.years}}),{getCarMakes:fi,getCarModels:bi,getCarYears:Ai,getCarTrims:vi})(Ni),Si=c.getEngineTypes,Ci=c.getTransmissionTypes,Oi=c.getVehicleTypes,Pi=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"checkForm",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.onHandleCurrentFormValidation,n=e.currentFormIndex,r=a.state.fields,l=r.plateNumber,s=r.selectedVehicleType,c=r.selectedEngineType,i=r.selectedTransmissionType;t(""!==l&&""!==s&&""!==c&&""!==i?{index:n,isValid:!0}:{index:n,isValid:!1})}}),Object.defineProperty(Object(T.a)(a),"handleField",{enumerable:!0,writable:!0,value:function(e,t){var n=a.props,r=n.onSetFieldStorage,l=n.fieldStorage,s=Object(we.a)({},a.state.fields);s[e]=t.target.value,a.setState({fields:s},(function(){r(Object(we.a)({},l,{},a.state.fields)),a.checkForm()}))}}),a.state={fields:{plateNumber:e.fieldStorage.plateNumber||"",selectedVehicleType:e.fieldStorage.selectedVehicleType||"",selectedEngineType:e.fieldStorage.selectedEngineType||"",selectedTransmissionType:e.fieldStorage.selectedTransmissionType||""}},a}return Object(j.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getEngineTypes,a=e.getTransmissionTypes,n=e.getVehicleTypes;t().catch((function(e){console.log(e)})),a().catch((function(e){console.log(e)})),n().catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.fields,a=this.props,n=a.vehicleTypes,r=a.engineTypes,l=a.transmissionTypes;return E.a.createElement(k.N,{className:"mt-3"},E.a.createElement(k.i,{lg:"12",className:"mx-auto mb-3"},E.a.createElement(k.q,null,E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"#txtPlateNumber"},"Plate Number"),E.a.createElement(k.u,{id:"txtPlateNumber",placeholder:"Enter plate number",onChange:function(t){return e.handleField("plateNumber",t)},value:t.plateNumber})),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"#selVehicleType"},"Select Vehicle Type"),E.a.createElement(k.w,{id:"selVehicleType",className:"text-capitalize",onChange:function(t){return e.handleField("selectedVehicleType",t)},value:t.selectedVehicleType},!t.selectedVehicleType&&E.a.createElement("option",{value:""},"Select Vehicle Type"),n.map((function(e,t){return E.a.createElement("option",{key:t,value:e},e)})))),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"#selEngineType"},"Select Engine Type"),E.a.createElement(k.w,{id:"selEngineType",className:"text-capitalize",onChange:function(t){return e.handleField("selectedEngineType",t)},value:t.selectedEngineType},!t.selectedEngineType&&E.a.createElement("option",{value:""},"Select Engine Type"),r.map((function(e,t){return E.a.createElement("option",{key:t,value:e},e)})))),E.a.createElement(k.t,null,E.a.createElement("label",{htmlFor:"#selTransmissionType"},"Select Transmission Type"),E.a.createElement(k.w,{id:"selTransmissionType",className:"text-capitalize",onChange:function(t){return e.handleField("selectedTransmissionType",t)},value:t.selectedTransmissionType},!t.selectedTransmissionType&&E.a.createElement("option",{value:""},"Select Transmission Type"),l.map((function(e,t){return E.a.createElement("option",{key:t,value:e},e)})))))))}}]),t}(h.PureComponent),xi=Object(v.b)((function(e){return{engineTypes:e.carProfilesReducer.engineTypes,transmissionTypes:e.carProfilesReducer.transmissionTypes,vehicleTypes:e.carProfilesReducer.vehicleTypes}}),{getEngineTypes:Si,getTransmissionTypes:Ci,getVehicleTypes:Oi})(Pi),wi=c.getEngineTypes,_i=c.getTransmissionTypes,Ti=c.getVehicleTypes,ji=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"checkForm",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.onHandleCurrentFormValidation,n=e.currentFormIndex,r=a.state.fields,l=r.mileage,s=r.datePurchased,c=r.lastServiced;t(""!==l&&""!==s&&""!==c?{index:n,isValid:!0}:{index:n,isValid:!1})}}),Object.defineProperty(Object(T.a)(a),"handleField",{enumerable:!0,writable:!0,value:function(e,t){var n=a.props,r=n.onSetFieldStorage,l=n.fieldStorage,s=Object(we.a)({},a.state.fields),c="datePurchased"===e||"lastServiced"===e;s[e]=c?new Date(t):t.target.value,a.setState({fields:s},(function(){r(Object(we.a)({},l,{},a.state.fields)),a.checkForm()}))}}),a.state={fields:{mileage:e.fieldStorage.mileage||"",datePurchased:e.fieldStorage.datePurchased||"",lastServiced:e.fieldStorage.lastServiced||""}},a}return Object(j.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.fields;return E.a.createElement(k.N,{className:"mt-3"},E.a.createElement(k.i,{lg:"12",className:"mx-auto mb-3"},E.a.createElement(k.q,null,E.a.createElement(k.t,null,E.a.createElement("label",null,"Current Mileage *"),E.a.createElement(k.u,{placeholder:"Enter current mileage",type:"number",onChange:function(t){return e.handleField("mileage",t)},value:t.mileage})),E.a.createElement(k.t,null,E.a.createElement("label",null,"Date Purchased *"),E.a.createElement(k.l,{onChange:function(t){return e.handleField("datePurchased",t)},placeholderText:"Select date",value:t.datePurchased,selected:t.datePurchased})),E.a.createElement(k.t,null,E.a.createElement("label",null,"Last Serviced *"),E.a.createElement(k.l,{onChange:function(t){return e.handleField("lastServiced",t)},placeholderText:"Select date",value:t.lastServiced,selected:t.lastServiced})))))}}]),t}(h.PureComponent),Mi=Object(v.b)((function(e){return{engineTypes:e.carProfilesReducer.engineTypes,transmissionTypes:e.carProfilesReducer.transmissionTypes,vehicleTypes:e.carProfilesReducer.vehicleTypes}}),{getEngineTypes:wi,getTransmissionTypes:_i,getVehicleTypes:Ti})(ji),ki=function(e){function t(){var e,a,n;Object(P.a)(this,t);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return Object(w.a)(n,(a=n=Object(w.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(l))),Object.defineProperty(Object(T.a)(n),"handleRegister",{enumerable:!0,writable:!0,value:function(e){var t=n.props,a=t.createCarProfile,r=t.createCarSchedules,l=t.history;a({make_id:e.make.value||"",model_id:e.model.value||"",car_year:e.year.value||"",trim_id:e.trim.value||"",plate_number:e.plateNumber||"",type:e.selectedVehicleType||"",engine_type:e.selectedEngineType||"",transmission:e.selectedTransmissionType||"",current_mileage:e.mileage||"",longitude:e.longitude||"",latitude:e.latitude||"",date_purchased:e.datePurchased||"",last_serviced:e.lastServiced||""}).then((function(e){r(e.id).then((function(e){l.push("/cars")})).catch((function(e){console.log("createCarSchedules error wew ==== ",e)}))})).catch((function(e){console.log("createCarProfile error wew ==== ",e)}))}}),a))}return Object(j.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this,t=[{id:1,component:gi,stepTitle:"Car Location",cardTitle:"Specify your car's location",cardSubTitle:"We will use this information to enhance your experience",isValid:!1},{id:2,component:yi,stepTitle:"Car General Details",cardTitle:"Choose car details",cardSubTitle:"Provide at least the car make and car model.",isValid:!1},{id:3,component:xi,stepTitle:"Car Engine Details",cardTitle:"More car detail",cardSubTitle:"Additional Car Details",isValid:!1},{id:4,component:Mi,stepTitle:"Service Details",cardTitle:"Service detail",cardSubTitle:"Additional Service Details",isValid:!1}];return E.a.createElement("div",{className:"p_carRegistration"},E.a.createElement(k.k,{fluid:!0,className:"main-content-container"},E.a.createElement(hi,{isStrict:!0,isReversable:!0,forms:[].concat(t),cardChildComponent:E.a.createElement(Ii,null),handleWizardForm:function(t){e.handleRegister(t)}})))}}]),t}(h.PureComponent);function Ii(e){return E.a.createElement("div",{className:"p_carRegistration__card-additional"},E.a.createElement(oi,{grid:{sm:12}}),E.a.createElement("p",{className:"description"},"Input the necessary details of your car so we can have a better recommendation for you."))}var Di=Object(v.b)(null,{createCarProfile:un,createCarSchedules:dn})(ki),Ri=Object(A.b)()((function(e){var t=e.car;e.t;return E.a.createElement(k.e,{className:"mb-4",small:!0},E.a.createElement(k.f,null,t?E.a.createElement("div",null,E.a.createElement("div",{className:"user-details__avatar mx-auto bg-white border-white mb-3 text-center"},E.a.createElement("img",{alt:"".concat(t.car_year," - ").concat(t.car_make.name||""),className:"rounded",src:J})),E.a.createElement("h4",{className:"mb-2 text-center"},t.car_year?"".concat(t.car_year," - "):null,t.car_make.name||""),E.a.createElement("h6",{className:"text-center"},t.car_model.name||""," ",t.car_trim?t.car_trim.name:""),E.a.createElement(k.B,{flush:!0},E.a.createElement(k.C,{className:"px-4 text-center"},E.a.createElement(k.b,{theme:"secondary",outline:!0,className:"text-uppercase mb-3"},t.plate_number||"-"),E.a.createElement("div",null,E.a.createElement("span",{className:"font-weight-bold text-primary"},De.format(t.current_mileage)," km")," ","since"," ",E.a.createElement("span",{className:"font-weight-bold"},t.date_purchased?L()(t.date_purchased).format("MMM. Do, YYYY"):"-"))),E.a.createElement(k.C,{className:"px-4"},E.a.createElement("strong",{className:"text-muted d-block mb-1 mt-3"},"Engine / Transmission"),E.a.createElement("span",{className:"text-capitalize"},t.engine_type," / ",t.transmission),E.a.createElement("strong",{className:"text-muted d-block mb-1 mt-3"},"Last Serviced"),E.a.createElement("span",{title:t.last_serviced?L()(t.last_serviced).format("MMMM Do YYYY"):"-"},t.last_serviced?L()(t.last_serviced).fromNow():"-"),E.a.createElement("strong",{className:"text-muted d-block mb-1 mt-3"},"Last Updated"),E.a.createElement("span",null,L()(t.updated_at).fromNow())))):null))})),Bi=function(e){for(var t=e.repeat,a=[];t>0;)a.push(E.a.createElement("tr",{key:t},E.a.createElement("td",{colSpan:3},E.a.createElement(Mn.TextRow,{color:ke})))),t--;return a},Fi=function(e){var t=e.events,a=e.isFetching,n=e.schedules;return E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},"List of Schedules"),E.a.createElement("small",null,"You can only make requests if the expected schedule is less than a year.")),E.a.createElement(k.f,{className:"p-0"},E.a.createElement(k.k,{fluid:!0,className:"px-0 pb-4"},E.a.createElement("table",{className:"table lo-stats mb-0"},E.a.createElement("thead",{className:"py-1 bg-light text-semibold border-bottom"},E.a.createElement("tr",null,E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Mileage")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Date")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Actions")))),E.a.createElement("tbody",null,E.a.createElement(jn.a,{ready:!a,showLoadingAnimation:!0,customPlaceholder:E.a.createElement(Bi,{repeat:3})},n[0]&&5e3===n[0].pms.mileage?E.a.createElement("tr",null,E.a.createElement("td",{className:"font-weight-bold text-primary text-center"},"< 5,000 km"),E.a.createElement("td",{className:"text-center"},"-"),E.a.createElement("td",{className:"text-center"},E.a.createElement(k.c,{className:"mx-2",disabled:!0,size:"sm",theme:"primary",title:"Request PMS"},E.a.createElement("i",{className:"material-icons"},"thumb_up")," We highly recommend visiting your authorized dealership"))):null,n.map((function(e,a){return L()(e.schedule)<=L()().add(1,"y")?E.a.createElement("tr",{key:a},E.a.createElement("td",{className:"font-weight-bold text-primary text-center"},De.format(e.pms.mileage)," km"),E.a.createElement("td",{className:"text-center"},E.a.createElement("span",{className:"font-weight-bold"},L()(e.schedule).format("MMM. Do, YYYY")),E.a.createElement("p",{className:"mb-0 text-muted"},"Approximately"," ",L()(e.schedule).endOf().fromNow())),E.a.createElement("td",{className:"text-center"},E.a.createElement(k.c,{className:"mx-2",disabled:e.is_requested||L()(e.schedule)>L()().add(1,"y"),size:"sm",theme:e.is_requested?"secondary":"success",title:"Request PMS",onClick:function(){return t.toggleModalRequest(a)}},E.a.createElement("i",{className:"material-icons"},e.is_requested?"done":"build")," ",e.is_requested?"Requested":"Request PMS"))):null}))))))))};Fi.defaultProps={events:{},schedules:[]};var Li=Fi,qi=function(e){for(var t=e.repeat,a=[];t>0;)a.push(E.a.createElement("tr",{key:t},E.a.createElement("td",{colSpan:3},E.a.createElement(Mn.TextRow,{color:ke})))),t--;return a},zi=function(e){var t=e.events,a=e.isFetching,n=e.services;return E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},"Available Services"),E.a.createElement("small",null,"You can request these services anytime.")),E.a.createElement(k.f,{className:"p-0"},E.a.createElement(k.k,{fluid:!0,className:"px-0 pb-4"},E.a.createElement("table",{className:"table lo-stats mb-0"},E.a.createElement("thead",{className:"py-1 bg-light text-semibold border-bottom"},E.a.createElement("tr",null,E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Service Name")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Actions")))),E.a.createElement("tbody",null,E.a.createElement(jn.a,{ready:!a,showLoadingAnimation:!0,customPlaceholder:E.a.createElement(qi,{repeat:3})},n.map((function(e,a){return E.a.createElement("tr",{key:a},E.a.createElement("td",{className:"font-weight-bold text-primary text-center text-capitalize"},e.name),E.a.createElement("td",{className:"text-center"},E.a.createElement(k.c,{className:"mx-2",size:"sm",theme:"success",title:"Request Service",onClick:function(){return t.toggleModalRequest(e.type)}},E.a.createElement("i",{className:"material-icons"},"build")," Request Service")))}))))))))};zi.defaultProps={events:{}};var Qi=zi,Vi=function(e){var t=e.current,a=e.data,n=e.errorMessages,r=e.events,l=e.maxPages,s=e.open,c=e.schedulesCountMax,i=e.toggle,o=e.validated;return E.a.createElement(k.D,{centered:!0,fade:!0,open:s,role:"dialog",size:"lg",toggle:function(){return i(a.pmsOtherType)}},E.a.createElement(k.G,{closeAriaLabel:"Close",toggle:function(){return i(a.pmsOtherType)},className:"text-capitalize"},a.content?"Requesting for ".concat(a.content.name):""),E.a.createElement(k.E,{className:"pt-3",style:{height:400,overflow:"auto"}},E.a.createElement("div",{className:"progress-wrapper mb-3"},E.a.createElement("div",{className:"progress-label"},"Completion Progress"),E.a.createElement(k.M,{className:"progress-sm",max:l,striped:!0,value:t+1},E.a.createElement("span",{className:"progress-value"},"".concat(t+1," / ").concat(l)))),n.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"danger",className:"outline-danger rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})),0===t?E.a.createElement("div",{className:"text-center"},E.a.createElement("h5",null,"Select your preferred schedule (at most 3 time slots)"),E.a.createElement("small",null,"Set a schedule a month before the expected scheduled date"),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"9"},E.a.createElement(k.B,{flush:!0},E.a.createElement(k.C,null,a.preferredSchedules.map((function(e,t){return E.a.createElement(k.N,{key:t,className:"mb-1"},E.a.createElement(k.i,{lg:"5"},E.a.createElement(k.l,{filterDate:function(e){return e>=L()()},onChange:function(e){return r.handlePreferredScheduleDate(e,t)},openToDate:new Date,placeholderText:"Select date",value:e.date,selected:e.date})),E.a.createElement(k.i,{lg:"5"},E.a.createElement(k.w,{id:"selPreferredScheduleType",className:"text-capitalize",onChange:function(e){return r.handlePreferredScheduleTime(e,t)},value:e.time||""},e.time?null:E.a.createElement("option",{value:""},"Choose Preferred Time"),a.timeOptions.map((function(e,t){return E.a.createElement("option",{key:"date-".concat(t),value:e},e)})))),t>0?E.a.createElement(k.i,{lg:"2"},E.a.createElement(k.c,{size:"sm",theme:"danger",onClick:function(){return r.removeSchedule(t)}},E.a.createElement("i",{className:"material-icons"},"remove_circle"))):E.a.createElement(k.i,{lg:"2"},E.a.createElement(k.c,{disabled:a.preferredSchedules.length===c,size:"sm",theme:"success",onClick:r.addSchedule},E.a.createElement("i",{className:"material-icons"},"add_circle"))))}))))))):1===t?E.a.createElement("div",{className:"text-center"},E.a.createElement("h5",null,"Select Oil Type"),E.a.createElement(k.N,{className:"mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"9"},E.a.createElement(k.w,{id:"selOilType",className:"text-capitalize",onChange:r.handleOilTypeSelection,value:a.selectedOilType||""},a.selectedOilType?null:E.a.createElement("option",{value:""},"Choose Oil Type"),a.oilTypeOptions.map((function(e,t){return E.a.createElement("option",{key:"oilType-".concat(t),value:e},e)})))))):null),E.a.createElement(k.F,{className:"d-block"},E.a.createElement(k.N,null,E.a.createElement(k.i,{className:"text-align-left",lg:"6"},E.a.createElement(k.d,null,E.a.createElement(k.c,{disabled:0===t,theme:"primary",onClick:r.previous},"\xab Previous"),E.a.createElement(k.c,{disabled:t===l-1,theme:"primary",onClick:r.next},"Next \xbb"))),E.a.createElement(k.i,{className:"d-flex justify-content-end",lg:"6"},E.a.createElement(k.d,null,E.a.createElement(k.c,{disabled:!o,theme:"success",onClick:r.submit},E.a.createElement("div",null,E.a.createElement("span",{className:"text-white"},E.a.createElement("i",{className:"material-icons"},"send"))," ","Send Request")),E.a.createElement(k.c,{onClick:function(){return i(a.pmsOtherType)},theme:"white"},E.a.createElement("span",null,E.a.createElement("i",{className:"material-icons"},"close"))," ","Cancel"))))))};Vi.defaultProps={current:0,data:{},errorMessages:[],events:{},maxPages:2,schedulesCountMax:3,open:!1,validated:!1};var Ui=Object(A.b)()(Vi),Hi=function(e){for(var t=e.repeat,a=[];t>0;)a.push(E.a.createElement("tr",{key:t},E.a.createElement("td",{colSpan:2},E.a.createElement(Mn.TextRow,{color:ke})))),t--;return a},Yi=function(e){var t=e.isFetching,a=e.history;return a.length>0&&E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},"Repair History")),E.a.createElement(k.f,{className:"p-0"},E.a.createElement(k.k,{fluid:!0,className:"px-0 pb-4"},E.a.createElement("table",{className:"table lo-stats mb-0"},E.a.createElement("thead",{className:"py-1 bg-light text-semibold border-bottom"},E.a.createElement("tr",null,E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Shop")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Details")))),E.a.createElement("tbody",null,E.a.createElement(jn.a,{ready:!t,showLoadingAnimation:!0,customPlaceholder:E.a.createElement(Hi,{repeat:3})},a.map((function(e,t){return E.a.createElement("tr",{key:t},E.a.createElement("td",{className:"font-weight-bold text-primary text-center"},e.shop.name,E.a.createElement("p",{className:"text-capitalize"},E.a.createElement("strong",{className:"text-secondary"},E.a.createElement("small",{className:"font-weight-bold"},e.type)))),E.a.createElement("td",{className:"text-center"},E.a.createElement("span",{className:"font-weight-bold"},L()(e.date).format("MMM. Do, YYYY")),E.a.createElement("p",{className:"mb-0 text-success"},Ie.format(e.total_cost))))}))))))))};Yi.defaultProps={history:[]};var Gi=Yi,Wi=c.getCarDetails,Xi=c.getCarSchedules,Ki=c.requestPms,Ji=c.requestPmsOther,Zi=c.getRepairHistory,$i=o.getOilTypeOptions,eo=o.getPartTypeOptions,to=o.getPmsOthersItem,ao=o.getOtherServices,no=i.getScheduleTime,ro=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.getCarDetails,n=e.getOilTypeOptions,r=e.getPartTypeOptions,l=e.getScheduleTime,s=e.getOtherServices,c=e.match,i=e.getRepairHistory,o=c.params.id;l().catch((function(e){console.log(e)})),r().catch((function(e){console.log(e)})),n().catch((function(e){console.log(e)})),t(o).then((function(){i(o).then((function(){a.setState({isFetchingRepairHistory:!1})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),s().then((function(){a.setState({isFetchingOtherServices:!1})})).catch((function(e){console.log(e)})),a._getCarSchedules(o)}}),Object.defineProperty(Object(T.a)(a),"_addSchedule",{enumerable:!0,writable:!0,value:function(){var e=a.state,t=e.preferredSchedules,n=e.validatedPreferredSchedule;t.push({}),n=Ge.isValidPreferredSchedules(t),a.setState({preferredSchedules:t,validatedPreferredSchedule:n})}}),Object.defineProperty(Object(T.a)(a),"_handleOilTypeSelection",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value,n=null!==t;a.setState({selectedOilType:t,validatedSelectedOilType:n})}}),Object.defineProperty(Object(T.a)(a),"_getCarSchedules",{enumerable:!0,writable:!0,value:function(e){(0,a.props.getCarSchedules)(e).then((function(){a.setState({isFetchingSchedules:!1})})).catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_handlePreferredScheduleDate",{enumerable:!0,writable:!0,value:function(e,t){var n=a.state,r=n.preferredSchedules,l=n.validatedPreferredSchedule;r[t].date=new Date(e),l=Ge.isValidPreferredSchedules(r),a.setState({preferredSchedules:r,validatedPreferredSchedule:l})}}),Object.defineProperty(Object(T.a)(a),"_handlePreferredScheduleTime",{enumerable:!0,writable:!0,value:function(e,t){var n=a.state,r=n.preferredSchedules,l=n.validatedPreferredSchedule;r[t].time=e.target.value,l=Ge.isValidPreferredSchedules(r),a.setState({preferredSchedules:r,validatedPreferredSchedule:l})}}),Object.defineProperty(Object(T.a)(a),"_handleReplacementType",{enumerable:!0,writable:!0,value:function(e,t,n){var r=a.state,l=r.contentIndex,s=r.replacementTypes,c=r.validatedReplacementTypes,i=a.props.schedules[l].pms.change_items;s[t]={index:n,type:e.target.value},c=Ge.isValidReplacementTypes(i,s),a.setState({replacementTypes:s,validatedReplacementTypes:c})}}),Object.defineProperty(Object(T.a)(a),"_next",{enumerable:!0,writable:!0,value:function(){var e=a.state.menuIndex;a.setState({menuIndex:e+1})}}),Object.defineProperty(Object(T.a)(a),"_previous",{enumerable:!0,writable:!0,value:function(){var e=a.state.menuIndex;a.setState({menuIndex:e-1})}}),Object.defineProperty(Object(T.a)(a),"_removeSchedule",{enumerable:!0,writable:!0,value:function(e){var t=a.state.preferredSchedules;t.splice(e,1),a.setState({preferredSchedules:t})}}),Object.defineProperty(Object(T.a)(a),"_submitOtherRequest",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=[],n=[],r=a.props,l=r.match,s=r.t,c=r.requestPmsOther,i=l.params.id,o=a.state,m=o.preferredSchedules,u=o.selectedOilType,d=o.content,p=d.id,h=d.type;c({car_id:i,type:"other services",preferred_schedules:m,oil_type:u,pms_others_id:p}).then((function(){n.push({message:"Request has been created!"}),a.setState({successMessages:n},(function(){a._toggleOtherModalCreation(h)}))})).catch((function(e){Array.isArray(e)?t=t.concat(e):t.push({message:s("translation.generalError")}),a.setState({errorMessages:t})}))}}),Object.defineProperty(Object(T.a)(a),"_submit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=[],n=[],r=a.props,l=r.match,s=r.requestPms,c=r.schedules,i=r.t,o=l.params.id,m=a.state,u=m.contentIndex;s({preferred_schedules:m.preferredSchedules,replacements:m.replacementTypes,oil_type:m.selectedOilType,type:"preventive",car_schedule_id:c[u].id}).then((function(){n.push({message:"Request has been created!"}),a.setState({successMessages:n},(function(){a._toggleModalCreation(),a._getCarSchedules(o)}))})).catch((function(e){Array.isArray(e)?t=t.concat(e):t.push({message:i("translation.generalError")}),a.setState({errorMessages:t})}))}}),Object.defineProperty(Object(T.a)(a),"_toggleModalCreation",{enumerable:!0,writable:!0,value:function(e){var t=a.state.mdlCreation;a.setState({contentIndex:e,menuIndex:0,mdlCreation:!t,preferredSchedules:[{}],replacementTypes:{},selectedOilType:null})}}),Object.defineProperty(Object(T.a)(a),"_toggleOtherModalCreation",{enumerable:!0,writable:!0,value:function(e){var t=a.props.getPmsOthersItem,n=a.state.mdlOtherCreation;t(e).then((function(t){a.setState({content:t,pmsOtherType:e,menuIndex:0,preferredSchedules:[{}],mdlOtherCreation:!n,selectedOilType:null})})).catch((function(e){return console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.car,n=e.history,r=e.oilTypeOptions,l=e.partTypeOptions,s=e.schedules,c=e.t,i=e.otherServices,o=e.timeOptions,m=a.state,u=m.errorMessages,d=m.successMessages,p=m.contentIndex,h=m.content,g=m.isFetchingSchedules,f=m.isFetchingOtherServices,b=m.isFetchingRepairHistory,A=m.mdlCreation,v=m.mdlOtherCreation,N=m.menuIndex,y=m.preferredSchedules,S=m.replacementTypes,C=m.selectedOilType,O=m.validatedPreferredSchedule,P=m.validatedReplacementTypes,x=m.validatedSelectedOilType,w=m.pmsOtherType;return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{noGutters:!0,className:"page-header py-4"},E.a.createElement(Jn,{sm:"4",title:c("translation.ttlCarSchedule"),subtitle:c("translation.subTtlSchedule"),className:"text-sm-left"}),E.a.createElement(k.i,{sm:"4",className:"d-flex ml-auto my-auto"},E.a.createElement(Te.a,{to:"/cars",className:"mx-auto ml-sm-auto mr-sm-0 btn btn-white"},"\u2190",c("translation.btnGoBack")))),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},E.a.createElement(Pa,{successMessages:d}))),E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"4"},E.a.createElement(Ri,{car:t})),E.a.createElement(k.i,{lg:"8"},E.a.createElement(k.N,null,E.a.createElement(k.i,null,E.a.createElement(Qi,{events:{toggleModalRequest:a._toggleOtherModalCreation},isFetching:f,services:i}))),E.a.createElement(k.N,null,E.a.createElement(k.i,null,E.a.createElement(Li,{events:{toggleModalRequest:a._toggleModalCreation},isFetching:g,schedules:s}))),E.a.createElement(k.N,null,E.a.createElement(k.i,null,E.a.createElement(Gi,{isFetching:b,history:n}))))),v&&E.a.createElement(Ui,{current:N,data:{content:h,oilTypeOptions:r,partTypeOptions:l,preferredSchedules:y,replacementTypes:S,selectedOilType:C,timeOptions:o,pmsOtherType:w},errorMessages:u,events:{addSchedule:a._addSchedule,handleOilTypeSelection:a._handleOilTypeSelection,handlePreferredScheduleDate:a._handlePreferredScheduleDate,handlePreferredScheduleTime:a._handlePreferredScheduleTime,next:a._next,previous:a._previous,removeSchedule:a._removeSchedule,submit:a._submitOtherRequest},open:v,toggle:a._toggleOtherModalCreation,validated:O&&x}),A&&E.a.createElement(ll,{current:N,data:{content:s[p],oilTypeOptions:r,partTypeOptions:l,preferredSchedules:y,replacementTypes:S,selectedOilType:C,timeOptions:o},errorMessages:u,events:{addSchedule:a._addSchedule,handleOilTypeSelection:a._handleOilTypeSelection,handlePreferredScheduleDate:a._handlePreferredScheduleDate,handlePreferredScheduleTime:a._handlePreferredScheduleTime,handleReplacementType:a._handleReplacementType,next:a._next,previous:a._previous,removeSchedule:a._removeSchedule,submit:a._submit},open:A,toggle:a._toggleModalCreation,validated:O&&x&&P}))}}),a.state={errorMessages:[],successMessages:[],contentIndex:0,content:null,isFetchingSchedules:!0,isFetchingOtherServices:!0,isFetchingRepairHistory:!0,mdlCreation:!1,mdlOtherCreation:!1,menuIndex:0,preferredSchedules:[{}],pmsOtherType:null,replacementTypes:{},selectedOilType:null,validatedPreferredSchedule:!1,validatedSelectedOilType:!1,validatedReplacementTypes:!1},a}return Object(j.a)(t,e),t}(h.Component),lo=Object(A.b)()(Object(v.b)((function(e){return{car:e.carProfilesReducer.car,oilTypeOptions:e.servicesReducer.oilTypeOptions,partTypeOptions:e.servicesReducer.partTypeOptions,schedules:e.carProfilesReducer.schedules,timeOptions:e.requestsReducer.timeOptions,otherService:e.servicesReducer.otherService,otherServices:e.servicesReducer.otherServices,history:e.carProfilesReducer.history}}),{getCarDetails:Wi,getCarSchedules:Xi,getOilTypeOptions:$i,getPartTypeOptions:eo,getScheduleTime:no,getPmsOthersItem:to,getOtherServices:ao,requestPms:Ki,requestPmsOther:Ji,getRepairHistory:Zi})(ro)),so=a(103),co=a.n(so),io=function(e){for(var t=e.repeat,a=[];t>0;)a.push(E.a.createElement(k.i,{key:t,className:"mb-4",lg:"3",md:"4"},E.a.createElement(k.e,null,E.a.createElement(k.f,{className:"text-center"},E.a.createElement("div",{className:"user-details__avatar mx-auto bg-white border-white mb-3"},E.a.createElement(Mn.RoundShape,{color:ke,style:{height:100,width:100},className:"rounded"})),E.a.createElement("h5",{className:"mb-0"},E.a.createElement(Mn.TextBlock,{color:ke,rows:1,style:{width:75},className:"mx-auto"}),E.a.createElement(Mn.TextBlock,{color:ke,rows:1,style:{width:75},className:"mx-auto mt-2"}))),E.a.createElement(k.g,{className:"border-top text-center p-3"},E.a.createElement(k.b,{pill:!0,outline:!0,size:"sm",theme:"secondary"},"-"))))),t--;return a},oo=function(e){var t=e.isFetching,a=e.shops;e.t;return t||a.length?E.a.createElement(k.N,null,E.a.createElement(jn.a,{ready:!t,showLoadingAnimation:!0,customPlaceholder:E.a.createElement(io,{repeat:3})},a.map((function(e,t){return E.a.createElement(k.i,{key:t,className:"mb-4",lg:"3",md:"4"},E.a.createElement(k.e,null,E.a.createElement(k.f,{className:"text-center py-3"},E.a.createElement("div",{className:"user-details__avatar mx-auto bg-white border-white mb-3"},E.a.createElement("img",{alt:e.name,className:"rounded",src:e.avatar?e.avatar.path:Z})),E.a.createElement("h5",{className:"mb-0"},E.a.createElement(Te.a,{to:"/shop/".concat(e.slug)},e.name)),E.a.createElement("div",{className:"d-table mx-auto"},E.a.createElement(k.b,{className:"text-capitalize mt-2",pill:!0,theme:Vr[e.status].theme},Vr[e.status].text))),E.a.createElement(k.g,{className:"border-top text-center p-3"},E.a.createElement(Te.a,{className:"btn btn-pill btn-secondary btn-outline-secondary btn-sm",to:"/system/shop/".concat(e.slug,"/requirements")},E.a.createElement("i",{className:"material-icons"},"insert_drive_file")," Check Requirements"))))})))):E.a.createElement(cs,{hideModal:!0})};oo.defaultProps={shops:[]};var mo=Object(A.b)()(oo),uo=s.getShops,po=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){a._isMounted=!0;var e=a.props.getShops;a._isMounted&&e().then((function(e){a.searcher=new co.a(e,{shouldSort:!0,keys:["name"]}),a.setState({isFetchingShops:!1,shops:e})})).catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_handleSearch",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value,n=a.props.shops,r=0===t.length?n:a.searcher.search(t);a.setState({shops:r})}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props.t,t=a.state,n=t.errorMessages,r=t.isFetchingShops,l=t.shops;return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{noGutters:!0,className:"page-header py-4"},E.a.createElement(Jn,{sm:"4",title:e("translation.ttlShops"),subtitle:"All",className:"text-sm-left"}),E.a.createElement(k.i,{sm:"4",className:"d-flex ml-auto my-auto form-group"},E.a.createElement(k.y,{seamless:!0},E.a.createElement(k.z,{type:"prepend"},E.a.createElement(k.A,null,E.a.createElement("i",{className:"material-icons"},"search"))),E.a.createElement(k.u,{placeholder:"Search by shop name",onChange:a._handleSearch})))),E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{lg:"12"},E.a.createElement(Pa,{errorMessages:n}),E.a.createElement(mo,{isFetching:r,shops:l}))))}}),a._isMounted=!1,a.searcher=null,a.state={isFetchingShops:!0,shops:[]},a}return Object(j.a)(t,e),Object(x.a)(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}}]),t}(h.Component),ho=Object(A.b)()(Object(v.b)((function(e){return{shops:e.shopsReducer.shops}}),{getShops:uo})(po)),Eo=Object(A.b)()((function(e){var t=e.id,a=e.requirements,n=e.verify;return E.a.createElement(k.N,{noGutters:!0,className:"page-header pt-2 pb-4"},E.a.createElement(k.i,{lg:"12"},E.a.createElement(k.e,{className:"file-manager file-manager-list p-0"},E.a.createElement(k.h,{className:"text-center p-3 border-bottom"}),E.a.createElement(k.f,{className:"p-0 border-bottom"},E.a.createElement(k.k,{fluid:!0,className:"px-0"},E.a.createElement("table",{className:"table lo-stats mb-0"},E.a.createElement("thead",{className:"py-1 bg-light text-semibold border-bottom"},E.a.createElement("tr",null,E.a.createElement("th",null),E.a.createElement("th",null,E.a.createElement("small",null,"Name")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Size")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"File Name / Value")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Status")),E.a.createElement("th",{className:"text-center"},E.a.createElement("small",null,"Actions")))),E.a.createElement("tbody",null,E.a.createElement("tr",null,E.a.createElement("td",null,E.a.createElement("div",{className:"file-manager__item-icon"},E.a.createElement("div",null,E.a.createElement("i",{className:"material-icons"},"insert_drive_file")))),E.a.createElement("td",null,E.a.createElement("h6",{className:"mb-0"},"BIR Certificate of Registration (25)"),E.a.createElement("span",{className:"file-manager__item-meta"},a.bir?"Last updated ".concat(L()(a.bir.updated_at).fromNow()):"-")),E.a.createElement("td",{className:"text-center"},zs()(a.bir?a.bir.size:0)),E.a.createElement("td",{className:"text-center"},E.a.createElement("a",{href:a.bir?a.bir.path:"#",rel:"noopener noreferrer",target:a.bir?"_blank":null},a.bir?a.bir.filename:"-")),E.a.createElement("td",{className:"text-center"},a.verified_bir_cert?E.a.createElement(k.b,{pill:!0,size:"sm",theme:"success"},"Verified"):E.a.createElement(k.b,{pill:!0,size:"sm",theme:"danger"},"Unverified")),E.a.createElement("td",{className:"text-center"},E.a.createElement(k.c,{disabled:!(null!==a.bir&&!a.verified_bir_cert),onClick:function(){return n(t,"bir_cert")},size:"sm",theme:"success"},E.a.createElement("i",{className:"material-icons"},"check")))),E.a.createElement("tr",null,E.a.createElement("td",null,E.a.createElement("div",{className:"file-manager__item-icon"},E.a.createElement("div",null,E.a.createElement("i",{className:"material-icons"},"insert_drive_file")))),E.a.createElement("td",null,E.a.createElement("h6",{className:"mb-0"},"Mayor's Permit (25)"),E.a.createElement("span",{className:"file-manager__item-meta"},a.business_permit?"Last updated ".concat(L()(a.business_permit.updated_at).fromNow()):"-")),E.a.createElement("td",{className:"text-center"},zs()(a.business_permit?a.business_permit.size:0)),E.a.createElement("td",{className:"text-center"},E.a.createElement("a",{href:a.business_permit?a.business_permit.path:"#",rel:"noopener noreferrer",target:a.business_permit?"_blank":null},a.business_permit?a.business_permit.filename:"-")),E.a.createElement("td",{className:"text-center"},a.verified_permit?E.a.createElement(k.b,{pill:!0,size:"sm",theme:"success"},"Verified"):E.a.createElement(k.b,{pill:!0,size:"sm",theme:"danger"},"Unverified")),E.a.createElement("td",{className:"text-center"},E.a.createElement(k.c,{disabled:!(null!==a.business_permit&&!a.verified_permit),onClick:function(){return n(t,"permit")},size:"sm",theme:"success"},E.a.createElement("i",{className:"material-icons"},"check")))),E.a.createElement("tr",null,E.a.createElement("td",null,E.a.createElement("div",{className:"file-manager__item-icon"},E.a.createElement("div",null,E.a.createElement("i",{className:"material-icons"},"insert_drive_file")))),E.a.createElement("td",null,E.a.createElement("h6",{className:"mb-0"},"SEC/DTI Certificate of Registration (25)"),E.a.createElement("span",{className:"file-manager__item-meta"},a.registration?"Last updated ".concat(L()(a.registration.updated_at).fromNow()):"-")),E.a.createElement("td",{className:"text-center"},zs()(a.registration?a.registration.size:0)),E.a.createElement("td",{className:"text-center"},E.a.createElement("a",{href:a.registration?a.registration.path:"#",rel:"noopener noreferrer",target:a.registration?"_blank":null},a.registration?a.registration.filename:"-")),E.a.createElement("td",{className:"text-center"},a.verified_biz_reg?E.a.createElement(k.b,{pill:!0,size:"sm",theme:"success"},"Verified"):E.a.createElement(k.b,{pill:!0,size:"sm",theme:"danger"},"Unverified")),E.a.createElement("td",{className:"text-center"},E.a.createElement(k.c,{disabled:!(null!==a.registration&&!a.verified_biz_reg),onClick:function(){return n(t,"biz_reg")},size:"sm",theme:"success"},E.a.createElement("i",{className:"material-icons"},"check")))),E.a.createElement("tr",null,E.a.createElement("td",null,E.a.createElement("div",{className:"file-manager__item-icon"},E.a.createElement("div",null,E.a.createElement("i",{className:"material-icons"},"vertical_align_top")))),E.a.createElement("td",null,E.a.createElement("h6",{className:"mb-0"},"Lifters (5)"),E.a.createElement("span",{className:"file-manager__item-meta"},a?"Last updated ".concat(L()(a.updated_at).fromNow()):"-")),E.a.createElement("td",{className:"text-center"},"-"),E.a.createElement("td",{className:"text-center"},a.lifters?a.lifters:"-"),E.a.createElement("td",{className:"text-center"},a.verified_lifters?E.a.createElement(k.b,{pill:!0,size:"sm",theme:"success"},"Verified"):E.a.createElement(k.b,{pill:!0,size:"sm",theme:"danger"},"Unverified")),E.a.createElement("td",{className:"text-center"},E.a.createElement(k.c,{disabled:!(null!==a.lifters&&!a.verified_lifters),onClick:function(){return n(t,"lifters")},size:"sm",theme:"success"},E.a.createElement("i",{className:"material-icons"},"check")))),E.a.createElement("tr",null,E.a.createElement("td",null,E.a.createElement("div",{className:"file-manager__item-icon"},E.a.createElement("div",null,E.a.createElement("i",{className:"material-icons"},"note")))),E.a.createElement("td",null,E.a.createElement("h6",{className:"mb-0"},"Merchant Certifications (10)"),E.a.createElement("span",{className:"file-manager__item-meta"},a?"Last updated ".concat(L()(a.updated_at).fromNow()):"-")),E.a.createElement("td",{className:"text-center"},"-"),E.a.createElement("td",{className:"text-center"},a.merch_cert&&a.merch_cert.length>0?a.merch_cert.join(", "):"-"),E.a.createElement("td",{className:"text-center"},a.verified_merch_cert?E.a.createElement(k.b,{pill:!0,size:"sm",theme:"success"},"Verified"):E.a.createElement(k.b,{pill:!0,size:"sm",theme:"danger"},"Unverified")),E.a.createElement("td",{className:"text-center"},E.a.createElement(k.c,{disabled:!(null!==a.merch_cert&&0!==a.merch_cert.length&&!a.verified_merch_cert),onClick:function(){return n(t,"merch_cert")},size:"sm",theme:"success"},E.a.createElement("i",{className:"material-icons"},"check")))),E.a.createElement("tr",null,E.a.createElement("td",null,E.a.createElement("div",{className:"file-manager__item-icon"},E.a.createElement("div",null,E.a.createElement("i",{className:"material-icons"},"build")))),E.a.createElement("td",null,E.a.createElement("h6",{className:"mb-0"},"Special Tools (10)"),E.a.createElement("span",{className:"file-manager__item-meta"},a?"Last updated ".concat(L()(a.updated_at).fromNow()):"-")),E.a.createElement("td",{className:"text-center"},"-"),E.a.createElement("td",{className:"text-center"},a.special_tools&&a.special_tools.length>0?a.special_tools.join(", "):"-"),E.a.createElement("td",{className:"text-center"},a.verified_special_tools?E.a.createElement(k.b,{pill:!0,size:"sm",theme:"success"},"Verified"):E.a.createElement(k.b,{pill:!0,size:"sm",theme:"danger"},"Unverified")),E.a.createElement("td",{className:"text-center"},E.a.createElement(k.c,{disabled:!(null!==a.special_tools&&0!==a.special_tools.length&&!a.verified_special_tools),onClick:function(){return n(t,"special_tools")},size:"sm",theme:"success"},E.a.createElement("i",{className:"material-icons"},"check")))))))),E.a.createElement(k.g,{className:"text-right p-3"}))))})),go=s.getShopDetails,fo=s.verifyRequirement,bo=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){a._isMounted=!0,a._isMounted&&a._getShopDetails()}}),Object.defineProperty(Object(T.a)(a),"_getShopDetails",{enumerable:!0,writable:!0,value:function(){var e=a.props;(0,e.getShopDetails)(e.match.params.slug).catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_verifyRequirement",{enumerable:!0,writable:!0,value:function(e,t){(0,a.props.verifyRequirement)(e,t).then((function(){a._getShopDetails()})).catch((function(e){return console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props.shop,t=a.state.errorMessages;return e?E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{noGutters:!0,className:"page-header py-4"},E.a.createElement(Jn,{lg:"8",title:"Activation Requirements for ".concat(e.name),subtitle:"Shop",className:"text-sm-left"}),E.a.createElement(k.i,{sm:"4",className:"d-flex ml-auto my-auto"},E.a.createElement(Te.a,{className:"btn btn-white mx-auto ml-sm-auto mr-sm-0",to:"/system/shops"},"\u2190 Go Back"))),E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{lg:"12"},E.a.createElement(Pa,{errorMessages:t}),E.a.createElement(Eo,{id:e.application.id,requirements:e.application,verify:a._verifyRequirement})))):null}}),a._isMounted=!1,a.state={isFetchingShops:!0},a}return Object(j.a)(t,e),Object(x.a)(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}}]),t}(h.Component),Ao=Object(A.b)()(Object(v.b)((function(e){return{shop:e.shopsReducer.shop}}),{getShopDetails:go,verifyRequirement:fo})(bo)),vo=function(){return function(e){return new Promise((function(t,a){He((function(n){var r=n.api_token;xe.get("/users",{headers:_e(r)}).then((function(n){var r=n.data,l=r.error,s=r.success,c=r.data;s?(e({type:"users/GET_USERS",data:{users:c}}),t(c)):a(l)})).catch((function(e){a(e)}))}))}))}},No=function(e){return function(t){return new Promise((function(a,n){He((function(r){var l=r.api_token;xe.post("/user/verification/resend",{email:e},{headers:_e(l)}).then((function(e){var r=e.data,l=r.error;r.success?(t({type:"users/RESEND_VERIFICATION"}),a(!0)):n(l)})).catch((function(e){n(e)}))}))}))}},yo={users:[]},So=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/GET_USERS":var a=t.data.users;return Object(we.a)({},e,{users:a});default:return e}},Co=function(e){for(var t=e.repeat,a=[];t>0;)a.push(E.a.createElement(k.i,{key:t,className:"mb-4",lg:"3",md:"4"},E.a.createElement(k.e,null,E.a.createElement(k.f,{className:"py-3"},E.a.createElement(Mn.TextBlock,{color:ke,rows:1,style:{width:200}}),E.a.createElement(Mn.TextBlock,{color:ke,rows:1,style:{width:150},className:"mt-2 mb-2"}),E.a.createElement(Mn.TextBlock,{color:ke,rows:1,style:{width:100},className:"mt-2"}),E.a.createElement("hr",null),E.a.createElement("div",{className:"text-center"},E.a.createElement(k.b,{pill:!0,outline:!0,size:"sm",theme:"secondary"},"-")))))),t--;return a},Oo=function(e){var t=e.events,a=e.isFetching,n=e.users,r=(e.t,e.user);return a||n.length?E.a.createElement(k.N,null,E.a.createElement(jn.a,{ready:!a,showLoadingAnimation:!0,customPlaceholder:E.a.createElement(Co,{repeat:3})},n.map((function(e,a){return E.a.createElement(k.i,{key:a,className:"mb-4",lg:"3",md:"4"},E.a.createElement(k.e,null,E.a.createElement(k.f,{className:"py-3"},E.a.createElement("h6",{className:"mb-0"},E.a.createElement(Te.a,{className:e.deleted_at?"font-weight-bold text-danger":"font-weight-bold",to:"/user/".concat(e.id)},e.email_verified_at&&!e.deleted_at?E.a.createElement("i",{className:"material-icons text-success"},"verified_user"):null," ",e.fname," ",e.lname)),E.a.createElement("h6",null,E.a.createElement("small",null,E.a.createElement("a",{href:"mailto:".concat(e.email)},e.email))),E.a.createElement("p",{className:"mb-0"},E.a.createElement("i",{className:"material-icons"},"admin"===e.user_type?"offline_bolt":e.user_type===Ce?"account_circle":e.user_type===Oe?"store":"directions_car")," ",E.a.createElement("small",null,"admin"===e.user_type?"Administrator":e.user_type===Ce?"Customer":e.user_type===Oe?"Vendor":"Fleet Admin")),"admin"===r.user_type?E.a.createElement("div",null,E.a.createElement("hr",null),E.a.createElement("div",{className:"text-center"},E.a.createElement(k.N,null,E.a.createElement(k.i,null,E.a.createElement(k.c,{className:"mr-2",pill:!0,outline:!0,size:"sm",theme:"info"},E.a.createElement("i",{className:"material-icons"},"account_balance_wallet")," ","Wallet"),E.a.createElement(k.c,{className:"mr-2",pill:!0,outline:!0,size:"sm",theme:"secondary"},E.a.createElement("i",{className:"material-icons"},"lock")," Password"))),E.a.createElement(k.N,{className:"mt-2"},E.a.createElement(k.i,null,e.email_verified_at?null:E.a.createElement(k.c,{className:"mr-2",pill:!0,outline:!0,size:"sm",theme:"success",onClick:function(){return t.resendVerification(e.email)}},E.a.createElement("i",{className:"material-icons"},"email")," ","Verification"),E.a.createElement(k.c,{pill:!0,outline:r.id===e.id,disabled:r.id===e.id,size:"sm",theme:e.deleted_at?"success":"danger"},E.a.createElement("i",{className:"material-icons"},e.deleted_at?"restore_from_trash":"delete")," ",e.deleted_at?"Restore":"Deactivate"))))):null)))})))):null};Oo.defaultProps={users:[]};var Po=Object(A.b)()(Object(v.b)((function(e){return{user:e.authenticationReducer.user}}),{})(Oo)),xo=function(e){var t=e.attemptSubmit,a=e.data,n=e.errorMessages,r=e.events,l=e.open,s=e.t,c=e.toggle,i=a.email,o=a.firstName,m=a.lastName,u=r.handleFirstName,d=r.handleLastName,p=r.handleEmail,h=r.submit,g=Ge.isValidName(o),f=Ge.isValidName(m),b=Ge.isValidEmail(i);return E.a.createElement(k.D,{open:l,fade:!0,centered:!0,role:"dialog"},E.a.createElement(k.G,{closeAriaLabel:"Close",toggle:c},"Add a New Fleet Member"),E.a.createElement(k.E,null,n.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"danger",className:"outline-danger rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})),E.a.createElement(k.q,null,E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.t,null,E.a.createElement(k.u,{type:"text",id:"txtFirstName",placeholder:"Enter first name",onChange:u,value:o||"",invalid:null!==o&&!g}),E.a.createElement(k.s,{valid:g},"First name should not be empty"))),E.a.createElement(k.i,{lg:"6"},E.a.createElement(k.t,null,E.a.createElement(k.u,{type:"text",id:"txtLastName",placeholder:"Enter last name",onChange:d,value:m||"",invalid:null!==m&&!f}),E.a.createElement(k.s,{valid:f},"Last name should not be empty")))),E.a.createElement(k.t,null,E.a.createElement(k.u,{type:"email",id:"txtEmail",placeholder:s("common.phEmail"),autoComplete:"email",value:i||"",onChange:p,invalid:null!==i&&!b}),E.a.createElement(k.s,{valid:b},s("validation.errEmail")))),E.a.createElement("small",null,E.a.createElement("em",null,"Passwords will be sent to the email address provided."))),E.a.createElement(k.F,null,E.a.createElement("div",{className:"my-2 ml-auto"},E.a.createElement(k.d,null,E.a.createElement(k.c,{theme:"success",onClick:h,disabled:t||!b||!g||!f},t?E.a.createElement("div",null,E.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),E.a.createElement("span",{className:"sr-only"},s("common.lblLoading"))):E.a.createElement("div",null,E.a.createElement("span",{className:"text-white"},E.a.createElement("i",{className:"material-icons"},"add")),"Add New Member")),E.a.createElement(k.c,{onClick:c,theme:"white"},E.a.createElement("span",null,E.a.createElement("i",{className:"material-icons"},"close")),s("translation.btnCancel"))))))};xo.defaultProps={data:{},errorMessages:[],events:{},open:!1};var wo=Object(A.b)()(xo),_o=r.registerFleetMember,To=l.getAccountDetails,jo=p.getUsers,Mo=p.resendVerification,ko=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){if(a._isMounted=!0,a._isMounted){var e=a.props.getAccountDetails;a._getUsers(),e().catch((function(e){console.log(e)}))}}}),Object.defineProperty(Object(T.a)(a),"_getUsers",{enumerable:!0,writable:!0,value:function(){(0,a.props.getUsers)().then((function(e){a.searcher=new co.a(e,{shouldSort:!0,keys:["fname","lname","email"]}),a.setState({isFetchingUsers:!1,users:e})})).catch((function(e){console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_handleEmail",{enumerable:!0,writable:!0,value:function(e){a.setState({email:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleFirstName",{enumerable:!0,writable:!0,value:function(e){a.setState({firstName:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleLastName",{enumerable:!0,writable:!0,value:function(e){a.setState({lastName:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_handleSearch",{enumerable:!0,writable:!0,value:function(e){var t=e.target.value,n=a.props.users,r=0===t.length?n:a.searcher.search(t);a.setState({users:r})}}),Object.defineProperty(Object(T.a)(a),"_resendVerification",{enumerable:!0,writable:!0,value:function(e){var t=a.props,n=t.resendVerification,r=t.t,l=[],s=[];window.confirm("You are about to re-send a verification email to ".concat(e))&&n(e).then((function(t){t&&(s.push({message:"A verification email has been sent to ".concat(e,".")}),a.setState({successMessages:s}))})).catch((function(e){Array.isArray(e)?l=l.concat(e):l.push({message:r("translation.generalError")}),a.setState({errorMessages:l})}))}}),Object.defineProperty(Object(T.a)(a),"_submit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault(),a.setState({attemptSubmit:!0},(function(){var e=[],t=[],n=a.props,r=n.details,l=n.registerFleetMember,s=n.t,c=a.state,i=c.email,o=c.firstName,m=c.lastName;l({fleet_id:r.fleet_id,email:i,fname:o,lname:m,country:"Philippines"}).then((function(e){e&&(t.push({message:"A new member has been created. A verification has been sent to his email."}),a.setState({attemptSubmit:!1,mdlCreation:!1,successMessages:t},a._getUsers))})).catch((function(t){Array.isArray(t)?e=e.concat(t):e.push({message:s("translation.generalError")}),a.setState({errorMessages:e,attemptSubmit:!1})}))}))}}),Object.defineProperty(Object(T.a)(a),"_toggle",{enumerable:!0,writable:!0,value:function(){var e=a.state.mdlCreation;a.setState({mdlCreation:!e,email:null,firstName:null,lastName:null})}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.state,t=e.attemptSubmit,n=e.email,r=e.firstName,l=e.lastName,s=e.mdlCreation,c=e.errorMessages,i=e.isFetchingUsers,o=e.successMessages,m=e.users;return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{noGutters:!0,className:"page-header py-4"},E.a.createElement(Jn,{lg:"6",title:"Users",subtitle:"All",className:"text-sm-left"}),E.a.createElement(k.i,{lg:"2",className:"my-auto form-group text-right"},E.a.createElement(k.c,{onClick:a._toggle,className:"mr-2",size:"sm",theme:"success"},E.a.createElement("i",{className:"material-icons"},"person_add")," Add Member")),E.a.createElement(k.i,{lg:"4",className:"d-flex ml-auto my-auto form-group"},E.a.createElement(k.y,{seamless:!0},E.a.createElement(k.z,{type:"prepend"},E.a.createElement(k.A,null,E.a.createElement("i",{className:"material-icons"},"search"))),E.a.createElement(k.u,{placeholder:"Search by name or email",onChange:a._handleSearch})))),E.a.createElement(k.N,{form:!0},E.a.createElement(k.i,{lg:"12"},E.a.createElement(Pa,{successMessages:o}),E.a.createElement(Po,{events:{resendVerification:a._resendVerification},isFetching:i,users:m}))),E.a.createElement(wo,{attemptSubmit:t,data:{email:n,firstName:r,lastName:l},errorMessages:c,events:{handleFirstName:a._handleFirstName,handleLastName:a._handleLastName,handleEmail:a._handleEmail,submit:a._submit},open:s,toggle:a._toggle}))}}),a._isMounted=!1,a.searcher=null,a.state={attemptSubmit:!1,errorMessages:[],successMessages:[],isFetchingUsers:!0,users:[],mdlCreation:!1,email:null,firstName:null,lastName:null},a}return Object(j.a)(t,e),Object(x.a)(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}}]),t}(h.Component),Io=Object(A.b)()(Object(v.b)((function(e){return{details:e.profilesReducer.details,user:e.authenticationReducer.user,users:e.usersReducer.users}}),{getAccountDetails:To,getUsers:jo,registerFleetMember:_o,resendVerification:Mo})(ko)),Do=function(e){var t=e.events,a=e.data,n=t.handlePrice,r=t.handleVehicleTypePrice,l=a.oilTypes,s=a.otherService,c=a.otherPrices,i=a.vehicleTypes;return E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0 text-capitalize"},s.name," - Pricing")),E.a.createElement(k.f,{className:"px-4"},"oil"===s.type?E.a.createElement(k.B,{flush:!0},E.a.createElement(k.C,null,E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"6"},E.a.createElement("strong",null,"Labor"),E.a.createElement(k.q,{className:"mt-3"},i.length?i.map((function(e,t){var a=null;c&&(a=c.labor_prices);var n=a?a.find((function(t){return e===t.car_type})):null;return E.a.createElement(k.N,{key:t,form:!0},E.a.createElement(k.i,{lg:"8",className:"form-group"},E.a.createElement("label",{className:"text-capitalize text-light",htmlFor:"txtPriceVehicle".concat(t)},e)),E.a.createElement(k.i,{lg:"4"},E.a.createElement(k.u,{id:"txtPriceVehicle".concat(t),type:"number",placeholder:"Price",onChange:function(t){r(t,e)},defaultValue:n?n.price:""})))})):null)),E.a.createElement(k.i,{lg:"6"},E.a.createElement("strong",null,"Engine Oil Type"),E.a.createElement("p",null,E.a.createElement("small",null,"(Price/Liter)")),E.a.createElement(k.q,{className:"mt-3"},l.length?l.map((function(e,t){var a=null;return c&&c.oil_prices&&c.oil_prices.values&&(a=c.oil_prices.values[e]),E.a.createElement(k.N,{key:t,form:!0},E.a.createElement(k.i,{lg:"8",className:"form-group"},E.a.createElement("label",{className:"text-capitalize text-light",htmlFor:"txtPriceOil".concat(t)},e)),E.a.createElement(k.i,{lg:"4"},E.a.createElement(k.u,{id:"txtPriceOil".concat(t),type:"number",placeholder:"Price",onChange:function(t){n(t,e)},defaultValue:a||""})))})):null))))):null),E.a.createElement(k.g,null))};Do.defaultProps={data:null};var Ro=Object(A.b)()(Do),Bo=o.getOilTypes,Fo=o.getPmsOthersItem,Lo=o.getPmsOtherPrices,qo=o.getPmsOthersLaborPrices,zo=o.savePmsOthersData,Qo=o.getVehicleTypes,Vo=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.getOilTypes,n=e.getPmsOthersItem,r=e.getPmsOtherPrices,l=e.getVehicleTypes,s=a._getType();t().catch((function(e){return console.log(e)})),l().catch((function(e){return console.log(e)})),n(s).then((function(e){r(e.id).then((function(e){a.setState({values:e.oil_prices?e.oil_prices.values:{}})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_getType",{enumerable:!0,writable:!0,value:function(){return a.props.match.params.type}}),Object.defineProperty(Object(T.a)(a),"_handlePrice",{enumerable:!0,writable:!0,value:function(e,t){var n=a.state.values;n[t]=e.target.value,a.setState({values:n})}}),Object.defineProperty(Object(T.a)(a),"_handleVehicleTypePrice",{enumerable:!0,writable:!0,value:function(e,t){var n=a.state.vehicleTypePrices;n[t]=e.target.value,a.setState({vehicleTypePrices:n})}}),Object.defineProperty(Object(T.a)(a),"_submit",{enumerable:!0,writable:!0,value:function(e){e.preventDefault();var t=a.props,n=t.otherService,r=t.savePmsOthersData,l=t.t,s=a.state,c=s.values,i=s.vehicleTypePrices,o=[],m=[];r({pms_others_id:n.id,values:c,labor_prices:i}).then((function(e){e&&(m.push({message:"This service has been successfully updated."}),a.setState({successMessages:m}))})).catch((function(e){Array.isArray(e)?o=o.concat(e):o.push({message:l("translation.generalError")}),a.setState({errorMessages:o,attemptSubmit:!1})}))}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.oilTypes,n=e.otherService,r=e.otherPrices,l=e.vehicleTypes,s=a.state,c=s.errorMessages,i=s.successMessages;return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{noGutters:!0,className:"page-header py-4"},E.a.createElement(Jn,{lg:"8",title:n?"Manage ".concat(n.name):"Manage Other Services",subtitle:"Other Services",className:"text-sm-left"}),E.a.createElement(k.i,{lg:"4",className:"d-flex ml-auto my-auto"},E.a.createElement(Te.a,{to:"/services/preventive",className:"btn btn-white mx-auto mr-lg-3"},"\u2190 Go Back"),E.a.createElement(k.c,{theme:"success",className:"mr-sm-0",onClick:a._submit},E.a.createElement("i",{className:"material-icons"},"edit")," Save Changes"))),t&&n?E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},E.a.createElement(Pa,{errorMessages:c,successMessages:i}),E.a.createElement(Ro,{events:{handlePrice:a._handlePrice,handleVehicleTypePrice:a._handleVehicleTypePrice},data:{oilTypes:t,otherService:n,otherPrices:r,vehicleTypes:l}}))):null)}}),a.state={errorMessages:[],successMessages:[],values:{},vehicleTypePrices:{}},a}return Object(j.a)(t,e),t}(h.Component),Uo=Object(A.b)()(Object(v.b)((function(e){return{oilTypes:e.servicesReducer.oilTypes,otherService:e.servicesReducer.otherService,otherPrices:e.servicesReducer.otherPrices,pmsOthersLaborPrices:e.servicesReducer.pmsOthersLaborPrices,vehicleTypes:e.servicesReducer.vehicleTypes}}),{getOilTypes:Bo,getPmsOthersItem:Fo,getPmsOtherPrices:Lo,getPmsOthersLaborPrices:qo,savePmsOthersData:zo,getVehicleTypes:Qo})(Vo)),Ho=n.getAllNotifications,Yo=n.readAllNotifications,Go=function(e){function t(){var e,a,n;Object(P.a)(this,t);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return Object(w.a)(n,(a=n=Object(w.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(l))),Object.defineProperty(Object(T.a)(n),"componentDidMount",{enumerable:!0,writable:!0,value:function(){var e=n.props,t=e.getAllNotifications;(0,e.readAllNotifications)().then((function(){t().catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}}),Object.defineProperty(Object(T.a)(n),"render",{enumerable:!0,writable:!0,value:function(){var e=n.props.allNotifications;return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{noGutters:!0,className:"page-header py-4"},E.a.createElement(Jn,{sm:"4",title:"Notifications",subtitle:"Application",className:"page-header__text text-sm-left"})),E.a.createElement(k.N,{className:"page-body"},E.a.createElement(k.i,{lg:"12"},E.a.createElement(k.e,{small:!0,className:"carlist-container mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},"Notifications List")),E.a.createElement(k.f,null,E.a.createElement(k.k,{fluid:!0},E.a.createElement("div",{className:"datatable datatable--plain"},e.map((function(e,t){var a=e.data,n=(e.read_at,e.created_at);return E.a.createElement(Te.a,{to:a.href,key:t},E.a.createElement("div",{className:"notification__content position-relative border-bottom p-3"},E.a.createElement("span",{className:"mb-0 notification__category text-capitalize"},void 0!==a.request&&"new ".concat(a.request.type," request"),void 0!==a.estimate&&"estimation",void 0!==a.appointment&&"new appointment",void 0!==a.application&&"activation requirements"),E.a.createElement("p",{className:"mb-0 text-muted"},E.a.createElement("small",null,L()(n).fromNow())),E.a.createElement("p",{className:"mb-0 text-secondary"},a.message)))})))))))))}}),a))}return Object(j.a)(t,e),t}(h.Component),Wo=Object(A.b)()(Object(v.b)((function(e){return{allNotifications:e.menuReducer.allNotifications}}),{getAllNotifications:Ho,readAllNotifications:Yo})(Go)),Xo=["Extremely Poor","Bad","Average","Good","Excellent"],Ko=function(e){var t=e.current,a=e.data,n=e.errorMessages,r=e.events,l=e.maxPages,s=e.open,c=e.toggle,i=e.validated;return E.a.createElement(k.D,{centered:!0,fade:!0,open:s,role:"dialog",size:"lg",toggle:c},E.a.createElement(k.G,{closeAriaLabel:"Close",toggle:c},"Finalize Appointment"),E.a.createElement(k.E,{className:"pt-3",style:{height:400,overflow:"auto"}},E.a.createElement("div",{className:"progress-wrapper mb-3"},E.a.createElement("div",{className:"progress-label"},"Completion Progress"),E.a.createElement(k.M,{className:"progress-sm",max:l,striped:!0,value:t+1},E.a.createElement("span",{className:"progress-value"},"".concat(t+1," / ").concat(l)))),n.map((function(e,t){return E.a.createElement(k.a,{key:t,fade:!0,theme:"danger",className:"outline-danger rounded"},E.a.createElement("p",{className:"mb-0"},e.message))})),0===t?E.a.createElement("div",{className:"text-center"},E.a.createElement("h5",null,"Additional Work Items"),E.a.createElement("small",null,"If there were additional work items, provide theme here."),E.a.createElement(k.N,{className:"mt-3 mb-3"},E.a.createElement(k.i,{className:"mx-auto",lg:"9"},E.a.createElement($r.a,{value:a.additionalItems||[],onChange:r.handleAdditionalItems,inputProps:{placeholder:"Add items?"}}))),E.a.createElement("h5",null,"Rate ","vendor"===a.user_type?"Customer":"Vendor"," ",E.a.createElement("span",{className:"text-danger"},"*")),E.a.createElement(k.N,{className:"mt-3"},E.a.createElement(k.i,{lg:"9",className:"mx-auto mb-3"},E.a.createElement(k.d,{size:"lg"},Xo.map((function(e,t){return E.a.createElement(k.c,{key:t,title:e,theme:"light",onClick:function(){return r.rate(t+1)}},E.a.createElement("i",{className:"material-icons text-".concat(a.rate>=0&&a.rate<=t?"dark":"warning")},a.rate>=0&&a.rate<=t?"star_border":"star"))}))),E.a.createElement("h4",{className:"mt-3 font-weight-bold"},Xo[a.rate-1]||"")))):1===t?E.a.createElement("div",{className:"text-center"},E.a.createElement("h5",null,"Feedback ",E.a.createElement("span",{className:"text-danger"},"*")),E.a.createElement("small",null,"Provide additional details for the rating provided."),E.a.createElement(k.N,{className:"mt-3"},E.a.createElement(k.i,{lg:"9",className:"mx-auto mb-3"},E.a.createElement(k.x,{value:a.feedback||"",onChange:r.handleFeedback,placeholder:"Please provide feedback, suggestions and comments."})))):null),E.a.createElement(k.F,{className:"d-block"},E.a.createElement(k.N,null,E.a.createElement(k.i,{className:"text-align-left",lg:"6"},E.a.createElement(k.d,null,E.a.createElement(k.c,{disabled:0===t,theme:"primary",onClick:r.previous},"\xab Previous"),E.a.createElement(k.c,{disabled:t===l-1,theme:"primary",onClick:r.next},"Next \xbb"))),E.a.createElement(k.i,{className:"d-flex justify-content-end",lg:"6"},E.a.createElement(k.d,null,E.a.createElement(k.c,{disabled:!i,theme:"success",onClick:r.submit},E.a.createElement("div",null,E.a.createElement("span",{className:"text-white"},E.a.createElement("i",{className:"material-icons"},"check"))," ","Done")),E.a.createElement(k.c,{onClick:c,theme:"white"},E.a.createElement("span",null,E.a.createElement("i",{className:"material-icons"},"close"))," ","Cancel"))))))};Ko.defaultProps={current:0,data:{},errorMessages:[],events:{},maxPages:2,open:!1,validated:!1};var Jo=Object(A.b)()(Ko),Zo=u.getAppointment,$o=u.cancelAppointment,em=u.startAppointment,tm=u.completeAppointment,am=u.rateCustomer,nm=u.rateShop,rm=c.getRepairHistory,lm={cancelled:"danger",pending:"secondary",approved:"success",started:"primary",completed:"success"},sm={cancelled:0,pending:25,approved:50,started:75,completed:100},cm=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(w.a)(this,Object(_.a)(t).call(this,e)),Object.defineProperty(Object(T.a)(a),"componentDidMount",{enumerable:!0,writable:!0,value:function(){a._getAppointment()}}),Object.defineProperty(Object(T.a)(a),"_start",{enumerable:!0,writable:!0,value:function(){if(window.confirm("Are you sure you want to start the appointment?")){var e=a.props;(0,e.startAppointment)(e.match.params.id).then(a._getAppointment).catch((function(e){return console.log(e)}))}}}),Object.defineProperty(Object(T.a)(a),"_cancel",{enumerable:!0,writable:!0,value:function(){if(window.confirm("Are you sure you want to cancel this appointment?")){var e=a.props;(0,e.cancelAppointment)(e.match.params.id).then(a._getAppointment).catch((function(e){return console.log(e)}))}}}),Object.defineProperty(Object(T.a)(a),"_complete",{enumerable:!0,writable:!0,value:function(){if(window.confirm("Are you sure you want to complete this appointment?")){var e=a.props;(0,e.completeAppointment)(e.match.params.id).then(a._getAppointment).catch((function(e){return console.log(e)}))}}}),Object.defineProperty(Object(T.a)(a),"_next",{enumerable:!0,writable:!0,value:function(){var e=a.state.menuIndex;a.setState({menuIndex:e+1})}}),Object.defineProperty(Object(T.a)(a),"_previous",{enumerable:!0,writable:!0,value:function(){var e=a.state.menuIndex;a.setState({menuIndex:e-1})}}),Object.defineProperty(Object(T.a)(a),"_handleAdditionalItems",{enumerable:!0,writable:!0,value:function(e){a.setState({additionalItems:e})}}),Object.defineProperty(Object(T.a)(a),"_handleFeedback",{enumerable:!0,writable:!0,value:function(e){a.setState({feedback:e.target.value})}}),Object.defineProperty(Object(T.a)(a),"_rate",{enumerable:!0,writable:!0,value:function(e){a.setState({rate:e})}}),Object.defineProperty(Object(T.a)(a),"_rateCustomer",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.rateCustomer,n=e.match.params.id,r=e.appointment.estimate,l=r.customer_id,s=r.shop,c=a.state,i=c.rate,o=c.feedback,m=c.additionalItems;t(n,{shop_id:s.id,for_customer_id:l,rating:i,description:o,additional_work_items:m}).then((function(){a._getAppointment(),a._toggleModal(),a.setState({successMessages:[{message:"Rating has been submitted!"}]})})).catch((function(e){return console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_rateShop",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.rateShop,n=e.match.params.id,r=e.appointment.estimate.shop,l=a.state,s=l.rate,c=l.feedback,i=l.additionalItems;t(n,{for_shop_id:r.id,rating:s,description:c,additional_work_items:i}).then((function(){a._getAppointment(),a._toggleModal(),a.setState({successMessages:[{message:"Rating has been submitted!"}]})})).catch((function(e){return console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_getAppointment",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.getAppointment,n=e.getRepairHistory;t(e.match.params.id).then((function(e){n(e.car_id).then((function(){a.setState({isFetchingRepairHistory:!1})})).catch((function(e){return console.log(e)})),a.setState({isFetchingAppointment:!1})})).catch((function(e){return console.log(e)}))}}),Object.defineProperty(Object(T.a)(a),"_toggleModal",{enumerable:!0,writable:!0,value:function(){var e=a.state.mdlAppointment;a.setState({mdlAppointment:!e})}}),Object.defineProperty(Object(T.a)(a),"render",{enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.appointment,n=e.user,r=e.history,l=a.state,s=l.mdlAppointment,c=l.menuIndex,i=l.isFetchingRepairHistory,o=l.additionalItems,m=l.rate,u=l.feedback,d=l.successMessages,p=l.errorMessages,h=m>0&&null!==u;return E.a.createElement(k.k,{fluid:!0,className:"main-content-container px-4"},E.a.createElement(k.N,{noGutters:!0,className:"page-header py-4"},E.a.createElement(Jn,{sm:"4",title:"Appointment",subtitle:"Scheduled",className:"text-sm-left"}),E.a.createElement(k.i,{sm:"4",className:"d-flex ml-auto my-auto"},E.a.createElement(Te.a,{className:"btn btn-white mx-auto ml-sm-auto mr-sm-0 mr-lg-3",to:"/appointments"},"\u2190 Go Back"),t&&E.a.createElement(E.a.Fragment,null,"approved"===t.status&&"vendor"===n.user_type&&E.a.createElement(k.c,{theme:"info",className:"mr-sm-0 mr-lg-3",onClick:a._start},E.a.createElement("i",{className:"material-icons"},"done")," Start Job"),"started"===t.status&&"vendor"===n.user_type&&E.a.createElement(k.c,{theme:"success",className:"mr-sm-0 mr-lg-3",onClick:a._complete},E.a.createElement("i",{className:"material-icons"},"done")," Mark as Done"),null===t.customer_rating&&"completed"===t.status&&"customer"===n.user_type&&E.a.createElement(k.c,{theme:"warning",className:"mr-sm-0 mr-lg-3 text-white",onClick:a._toggleModal},E.a.createElement("i",{className:"material-icons"},"star")," Rate Shop"),null!==t.customer_rating&&null===t.shop_rating&&"completed"===t.status&&"vendor"===n.user_type&&E.a.createElement(k.c,{theme:"warning",className:"mr-sm-0 mr-lg-3 text-white",onClick:a._toggleModal},E.a.createElement("i",{className:"material-icons"},"star")," Rate Customer"),"completed"!==t.status&&"vendor"===n.user_type&&L()(new Date)<=L()(t.scheduled_date).subtract(2,"d")?E.a.createElement(k.c,{theme:"danger",className:"mr-sm-0",onClick:a._cancel},E.a.createElement("i",{className:"material-icons"},"close")," Cancel"):null))),E.a.createElement(k.N,null,E.a.createElement(k.i,null,E.a.createElement(Pa,{successMessages:d,errorMessages:p}))),t&&E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"4"},E.a.createElement(Ri,{car:t.estimate.request.car}),E.a.createElement(vs,{shop:t.estimate.shop})),E.a.createElement(k.i,{lg:"8"},E.a.createElement(k.e,{className:"mb-4"},E.a.createElement(k.f,null,E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"6",className:"pb-3 pt-2"},E.a.createElement("div",{className:"progress-wrapper"},E.a.createElement("div",{className:"progress-label text-capitalize"},"Current Status:"," ",E.a.createElement("span",{className:"text-".concat(lm[t.status])},t.status)),E.a.createElement(k.M,{className:"progress-sm",value:"".concat(sm[t.status]),striped:!0},E.a.createElement("span",{className:"progress-value"},sm[t.status],"%")))),E.a.createElement(k.i,{lg:"3"},E.a.createElement("p",{className:"text-center mb-0"},L()(t.scheduled_date).format("MMM DD, YYYY")," ","- ",t.scheduled_time),E.a.createElement("p",{className:"text-center mb-0"},E.a.createElement("small",null,L()(t.scheduled_date).format("dddd")))),E.a.createElement(k.i,{lg:"3"},E.a.createElement("h6",{className:"text-center mb-0 text-success font-weight-bold"},Ie.format(t.estimate.total)),E.a.createElement("p",{className:"text-center mb-0"},E.a.createElement("small",null,"Total")))))),"preventive"===t.estimate.request.type&&E.a.createElement(fc,{pms:t.estimate.request.pms_request.pms}),"other services"===t.estimate.request.type&&E.a.createElement(k.e,{small:!0,className:"mb-4"},E.a.createElement(k.h,{className:"border-bottom"},E.a.createElement("h6",{className:"m-0"},"Other PMS Service - Details")),E.a.createElement(k.f,{className:"px-4"},E.a.createElement(k.N,null,E.a.createElement(k.i,{lg:"12"},E.a.createElement("strong",null,"Change Oil Service")))),E.a.createElement(k.g,null)),E.a.createElement(Gi,{isFetching:i,history:r}))),E.a.createElement(Jo,{current:c,data:{additionalItems:o,rate:m,feedback:u,user_type:n.user_type},open:s,toggle:a._toggleModal,events:{next:a._next,previous:a._previous,handleAdditionalItems:a._handleAdditionalItems,handleFeedback:a._handleFeedback,rate:a._rate,submit:"vendor"===n.user_type?a._rateCustomer:a._rateShop},validated:h}))}}),a.state={errorMessages:[],successMessages:[],additionalItems:[],isFetchingAppointment:!0,isFetchingRepairHistory:!0,mdlAppointment:!1,feedback:null,rate:0,menuIndex:0},a}return Object(j.a)(t,e),t}(h.Component),im=Object(A.b)()(Object(v.b)((function(e){return{appointment:e.appointmentsReducer.appointment,user:e.sessionReducer.user,history:e.carProfilesReducer.history}}),{getAppointment:Zo,cancelAppointment:$o,startAppointment:em,getRepairHistory:rm,completeAppointment:tm,rateCustomer:am,rateShop:nm})(cm)),om=[{path:"/",protected:!0,layout:ca,component:function(){return E.a.createElement(y.a,{to:"/dashboard"})}},{path:"/logout",protected:!0,layout:ca,component:function(){return E.a.createElement(y.a,{to:"/login"})}},{path:"/forgot-password",protected:!1,layout:ca,component:fa},{path:"/password-reset",protected:!1,layout:ca,component:va},{path:"/customer-registration",protected:!1,layout:ca,component:ja},{path:"/shop-registration",protected:!1,layout:ca,component:Da},{path:"/fleet-registration",protected:!1,layout:ca,component:La},{path:"/login",protected:!1,layout:ca,component:ha},{path:"/f/register",protected:!1,layout:ca,component:qa},{path:"/profile",protected:!0,layout:sa,component:Yn},{path:"/notifications",protected:!0,layout:sa,component:Wo},{path:"/top-up",protected:!0,layout:sa,component:cr},{path:"/settings",protected:!0,layout:sa,component:Kn},{path:"/dashboard",protected:!0,layout:sa,component:ur},{path:"/appointments",protected:!0,layout:sa,component:rs},{path:"/appointment/:id",protected:!0,layout:sa,component:im},{path:"/requests",protected:!0,layout:sa,component:Al},{path:"/estimates",protected:!0,layout:sa,component:Ll},{path:"/shops",protected:!0,layout:sa,component:gs},{path:"/shop/:slug",protected:!0,layout:sa,component:js},{path:"/shop/:slug/manage",protected:!0,layout:sa,component:Fs},{path:"/shop/:slug/documents",protected:!0,layout:sa,component:Gs},{path:"/services/corrective",protected:!0,layout:sa,component:tc},{path:"/services/preventive",protected:!0,layout:sa,component:gc},{path:"/services/preventive/mileage-:mileage",protected:!0,layout:sa,component:xc},{path:"/services/preventive/service-:type",protected:!0,layout:sa,component:Uo},{path:"/cars",protected:!0,layout:sa,component:ii},{path:"/cars/new",protected:!0,layout:sa,component:Di},{path:"/car/:id/schedule",protected:!0,layout:sa,component:lo},{path:"/members",protected:!0,layout:sa,component:Io},{path:"/system/users",protected:!0,layout:sa,component:Io},{path:"/system/shops",protected:!0,layout:sa,component:ho},{path:"/system/shop/:slug/requirements",protected:!0,layout:sa,component:Ao},{path:"/system/reports",protected:!0,layout:sa,component:oa},{path:"/loyalty",protected:!0,layout:sa,component:oa},{path:"/promotions",protected:!0,layout:sa,component:oa},{path:"/referrals",protected:!0,layout:sa,component:oa},{path:null,layout:ca,component:ia}],mm=a(67),um=a(209),dm=a(210),pm=a.n(dm),hm=Object(mm.c)({sessionReducer:Ue.sessionReducer,authenticationReducer:Ot,estimatesReducer:Ol,servicesReducer:zr,shopsReducer:sn,profilesReducer:Xa,carProfilesReducer:Pn,requestsReducer:br,estimateWizardReducer:Bc,appointmentsReducer:Xl,menuReducer:tt,usersReducer:So}),Em=function(e,t){return t.type===mt&&(e=void 0),hm(e,t)},gm=Object(mm.d)(Object(mm.a)(um.a,pm.a)),fm=Object(mm.e)(Em,gm);Ue.sessionService.initSessionService(fm,{redirectPath:"/",driver:"COOKIES"});var bm=fm,Am=a(139),vm=a(211),Nm=a.n(vm),ym=a(212),Sm=a(213),Cm=a(214),Om=a(215);Am.a.use(ym.a).use(Nm.a).init({nsSeparator:".",debug:!1,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},resources:{en:{common:Sm,translation:Cm,validation:Om}},ns:["common","translation","validation"],defaultNS:"translation"});var Pm=Am.a,xm=a(113);xm.a.initialize(Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_GAID||"UA-115105611-2");var wm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=function(e){xm.a.set(Object(we.a)({page:e},t)),xm.a.pageview(e)},n=Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_BASENAME||"",r=function(t){function r(){var t,l,s;Object(P.a)(this,r);for(var c=arguments.length,i=new Array(c),o=0;o<c;o++)i[o]=arguments[o];return Object(w.a)(s,(l=s=Object(w.a)(this,(t=Object(_.a)(r)).call.apply(t,[this].concat(i))),Object.defineProperty(Object(T.a)(s),"componentDidMount",{enumerable:!0,writable:!0,value:function(){var e=s.props.location,t=e.pathname+e.search;a("".concat(n," - ").concat(t))}}),Object.defineProperty(Object(T.a)(s),"componentDidUpdate",{enumerable:!0,writable:!0,value:function(e){var t=s.props.location,r=t.pathname,l=t.search,c=e.location,i=r+l;c.pathname+c.search!==i&&a("".concat(n," - ").concat(i))}}),Object.defineProperty(Object(T.a)(s),"render",{enumerable:!0,writable:!0,value:function(){return E.a.createElement(e,s.props)}}),l))}return Object(j.a)(r,t),r}(h.Component);return r},_m=(a(400),function(e){var t=e.component,a=e.layout,n=Object(b.a)(e,["component","layout"]);return E.a.createElement(N.a,Object.assign({},n,{component:wm((function(e){return!0===bm.getState().sessionReducer.authenticated?E.a.createElement(a,e,E.a.createElement(t,e)):E.a.createElement(y.a,{to:{pathname:"/login",state:{from:e.location}}})}))}))});a(401),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a.render(E.a.createElement((function(){return E.a.createElement(A.a,{i18n:Pm},E.a.createElement(v.a,{store:bm},E.a.createElement(S.a,{basename:Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_BASENAME||""},E.a.createElement(C.a,null,om.map((function(e,t){return!0===e.protected?E.a.createElement(_m,{key:t,path:e.path,exact:!0,layout:e.layout,component:e.component}):E.a.createElement(N.a,{key:t,path:e.path,exact:!0,component:wm((function(t){return E.a.createElement(e.layout,t,E.a.createElement(e.component,t))}))})}))))))}),null),document.getElementById("app")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[221,1,2]]]);
//# sourceMappingURL=main.15428a3a.chunk.js.map