<div class="card">

    <div class="tab-content p-4">
        <div class="row">
            <div class="col-xl-6">
                <div class="form-group mb-3 w-200px">
                    <input type="text" class="form-control" placeholder="Search">
                </div>
            </div>

            <div class="col-xl-6">
                <div class="form-group mb-3" style="float: right!important;">
                    <select class="form-select" ng-model="pageSize">
                        <option value="10">10</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="tab-pane fade show active">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th scope="col">Transaction ID</th>
                            <th scope="col">Contact No.</th>
                            <th scope="col">Email</th>
                            <th scope="col">Estimate Cost</th>
                            <th scope="col">Controls</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr dir-paginate="estimate in estimates | filter:q | itemsPerPage: pageSize" current-page="currentPage">
                            <td class="text-center"><strong>{{$index+1}}</strong></td>
                            <td>{{estimate.key}}</td>
                            <td>{{estimate.mobileno}}</td>
                            <td>{{estimate.email}}</td>
                            <td>{{estimate.total}}</td>

                            <td class="w-200px">
                                <div class="btn-group btn-group-sm w-250px">
                                    <button type="button" class="btn btn-success w-80px" ng-click="viewestimate(estimate);"><i class="fas fa-calculator "> Update Estimate</i></button>

                                    <button type="button" class="btn btn-danger w-80px "><i class="fas fa-trash-alt "> Delete</i></button>
                                </div>
                            </td>

                    </tbody>
                </table>
            </div>


            <div class="d-md-flex align-items-center ">
                <div class="me-md-auto text-md-left text-center mb-2 mb-md-0 ">

                </div>

                <dir-pagination-controls boundary-links="true " on-page-change="pageChangeHandler(newPageNumber) ">

                </dir-pagination-controls>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="viewestimate" style="display: none;" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Estimate</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form ng-submit="submit()">
                    <div class="card-body">
                        <div class="accordion" id="accordionExample">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingOne">
                                    <button class="accordion-button collapsed " type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="false">
                                       A) Preventive Maintenance
                                    </button>
                                </h2>
                                <div id="collapse1" class="accordion-collapse collapse show" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        <table class="table table-striped table-bordered table-hover" width="100%">
                                            <tbody>
                                                <tr>
                                                    <td class="col-md-12">
                                                        <div class="btn-group btn-group-xs" style="float: right;">
                                                            <button type="button" class="btn  btn-danger btn-xs" ng-click="remtr()"><i class="fa fa-minus-circle"></i> DEL </button>
                                                            <button type="button" class="btn  btn-success btn-xs" ng-click="addtr()"> ADD <i class="fa fa-plus-circle"></i></button>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <table id="aind" class="table table-striped table-bordered table-hover" width="100%">
                                            <thead>
                                                <tr>
                                                    <th class="text-center th">Particulars</th>
                                                    <th class="text-center th">Description</th>
                                                    <th class="text-center th">Cost</th>
                                                </tr>
                                            </thead>
                                            <tbody id="aindadd">
                                                <tr class="row_to_clone" ng-repeat="qts in quotes.quotes.aa">
                                                    <td class="col-md-2">
                                                        <input class="form-control" type="text" ng-model="qts['Particulars']">
                                                    </td>
                                                    </td>

                                                    <td class="col-md-6">
                                                        <input class="form-control" type="text" ng-model="qts['Description']">
                                                    </td>
                                                    </td>
                                                    <td class="col-md-2">
                                                        <input class="form-control aintxt" type="text" ng-model="qts['Cost']" />
                                                    </td>
                                                </tr>
                                            </tbody>

                                        </table>
                                        <table class="table table-striped table-bordered table-hover" width="100%">
                                            <tbody>
                                                <tr>
                                                    <td class="col-md-8 " colspan="2">
                                                        <h4 style="float:right"><strong>Sub Total</strong>
                                                        </h4>
                                                    </td>
                                                    </h4>
                                                    <!-- <td class="col-md-6"></td> -->

                                                    <td class="col-md-2">
                                                        <h4><label class="ainsum"> <strong>
                                                        <span id="ainsum" class="stotal">â‚± 0.00</span></strong>
                                                    </label></h4>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingOne">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="false">
                                        B) Change Oil
                                    </button>
                                </h2>
                                <div id="collapse2" class="accordion-collapse collapse " data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        <table class="table table-striped table-bordered table-hover" width="100%">
                                            <tbody>
                                                <tr>
                                                    <td class="col-md-12">
                                                        <div class="btn-group btn-group-xs" style="float: right;">
                                                            <button type="button" class="btn  btn-danger btn-xs" ng-click="bpmremtr()"><i class="fa fa-minus-circle"></i> DEL </button>
                                                            <button type="button" class="btn  btn-success btn-xs" ng-click="bpmaddtr()"> ADD <i class="fa fa-plus-circle"></i></button>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <table id="bpm" class="table table-striped table-bordered table-hover" width="100%">
                                            <thead>
                                                <tr>
                                                    <th class="text-center th">Particulars</th>
                                                    <th class="text-center th">Description</th>
                                                    <th class="text-center th">Cost</th>
                                                </tr>
                                            </thead>
                                            <tbody id="bpmdadd">
                                                <tr class="row_to_clone" ng-repeat="qts in quotes.quotes.bb">
                                                    <td class="col-md-2">
                                                        <input class="form-control" type="text" ng-model="qts['Particulars']">
                                                    </td>
                                                    </td>

                                                    <td class="col-md-6">
                                                        <input class="form-control" type="text" ng-model="qts['Description']">
                                                    </td>
                                                    </td>
                                                    <td class="col-md-2">
                                                        <input class="form-control pmtxt" type="text" ng-model="qts['Cost']" />
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <table class="table table-striped table-bordered table-hover" width="100%">
                                            <tbody>
                                                <tr>
                                                    <td class="col-md-8 " colspan="2">
                                                        <h4 style="float:right"><strong>Sub Total</strong>
                                                        </h4>
                                                    </td>
                                                    </h4>
                                                    <!-- <td class="col-md-6"></td> -->

                                                    <td class="col-md-2">
                                                        <h4><label class="pmsum"> <strong>
                                                        <span id="pmsum" class="stotal">â‚± 0.00</span></strong>
                                                    </label></h4>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingOne">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3" aria-expanded="false">
                                        C) Wheel Alignment
                                    </button>
                                </h2>
                                <div id="collapse3" class="accordion-collapse collapse " data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        <table class="table table-striped table-bordered table-hover" width="100%">
                                            <tbody>
                                                <tr>
                                                    <td class="col-md-12">
                                                        <div class="btn-group btn-group-xs" style="float: right;">
                                                            <button type="button" class="btn  btn-danger btn-xs" ng-click="ccoremtr()"><i class="fa fa-minus-circle"></i> DEL </button>
                                                            <button type="button" class="btn  btn-success btn-xs" ng-click="ccoaddtr()"> ADD <i class="fa fa-plus-circle"></i></button>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <table id="cco" class="table table-striped table-bordered table-hover" width="100%">
                                            <thead>
                                                <tr>
                                                    <th class="text-center th">Particulars</th>
                                                    <th class="text-center th">Description</th>
                                                    <th class="text-center th">Cost</th>
                                                </tr>
                                            </thead>
                                            <tbody id="ccoadd">
                                                <tr class="row_to_clone" ng-repeat="qts in quotes.quotes.cc">
                                                    <td class="col-md-2">
                                                        <input class="form-control" type="text" ng-model="qts['Particulars']">
                                                    </td>
                                                    </td>

                                                    <td class="col-md-6">
                                                        <input class="form-control" type="text" ng-model="qts['Description']">
                                                    </td>
                                                    </td>
                                                    <td class="col-md-2">
                                                        <input class="form-control ccotxt" type="text" ng-model="qts['Cost']" />
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <table class="table table-striped table-bordered table-hover" width="100%">
                                            <tbody>
                                                <tr>
                                                    <td class="col-md-8 " colspan="2">
                                                        <h4 style="float:right"><strong>Sub Total</strong>
                                                        </h4>
                                                    </td>
                                                    </h4>
                                                    <!-- <td class="col-md-6"></td> -->

                                                    <td class="col-md-2">
                                                        <h4><label class="ccosum"> <strong>
                                                        <span id="ccosum" class="stotal">â‚± 0.00</span></strong>
                                                    </label></h4>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <table class="table table-striped table-bordered table-hover" width="100%">
                                <tbody>
                                    <tr>
                                        <td class="col-md-8 " colspan="2">
                                            <h4 style="float:right"><strong>Total</strong>
                                            </h4>
                                        </td>
                                        <td class="col-md-2">
                                            <label class="grandt"> <strong>
                                            <span id="grandt">â‚± 0.00</span></strong>
                                        </label>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-md-8 " colspan="2">
                                            <h6 style="float:right"><strong>Vat (12%)</strong>
                                            </h6>
                                        </td>
                                        <td class="col-md-2">
                                            <label class="gvat"> <strong>
                                            <span id="gvat">â‚± 0.00</span></strong>
                                        </label>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-md-8 " colspan="2">
                                            <h6 style="float:right"><strong>Grand Total</strong>
                                            </h6>
                                        </td>
                                        <td class="col-md-2">
                                            <h6> <label class="grandtnvat"> <strong>
                                            <span id="tgvat">â‚± 0.00</span></strong>
                                        </label></h6>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <footer class="modal-footer">
                        <button type="submit" class="btn btn-success" ng-click="unsestimate();">UPDATE & RE-SEND</button>
                        <button type="submit" class="btn btn-primary" ng-click="upestimate();">UPDATE ONLY</button>
                        <button type="submit" class="btn btn-warning" ng-click="convert2jo();">CONVERT TO J.O</button>
                    </footer>
                </form>
            </div>
        </div>
    </div>
</div>